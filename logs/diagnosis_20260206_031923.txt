======================================================================
  å®ç›˜ä¿¡å·è¯Šæ–­å·¥å…· v2.7.0 (v3.18 è®¢å•æµç¨‹æ¨¡æ‹Ÿ)
  åŸºäº TradingAgents v3.12 æ¶æ„
======================================================================

[1/31] æœåŠ¡è¿è¡ŒçŠ¶æ€æ£€æŸ¥

  ğŸ“Š Systemd æœåŠ¡çŠ¶æ€:
     â“ nautilus-trader: 

  ğŸ“‹ æœ€è¿‘æ—¥å¿—é”™è¯¯ç»Ÿè®¡:
     âœ… ERROR: 0
     âœ… WARNING: 0

  ğŸ’¾ è¿›ç¨‹èµ„æºä½¿ç”¨:
     â„¹ï¸ æœªæ‰¾åˆ°è¿è¡Œä¸­çš„è¿›ç¨‹

[2/31] API å¥åº·æ£€æŸ¥ (å“åº”æ—¶é—´)

  ğŸŒ API å“åº”æ—¶é—´æµ‹è¯•:
     ğŸ”´ Binance Futures: HTTPSConnectionPool(host='fapi.binance.com', port=
     ğŸ”´ Binance Spot: HTTPSConnectionPool(host='api.binance.com', port=4
     ğŸŸ¡ DeepSeek API: HTTPSConnectionPool(host='api.deepseek.c
     â„¹ï¸ Coinalyze API: æœªé…ç½® key

[3/31] å…³é”®é…ç½®æ£€æŸ¥
----------------------------------------------------------------------
  âœ… load_all=True
  âœ… reconciliation=True
  âœ… SL/TP å­—æ®µåæ­£ç¡®
  âœ… æ‰€æœ‰å…³é”®é…ç½®æ£€æŸ¥é€šè¿‡

[4/31] MTF å¤šæ—¶é—´æ¡†æ¶é…ç½®æ£€æŸ¥
----------------------------------------------------------------------
  âœ… MTF å¤šæ—¶é—´æ¡†æ¶: å·²å¯ç”¨
     è¶‹åŠ¿å±‚ (Trend): 1d (SMA_200)
     å†³ç­–å±‚ (Decision): 4h
       debate_rounds: 2
       include_trend_context: True
     æ‰§è¡Œå±‚ (Execution): 15m
  âœ… MTF åˆå§‹åŒ–é…ç½®å­˜åœ¨
     trend_min_bars: 220
     decision_min_bars: 60
     execution_min_bars: 40
  âœ… MultiTimeframeManager æ¨¡å—å­˜åœ¨
  âš ï¸ MultiTimeframeManager å¯¼å…¥å¤±è´¥: No module named 'nautilus_trader'

  âœ… Order Flow: å·²å¯ç”¨
     Binance enabled: False
     Coinalyze enabled: True
     âš ï¸ Coinalyze å·²å¯ç”¨ä½†ç¼ºå°‘ API key

[5/31] ä» main_live.py åŠ è½½çœŸå®é…ç½®
[PATCH] apply_all_patches() starting...
[PATCH] Step 1: Importing binance_positions module...
[PATCH] Loading binance_positions.py patch module...
[PATCH] ERROR: aiohttp is not installed!
[PATCH] ERROR: aiohttp is not installed!
[PATCH] Step 2: Applying BinanceSymbolFilterType patch...
[PATCH] apply_all_patches() completed, success=False
[PATCH] apply_all_patches() starting...
[PATCH] Step 1: Importing binance_positions module...
[PATCH] ERROR: aiohttp is not installed!
[PATCH] Step 2: Applying BinanceSymbolFilterType patch...
[PATCH] apply_all_patches() completed, success=False
  âŒ é…ç½®åŠ è½½å¤±è´¥: No module named 'nautilus_trader'
  âŒ Step failed: ä» main_live.py åŠ è½½çœŸå®é…ç½®

[6/31] è·å–å¸‚åœºæ•°æ® (Binance Futures)
  âŒ è·å–å¸‚åœºæ•°æ®å¤±è´¥: HTTPSConnectionPool(host='fapi.binance.com', port=443): Max retries exceeded with url: /fapi/v1/klines?symbol=BTCUSDT&interval=15m&limit=100 (Caused by ProxyError('Unable to connect to proxy', OSError('Tunnel connection failed: 403 Forbidden')))
  âŒ Step failed: è·å–å¸‚åœºæ•°æ® (Binance Futures)

[7/31] è·å–æƒ…ç»ªæ•°æ®
  âš ï¸ æƒ…ç»ªæ•°æ®è·å–å¤±è´¥: 'NoneType' object has no attribute 'sentiment_lookback_hours'

[8/31] åˆå§‹åŒ– TechnicalIndicatorManager
  âŒ TechnicalIndicatorManager å¤±è´¥: No module named 'nautilus_trader'
  âŒ Step failed: åˆå§‹åŒ– TechnicalIndicatorManager

[9/31] è·å–æŠ€æœ¯æ•°æ® (æ¨¡æ‹Ÿ on_timer æµç¨‹)
  âŒ æŠ€æœ¯æ•°æ®è·å–å¤±è´¥: 'NoneType' object has no attribute 'get_technical_data'
  âŒ Step failed: è·å–æŠ€æœ¯æ•°æ® (æ¨¡æ‹Ÿ on_timer æµç¨‹)

[10/31] æ„å»ºä»·æ ¼æ•°æ®
  âŒ ä»·æ ¼æ•°æ®æ„å»ºå¤±è´¥: 'NoneType' object has no attribute 'get_kline_data'
  âŒ Step failed: æ„å»ºä»·æ ¼æ•°æ®

[11/31] æ£€æŸ¥ Binance çœŸå®æŒä»“
----------------------------------------------------------------------
  ğŸ“Š æ æ†å€æ•° (from Binance): 1x
  âœ… æ— æŒä»“

  ğŸ“Š è´¦æˆ·èµ„é‡‘è¯¦æƒ…:
     æ€»ä½™é¢:       $0.00
     å¯ç”¨ä½™é¢:     $0.00
     å·²ç”¨ä¿è¯é‡‘:   $0.00
     ä¿è¯é‡‘ç‡:     0.0%
     æ€»æœªå®ç°PnL:  $0.00

  ğŸ“Š v4.8 ä»“ä½è®¡ç®—å‚æ•°:
     equity: $0.00
     leverage: 1x
     max_position_ratio: 30%
     max_position_value: $0.00

  âš ï¸ ç»„åˆé£é™©:
     å®¹é‡ä½¿ç”¨ç‡: 0.0%
     åŠ ä»“å»ºè®®: âœ… å¯å®‰å…¨åŠ ä»“

[12/31] è®°å¿†ç³»ç»Ÿå¥åº·æ£€æŸ¥ (v3.12 AI Learning)
----------------------------------------------------------------------
  ğŸ“‚ è®°å¿†æ–‡ä»¶è·¯å¾„: /home/user/AItrader/data/trading_memory.json
  âš ï¸ è®°å¿†æ–‡ä»¶ä¸å­˜åœ¨ (ç³»ç»Ÿåˆšå¯åŠ¨)
     â†’ é¦–æ¬¡äº¤æ˜“åå°†è‡ªåŠ¨åˆ›å»º

  ğŸ§  MultiAgentAnalyzer è®°å¿†ç³»ç»ŸçŠ¶æ€:
     âš ï¸ multi_agent åˆå§‹åŒ–å¤±è´¥: No module named 'openai'
     âš ï¸ multi_agent æœªåˆå§‹åŒ– (ç¼ºå°‘ DEEPSEEK_API_KEY?)

  âœ… è®°å¿†ç³»ç»Ÿå¥åº·æ£€æŸ¥å®Œæˆ

[13/31] äº¤æ˜“çŠ¶æ€æ£€æŸ¥

  ğŸ”’ äº¤æ˜“æ§åˆ¶çŠ¶æ€:
     âœ… äº¤æ˜“æœªæš‚åœ (æ—  pause file)
     æœ€ä½ä¿¡å¿ƒè¦æ±‚: MEDIUM

[14/31] AI è¾“å…¥æ•°æ®éªŒè¯ (ä¼ ç»™ MultiAgent, 11 ç±»æ•°æ®)
----------------------------------------------------------------------

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                  AI è¾“å…¥æ•°æ®éªŒè¯ (ä¼ ç»™ MultiAgent)                  â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

âŒ Sentiment data fetch failed: HTTPSConnectionPool(host='fapi.binance.com', port=443): Max retries exceeded with url: /futures/data/globalLongShortAccountRatio?symbol=BTCUSDT&period=15m&limit=1 (Caused by ProxyError('Unable to connect to proxy', OSError('Tunnel connection failed: 403 Forbidden')))
  â„¹ï¸ Order book status: NO_DATA - Order book data unavailable: API returned None
  â„¹ï¸ S/R Zones è®¡ç®—å®Œæˆ: 0 æ”¯æ’‘, 0 é˜»åŠ›
  [1] technical_data (15M æŠ€æœ¯æŒ‡æ ‡):
      price:           $0.00
      sma_5:           $0.00
      sma_20:          $0.00
      sma_50:          $0.00
      rsi:             0.00
      macd:            0.0000
      macd_histogram:  0.0000
      bb_upper:        $0.00
      bb_lower:        $0.00
      bb_position:     50.0% (0%=ä¸‹è½¨, 100%=ä¸Šè½¨)
      [è¯Šæ–­ç”¨] overall_trend: N/A

  [2] sentiment_data (æƒ…ç»ªæ•°æ®):
      positive_ratio:  0.5000 (50.00%)
      negative_ratio:  0.5000 (50.00%)
      net_sentiment:   0.0000

  [3] price_data (ä»·æ ¼æ•°æ® v3.6):
      price:           $0.00
      price_change:    0.00% (ä¸Šä¸€æ ¹Kçº¿)
      period_high:     $0.00 (0h)
      period_low:      $0.00 (0h)
      period_change:   +0.00% (0h)

  [4] order_flow_report (è®¢å•æµ v3.6):
      buy_ratio:       0.5000 (50.00%)
      volume_usdt:     $0
      avg_trade_usdt:  $0.00
      trades_count:    0
      [è¯Šæ–­ç”¨] cvd_trend: NEUTRAL
      data_source:     none

  [5] derivatives_report (è¡ç”Ÿå“æ•°æ®):
      OI value (BTC):  0.00
      Funding rate:    0.000000 (0.0000%)
      liquidations:    None

  [5.5] order_book_data (è®¢å•ç°¿æ·±åº¦ v3.7) [çŠ¶æ€: NO_DATA]:
      reason:          Order book data unavailable: API returned None

  [6] mtf_decision_layer (4H): æœªåˆå§‹åŒ–æˆ–æœªå¯ç”¨

  [7] mtf_trend_layer (1D): æœªåˆå§‹åŒ–æˆ–æœªå¯ç”¨

  [8] current_position: None (æ— æŒä»“)

  [9] account_context (v4.7 Portfolio Risk - 13 fields):
      equity:             $0.00
      leverage:           1x
      max_position_ratio: 30%
      max_position_value: $0.00
      current_pos_value:  $0.00
      available_capacity: $0.00
      capacity_used_pct:  0.0%
      can_add_position:   True

      [v4.7 Portfolio Risk]:
      unrealized_pnl:     $0.00
      min_liq_buffer:     N/A
      daily_funding_cost: N/A
      cumulative_funding: N/A
      can_add_safely:     âœ… True

  [10] historical_context: indicator_manager æœªåˆå§‹åŒ–
  [11] S/R Zones (æ”¯æ’‘/é˜»åŠ›åŒº v2.6.0):
      æœ€è¿‘æ”¯æ’‘: N/A

      æœ€è¿‘é˜»åŠ›: N/A

      âœ… ç¡¬é£æ§: æ— é™åˆ¶


      â„¹ï¸ æ•°æ®æ¥æº: SRZoneCalculator (BB + SMA + Order Walls)


  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  âœ… AI è¾“å…¥æ•°æ®éªŒè¯å®Œæˆ (11 ç±»æ•°æ®)

[15/31] MultiAgent å±‚çº§å†³ç­– (TradingAgents æ¶æ„)
----------------------------------------------------------------------
  ğŸ“‹ å†³ç­–æµç¨‹:
     Phase 1: Bull/Bear Debate (è¾©è®º)
     Phase 2: Judge (Portfolio Manager) Decision
     Phase 3: Risk Evaluation

  âŒ MultiAgent åˆ†æå¤±è´¥: No module named 'openai'
  âŒ Step failed: MultiAgent å±‚çº§å†³ç­– (TradingAgents æ¶æ„)

[16/31] ä¿¡å·å¤„ç†ä¸éªŒè¯
  âŒ Step ä¿¡å·å¤„ç†ä¸éªŒè¯ raised exception: 'NoneType' object has no attribute 'min_confidence_to_trade'
[17/31] TradingAgents v3.3 æ¶æ„éªŒè¯
----------------------------------------------------------------------
  ğŸ“Š TradingAgents v3.3 è®¾è®¡ç†å¿µ:
     "Autonomy is non-negotiable" - AI åƒäººç±»åˆ†æå¸ˆä¸€æ ·æ€è€ƒ
     AI æ¥æ”¶åŸå§‹æ•°å€¼ + INDICATOR_DEFINITIONS è‡ªä¸»è§£è¯»

  âœ… å·²ç§»é™¤çš„æœ¬åœ°ç¡¬ç¼–ç è§„åˆ™:
     âŒ è¶‹åŠ¿æ–¹å‘æƒé™æ£€æŸ¥ (allow_long/allow_short)
     âŒ æ”¯æ’‘/é˜»åŠ›ä½è¾¹ç•Œæ£€æŸ¥ (proximity_threshold)
     âŒ RSI å…¥åœºèŒƒå›´é™åˆ¶
     âŒ ç¡®è®¤è®¡æ•°æ¡†æ¶ (bullish_count/bearish_count)

  âœ… ä¸å†ä¼ ç»™ AI çš„é¢„è®¡ç®—æ ‡ç­¾ (v3.3 ç§»é™¤):
     âŒ support/resistance - AI ç”¨ SMA_50/BB ä½œåŠ¨æ€æ”¯æ’‘é˜»åŠ›
     âŒ cvd_trend - AI ä» recent_10_bars æ¨æ–­
     âŒ overall_trend - AI ä» SMA å…³ç³»æ¨æ–­
     âŒ Interpretation: Bullish/Bearish - AI ä»åŸå§‹æ¯”ä¾‹æ¨æ–­

  ğŸ“‹ AI æ¥æ”¶çš„æ•°æ® (åŸå§‹æ•°å€¼ï¼Œç”± AI è‡ªä¸»è§£è¯»):
     - Price: $0.00
     - SMA_5/20/50: $0.00 / $0.00 / $0.00
     - RSI: 0.0
     - MACD/Signal: 0.0000 / 0.0000
     - BB: $0.00 - $0.00
     - Buy Ratio: 50.0%

  ğŸ¯ AI å†³ç­–ç»“æœ (æ— æœ¬åœ°è¿‡æ»¤):
     Signal: N/A
     Confidence: N/A

  ğŸ“Š MTF çŠ¶æ€ä¼°ç®— (åŸºäºå½“å‰æ•°æ®ï¼Œéå®ç›˜å®æ—¶çŠ¶æ€):
     è¶‹åŠ¿å±‚ (1D): N/A - SMA_200 æ•°æ®ä¸è¶³
     å†³ç­–å±‚ (4H): WAIT - SMA_5 < SMA_20, RSI=50.0
     æ‰§è¡Œå±‚ (15M): BB ä½ç½® 50.0% (0%=ä¸‹è½¨, 100%=ä¸Šè½¨)

  âš ï¸ æ³¨æ„: ä»¥ä¸Šä¸ºåŸºäºå½“å‰æ•°æ®çš„ä¼°ç®—å€¼
     v3.1: æ‰€æœ‰äº¤æ˜“å†³ç­–ç”± AI (MultiAgent) å®Œæˆï¼Œæœ¬åœ°ä¸åšè¶‹åŠ¿åˆ¤æ–­

  âœ… TradingAgents v3.4 æ¶æ„éªŒè¯å®Œæˆ

[18/31] è¯Šæ–­æ€»ç»“

======================================================================
  è¯Šæ–­æ€»ç»“ (TradingAgents v3.17 - R/R é©±åŠ¨å…¥åœº)
======================================================================

  ğŸ“Š æ¶æ„: TradingAgents v3.17 - R/R é©±åŠ¨å…¥åœº
     å…¥åœºæ ‡å‡†: R/R >= 1.5:1 (å”¯ä¸€å…¥åœºæ ‡å‡†)
     ä»“ä½å¤§å°: ç”± R/R è´¨é‡å†³å®š (R/R è¶Šé«˜ â†’ ä»“ä½è¶Šå¤§)

  ğŸ“Š AI Signal: N/A
  ğŸ“Š Final Signal: HOLD
  ğŸ“Š Confidence: N/A
  ğŸ“Š Winning Side: N/A
  ğŸ“Š Risk Level: N/A

  ğŸ“Š Current Position: FLAT (æ— æŒä»“)

  âšª WOULD NOT EXECUTE: Signal is HOLD

----------------------------------------------------------------------
  ğŸ“± å®ç›˜æ‰§è¡Œæµç¨‹:
----------------------------------------------------------------------

  Step 1: AI åˆ†æå®Œæˆ â†’ Signal = HOLD
  Step 2: ğŸ“± å‘é€ Telegram ä¿¡å·é€šçŸ¥
          â†’ æ­¤æ—¶ä½ ä¼šæ”¶åˆ°äº¤æ˜“ä¿¡å·æ¶ˆæ¯
  Step 3: è°ƒç”¨ _execute_trade()
          â†’ âšª Signal is HOLD, ä¸æ‰§è¡Œäº¤æ˜“

  ğŸ’¡ å…³é”®ç‚¹: Telegram é€šçŸ¥åœ¨ _execute_trade ä¹‹å‰å‘é€!
     å¦‚æœæ”¶åˆ°ä¿¡å·ä½†æ— äº¤æ˜“ï¼Œæ£€æŸ¥æœåŠ¡æ—¥å¿—æŸ¥çœ‹ _execute_trade è¾“å‡º

[19/31] MTF v2.1 ç»„ä»¶é›†æˆæµ‹è¯•
----------------------------------------------------------------------
  [9.1] æµ‹è¯• BinanceKlineClient...
     âœ… BinanceKlineClient å¯¼å…¥æˆåŠŸ
     âš ï¸ get_klines è¿”å›ç©ºæ•°æ®

  [9.2] æµ‹è¯• OrderFlowProcessor...
     âœ… OrderFlowProcessor å¯¼å…¥æˆåŠŸ

  [9.3] æµ‹è¯• CoinalyzeClient...
     âœ… CoinalyzeClient å¯¼å…¥æˆåŠŸ
     âš ï¸ Coinalyze API Key æœªé…ç½®

  [9.4] æµ‹è¯• AIDataAssembler...
     âœ… AIDataAssembler å¯¼å…¥æˆåŠŸ
âŒ Sentiment data fetch failed: HTTPSConnectionPool(host='fapi.binance.com', port=443): Max retries exceeded with url: /futures/data/globalLongShortAccountRatio?symbol=BTCUSDT&period=15m&limit=1 (Caused by ProxyError('Unable to connect to proxy', OSError('Tunnel connection failed: 403 Forbidden')))
     âœ… æ•°æ®ç»„è£…å®Œæˆ:
        - æŠ€æœ¯æŒ‡æ ‡: True
        - è®¢å•æµ: True
        - è¡ç”Ÿå“: True
        - æƒ…ç»ªæ•°æ®: True

  [9.5] æµ‹è¯• Order Book (v3.7)...
     âœ… BinanceOrderBookClient å¯¼å…¥æˆåŠŸ
     âœ… OrderBookProcessor å¯¼å…¥æˆåŠŸ

  [9.5.5] S/R Zone Calculator æµ‹è¯• (v2.0):
     âœ… SRZoneCalculator å¯¼å…¥æˆåŠŸ
     ğŸ“Š å½“å‰ä»·æ ¼: $0
     ğŸ“Š æ•°æ®æº: BB=âŒ, SMA=âŒ
     ğŸ”´ é˜»åŠ›ä½: 0 zones
     ğŸŸ¢ æ”¯æ’‘ä½: 0 zones
     âœ… S/R Zone å»ºè®®: æ— é™åˆ¶
     âœ… S/R Zone Calculator æµ‹è¯•å®Œæˆ

  âœ… MTF v2.1 + Order Book ç»„ä»¶é›†æˆæµ‹è¯•å®Œæˆ

[20/31] Telegram å‘½ä»¤å¤„ç†éªŒè¯
----------------------------------------------------------------------
  âš ï¸ TELEGRAM_BOT_TOKEN æœªé…ç½®

[21/31] é”™è¯¯æ¢å¤æœºåˆ¶éªŒè¯
----------------------------------------------------------------------
  ğŸ“‹ AI è°ƒç”¨å¤±è´¥æ¢å¤æœºåˆ¶:

  [1] MultiAgentAnalyzer fallback:
     âŒ æ— æ³•å¯¼å…¥ MultiAgentAnalyzer: No module named 'openai'

  [2] API é‡è¯•æœºåˆ¶:
     âœ… _call_api_with_retry: æœ€å¤šé‡è¯• 2 æ¬¡
     âœ… _extract_json_with_retry: JSON è§£æå¤±è´¥é‡è¯• 2 æ¬¡
     â†’ å¤±è´¥åä½¿ç”¨ fallback signal

  [3] æ•°æ®è·å–å¤±è´¥æ¢å¤:
     âœ… Coinalyze å¤±è´¥ â†’ ä½¿ç”¨ä¸­æ€§é»˜è®¤å€¼ (OI=0, FR=0)
     âœ… Binance Kçº¿å¤±è´¥ â†’ ä½¿ç”¨ indicator_manager ç¼“å­˜æ•°æ®
     âœ… æƒ…ç»ªæ•°æ®å¤±è´¥ â†’ ä½¿ç”¨ä¸­æ€§é»˜è®¤å€¼ (ratio=0.5)

  [4] SL/TP éªŒè¯å¤±è´¥æ¢å¤:
     âœ… validate_multiagent_sltp å¤±è´¥ â†’ å›é€€åˆ° calculate_technical_sltp
     âœ… æŠ€æœ¯ SL/TP è®¡ç®—å¤±è´¥ â†’ ä½¿ç”¨é»˜è®¤ 2% SL, confidence-based TP

  [5] ç½‘ç»œé”™è¯¯æ¢å¤:
     âœ… requests è¶…æ—¶ â†’ è‡ªåŠ¨é‡è¯• (æŒ‡æ•°é€€é¿)
     âœ… API rate limit â†’ ç­‰å¾…åé‡è¯•
     âœ… è¿æ¥å¤±è´¥ â†’ è®°å½•é”™è¯¯ï¼Œä½¿ç”¨ fallback

  âœ… é”™è¯¯æ¢å¤æœºåˆ¶éªŒè¯å®Œæˆ

[22/31] Post-Trade ç”Ÿå‘½å‘¨æœŸæµ‹è¯•
----------------------------------------------------------------------
  ğŸ“‹ OCO å­¤å„¿è®¢å•æ¸…ç† (_cleanup_oco_orphans):
     âš ï¸ enable_oco = False (è·³è¿‡æ¸…ç†)

  ğŸ“‹ ç§»åŠ¨æ­¢æŸæ›´æ–° (_update_trailing_stops):
     âš ï¸ enable_trailing_stop = False (è·³è¿‡æ›´æ–°)

  ğŸ“‹ æŒä»“å¿«ç…§è®°å½• (_save_position_snapshot):
     âœ… æ¯æ¬¡ on_timer è®°å½•æŒä»“çŠ¶æ€åˆ° data/position_snapshots/
        â†’ ç”¨äºè¿½è¸ªæŒä»“å†å²å’Œè®¡ç®—å›æ’¤

  âœ… Post-Trade ç”Ÿå‘½å‘¨æœŸæµ‹è¯•å®Œæˆ

[23/31] on_bar MTF è·¯ç”±é€»è¾‘æ¨¡æ‹Ÿ
----------------------------------------------------------------------
  ğŸ“Š MTF Bar è·¯ç”±é€»è¾‘ (ä¸ deepseek_strategy.py:on_bar ä¸€è‡´):

  [è·¯ç”±è§„åˆ™] Bar ç±»å‹ â†’ å¤„ç†å±‚:

     â€¢ 1D bar â†’ è¶‹åŠ¿å±‚ (_handle_trend_bar)
       - æ›´æ–° SMA_200, MACD
       - æ”¶é›†è¶‹åŠ¿æ•°æ®ä¾› AI åˆ†æ (v3.1: ä¸åšæœ¬åœ°åˆ¤æ–­)
       - è®¾ç½® _mtf_trend_initialized = True

     â€¢ 4H bar â†’ å†³ç­–å±‚ (_handle_decision_bar)
       - æ›´æ–°å†³ç­–å±‚æŠ€æœ¯æŒ‡æ ‡
       - æ”¶é›†å†³ç­–å±‚æ•°æ® (AI è‡ªä¸»åˆ†æï¼Œæ— æœ¬åœ°å†³ç­–)
       - è®¾ç½® _mtf_decision_initialized = True

     â€¢ 15M bar â†’ æ‰§è¡Œå±‚ (_handle_execution_bar)
       - æ›´æ–°æ‰§è¡Œå±‚æŒ‡æ ‡ (RSI, MACD ç­‰)
       - æ›´æ–° _cached_current_price (çº¿ç¨‹å®‰å…¨)
       - è®¾ç½® _mtf_execution_initialized = True

  [æ¨¡æ‹Ÿè·¯ç”±] å½“å‰è¯Šæ–­ä½¿ç”¨çš„ bar_type:
     bar_type: 15-MINUTE
     â†’ è·¯ç”±åˆ°: æ‰§è¡Œå±‚ (15M) - ä¸»åˆ†æå‘¨æœŸ

  [æŒ‡æ ‡æ›´æ–°] æœ¬æ¬¡ bar æ›´æ–°çš„æŒ‡æ ‡å€¼:
     indicator_manager.update(bar) å:
     â€¢ ä»·æ ¼: $0.00
     â€¢ SMA_5: $0.00
     â€¢ SMA_20: $0.00
     â€¢ SMA_50: $0.00
     â€¢ RSI: 0.00
     â€¢ MACD: 0.0000
     â€¢ MACD Signal: 0.0000
     â€¢ Support: $0.00
     â€¢ Resistance: $0.00

  âœ… on_bar MTF è·¯ç”±æ¨¡æ‹Ÿå®Œæˆ

[24/31] è®¢å•æäº¤æµç¨‹æ¨¡æ‹Ÿ (_submit_bracket_order)
----------------------------------------------------------------------
  ğŸ“‹ è®¢å•æäº¤å‰ææ£€æŸ¥:
     ä¿¡å·: HOLD
     ä¿¡å¿ƒ: MEDIUM
     å½“å‰ä»·æ ¼: $0.00

  â„¹ï¸ ä¿¡å·ä¸º HOLDï¼Œä¸ä¼šæäº¤è®¢å•

[25/31] v4.8 ä»“ä½è®¡ç®—æµ‹è¯• (ai_controlled ç´¯åŠ æ¨¡å¼)
----------------------------------------------------------------------
  ğŸ“‹ v4.8 ä»“ä½è®¡ç®—é…ç½® (ai_controlled):
     equity: $1,000.00 (from Binance)
     leverage: 1x (from Binance)
     max_position_ratio: 30%
     max_position_value: $300.00

  ğŸ“‹ v4.8 ä¿¡å¿ƒç™¾åˆ†æ¯”æ˜ å°„:
     HIGH (80%): $240 (0.000000 BTC)
     MEDIUM (50%): $150 (0.000000 BTC)
     LOW (30%): $90 (0.000000 BTC)

  ğŸ“‹ v4.8 ç´¯åŠ æ¨¡å¼çŠ¶æ€:
     å½“å‰æŒä»“ä»·å€¼: $0.00
     å¯ç”¨å®¹é‡: $300.00
     å®¹é‡ä½¿ç”¨ç‡: 0.0%

  ğŸ“Š å½“å‰ä¿¡å·: HOLD (ä¸è®¡ç®—ä»“ä½)

  ğŸ“Š ä¸åŒä¿¡å¿ƒçº§åˆ«ä»“ä½å‚è€ƒ (å‡è®¾ BUY/SELL ä¿¡å·æ—¶):
     HIGH: 0.000000 BTC ($240.00)
     MEDIUM: 0.000000 BTC ($150.00)
     LOW: 0.000000 BTC ($90.00)

  âœ… v4.8 ä»“ä½è®¡ç®—æµ‹è¯•å®Œæˆ

[26/31] v3.18 è®¢å•æµç¨‹å®Œæ•´æ¨¡æ‹Ÿ
----------------------------------------------------------------------

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                    v3.18 è®¢å•æµç¨‹æ¨¡æ‹Ÿ (7 ç§åœºæ™¯)                     â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  ğŸ“‹ å½“å‰çŠ¶æ€:
     ä¿¡å·: HOLD
     æŒä»“: æ— 

  ğŸ”„ æ¨¡æ‹Ÿæ‰€æœ‰è®¢å•åœºæ™¯...

  âœ… åœºæ™¯ 1: æ–°å¼€ä»“
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     äº‹ä»¶æµç¨‹:
       submit_order(MARKET BUY)
       submit_order(STOP_MARKET SL)
       submit_order(LIMIT TP)
       on_order_filled(ENTRY)
       on_position_opened(LONG)
     çŠ¶æ€å˜åŒ–:
       position: None â†’ LONG
       sl_order: None â†’ ACTIVE
       tp_order: None â†’ ACTIVE
     å…³é”®ç‚¹:
       â€¢ ä½¿ç”¨ _submit_bracket_order æäº¤å¸¦ SL/TP çš„ Bracket è®¢å•
       â€¢ SL/TP é€šè¿‡ OTO (One-Triggers-Other) é“¾æ¥åˆ°å…¥åœºå•
       â€¢ SL å’Œ TP é€šè¿‡ OCO (One-Cancels-Other) äº’ç›¸é“¾æ¥

  âœ… åœºæ™¯ 2: åŒå‘åŠ ä»“
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     äº‹ä»¶æµç¨‹:
       submit_order(MARKET BUY - add position)
       on_order_filled(ADD)
       _update_sltp_quantity()
         â†’ modify_order(SL, new_qty=0.015)
         â†’ modify_order(TP, new_qty=0.015)
     çŠ¶æ€å˜åŒ–:
       position_qty: 0.0100 â†’ 0.0150
       sl_qty: 0.0100 â†’ 0.0150
       tp_qty: 0.0100 â†’ 0.0150
     å…³é”®ç‚¹:
       â€¢ v3.18: åŠ ä»“åè°ƒç”¨ _update_sltp_quantity()
       â€¢ v3.18: ä½¿ç”¨ modify_order æ›´æ–° SL/TP æ•°é‡
       â€¢ v3.18: å¦‚æœ modify å¤±è´¥ï¼Œå›é€€åˆ° cancel+recreate

  âœ… åœºæ™¯ 3: éƒ¨åˆ†å¹³ä»“
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     äº‹ä»¶æµç¨‹:
       cancel_all_orders() - å–æ¶ˆç°æœ‰ SL/TP
       submit_order(MARKET SELL - reduce_only)
       on_order_filled(REDUCE)
       _submit_bracket_order(new_qty) - é‡å»º SL/TP
     çŠ¶æ€å˜åŒ–:
       position_qty: 0.0200 â†’ 0.0100
       sl_order: CANCELLED â†’ RECREATED
       tp_order: CANCELLED â†’ RECREATED
     å…³é”®ç‚¹:
       â€¢ å‡ä»“å‰å–æ¶ˆç°æœ‰ SL/TPï¼Œé˜²æ­¢æ•°é‡ä¸åŒ¹é…
       â€¢ å‡ä»“å•å¿…é¡»è®¾ç½® reduce_only=True
       â€¢ å‡ä»“åé‡å»º SL/TP ä½¿ç”¨æ–°æ•°é‡

  âœ… åœºæ™¯ 4: å®Œå…¨å¹³ä»“
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     äº‹ä»¶æµç¨‹:
       cancel_all_orders() - å–æ¶ˆ SL/TP
       submit_order(MARKET SELL - reduce_only)
       on_order_filled(CLOSE)
       on_position_closed()
     çŠ¶æ€å˜åŒ–:
       position: LONG â†’ None
       sl_order: ACTIVE â†’ CANCELLED
       tp_order: ACTIVE â†’ CANCELLED
       trailing_stop_state: CLEARED
     å…³é”®ç‚¹:
       â€¢ å¹³ä»“å‰å–æ¶ˆ SL/TP è®¢å•
       â€¢ å¹³ä»“å•å¿…é¡»è®¾ç½® reduce_only=True
       â€¢ on_position_closed æ¸…ç† trailing_stop_state

  âœ… åœºæ™¯ 5: åè½¬äº¤æ˜“ (v3.18)
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     äº‹ä»¶æµç¨‹:
       â•â•â• Phase 1: å­˜å‚¨çŠ¶æ€å¹¶å¹³ä»“ â•â•â•
       _pending_reversal = {
           'target_side': 'short',
           'target_quantity': 0.015,
           'old_side': 'long',
           'submitted_at': datetime.utcnow()
       }
       cancel_all_orders() - å–æ¶ˆ SL/TP
       submit_order(MARKET SELL - reduce_only)
       on_order_filled(CLOSE)
       on_position_closed() - è§¦å‘ Phase 2
       
       â•â•â• Phase 2: å¼€æ–°ä»“ (åœ¨ on_position_closed ä¸­) â•â•â•
       æ£€æµ‹åˆ° _pending_reversal
       _pending_reversal = None  # ç«‹å³æ¸…ç©ºé˜²æ­¢é‡å¤æ‰§è¡Œ
       ... (4 more events)
     çŠ¶æ€å˜åŒ–:
       position: LONG â†’ None â†’ SHORT
       _pending_reversal: None â†’ {state} â†’ None
       phase: 1 â†’ 2
     å…³é”®ç‚¹:
       â€¢ v3.18: ä¸¤é˜¶æ®µæäº¤é˜²æ­¢ç«æ€æ¡ä»¶
       â€¢ v3.18: Phase 1 åªå¹³ä»“ï¼Œä¸å¼€æ–°ä»“
       â€¢ v3.18: Phase 2 åœ¨ on_position_closed ä¸­å¼€æ–°ä»“
       â€¢ v3.18: å¼€ä»“å‰éªŒè¯æ— æ®‹ç•™ä»“ä½

  âœ… åœºæ™¯ 6: Bracket å¤±è´¥ (v3.18)
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     äº‹ä»¶æµç¨‹:
       å°è¯• _submit_bracket_order()
         â†’ è®¡ç®— SL ä»·æ ¼...
         â†’ è®¡ç®— TP ä»·æ ¼...
         â†’ âŒ Exception: SL éªŒè¯å¤±è´¥
       
       v3.18 è¡Œä¸º:
         â†’ ğŸš« NOT opening position without SL/TP protection
         â†’ _last_signal_status = {
               'executed': False,
               'reason': 'Bracketè®¢å•å¤±è´¥ï¼Œå–æ¶ˆå¼€ä»“',
           }
         â†’ å‘é€ CRITICAL Telegram è­¦æŠ¥
       
       âŒ æ—§ç‰ˆ (å±é™©) è¡Œä¸º (å·²ç§»é™¤):
         â†’ self._submit_order(side, qty, reduce_only=False)  # æ— ä¿æŠ¤!
     çŠ¶æ€å˜åŒ–:
       position: None (ä¿æŒä¸å˜)
       _last_signal_status.executed: False
     å…³é”®ç‚¹:
       â€¢ v3.18: Bracket å¤±è´¥æ—¶æ‹’ç»å¼€ä»“
       â€¢ v3.18: ä¸å›é€€åˆ°æ—  SL/TP ä¿æŠ¤çš„è®¢å•
       â€¢ v3.18: å‘é€ CRITICAL è­¦æŠ¥é€šçŸ¥ç”¨æˆ·
       â€¢ v3.18: ç­‰å¾…ä¸‹ä¸€ä¸ªä¿¡å·é‡è¯•

  âœ… åœºæ™¯ 7: SL/TP modify å¤±è´¥ (v3.18)
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     äº‹ä»¶æµç¨‹:
       submit_order(MARKET BUY - add)
       on_order_filled(ADD)
       
       _update_sltp_quantity() å¼€å§‹...
         â†’ æ‰¾åˆ° 2 ä¸ª reduce_only è®¢å• (SL, TP)
         â†’ å°è¯• modify_order(SL, new_qty=0.015)
         â†’ âŒ Exception: modify_order ä¸æ”¯æŒ
         â†’ å°è¯• modify_order(TP, new_qty=0.015)
         â†’ âœ… æˆåŠŸ
       
       v3.18 å›é€€é€»è¾‘:
         â†’ æ”¶é›†å¤±è´¥è®¢å•ä¿¡æ¯ (SL)
         â†’ è¯»å– order.trigger_price
         â†’ cancel_order(SL)
         â†’ åˆ›å»ºæ–° SL: order_factory.stop_market()
       ... (2 more events)
     çŠ¶æ€å˜åŒ–:
       sl_order: OLD â†’ CANCELLED â†’ RECREATED
       sl_qty: 0.01 â†’ 0.015
       trailing_stop_state.sl_order_id: æ›´æ–°ä¸ºæ–°è®¢å• ID
     å…³é”®ç‚¹:
       â€¢ v3.18: modify_order æ˜¯é¦–é€‰æ–¹æ³•
       â€¢ v3.18: å¤±è´¥æ—¶å›é€€åˆ° cancel+recreate
       â€¢ v3.18: ä¿ç•™åŸæœ‰ä»·æ ¼ï¼Œåªæ›´æ–°æ•°é‡
       â€¢ v3.18: æ›´æ–° trailing_stop_state ä¸­çš„ sl_order_id


  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                       v3.18 è®¢å•æµç¨‹éªŒè¯æ€»ç»“                        â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  é€šè¿‡åœºæ™¯: 7/7

  ğŸ“‹ v3.18 ä¿®å¤éªŒè¯:

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ä¿®å¤é¡¹                      â”‚ çŠ¶æ€   â”‚ éªŒè¯åœºæ™¯            â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ åè½¬ä¸¤é˜¶æ®µæäº¤              â”‚ âœ…     â”‚ åœºæ™¯ 5: åè½¬äº¤æ˜“    â”‚
  â”‚ Bracket å¤±è´¥ä¸å›é€€          â”‚ âœ…     â”‚ åœºæ™¯ 6: Bracket å¤±è´¥â”‚
  â”‚ SL/TP æ•°é‡æ›´æ–° (modify)     â”‚ âœ…     â”‚ åœºæ™¯ 2: åŒå‘åŠ ä»“    â”‚
  â”‚ modify å¤±è´¥å›é€€ (cancel)    â”‚ âœ…     â”‚ åœºæ™¯ 7: modify å¤±è´¥ â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ğŸ“– v3.18 å…³é”®ä»£ç ä½ç½®:
     â€¢ _pending_reversal çŠ¶æ€: deepseek_strategy.py:355-363
     â€¢ åè½¬ Phase 1: deepseek_strategy.py:3243-3278
     â€¢ åè½¬ Phase 2: deepseek_strategy.py:4134-4193
     â€¢ Bracket å¤±è´¥å¤„ç†: deepseek_strategy.py:3900-3935
     â€¢ _update_sltp_quantity: deepseek_strategy.py:3323-3469

  âœ… v3.18 è®¢å•æµç¨‹æ¨¡æ‹Ÿå®Œæˆ

[27/31] v3.18 åè½¬çŠ¶æ€æœºè¯¦ç»†æ¨¡æ‹Ÿ
----------------------------------------------------------------------

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                  åè½¬çŠ¶æ€æœº (Two-Phase Commit)                   â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  çŠ¶æ€æœºå›¾è§£:

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ åˆå§‹çŠ¶æ€     â”‚
  â”‚ LONG æŒä»“    â”‚
  â”‚ _pending = âˆ… â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ æ”¶åˆ° SELL ä¿¡å· (åè½¬)
         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Phase 1: å­˜å‚¨çŠ¶æ€                    â”‚
  â”‚ _pending_reversal = {                â”‚
  â”‚   target_side: 'short',              â”‚
  â”‚   target_quantity: qty,              â”‚
  â”‚   old_side: 'long',                  â”‚
  â”‚   submitted_at: now()                â”‚
  â”‚ }                                    â”‚
  â”‚ submit_order(SELL, reduce_only=True) â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ on_order_filled
                 â”‚ on_position_closed
                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Phase 2: æ£€æµ‹ _pending_reversal      â”‚
  â”‚ if _pending_reversal:                â”‚
  â”‚   pending = _pending_reversal        â”‚
  â”‚   _pending_reversal = None  # æ¸…ç©º  â”‚
  â”‚   if _get_position() is None:        â”‚
  â”‚     _submit_bracket_order(SHORT)     â”‚
  â”‚   else:                              â”‚
  â”‚     ABORT (æ®‹ç•™ä»“ä½)                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ on_order_filled
                 â”‚ on_position_opened
                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æœ€ç»ˆçŠ¶æ€     â”‚
  â”‚ SHORT æŒä»“   â”‚
  â”‚ _pending = âˆ… â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  è¾¹ç¼˜æƒ…å†µå¤„ç†:

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æƒ…å†µ                        â”‚ å¤„ç†                          â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ Phase 2 æ—¶ä»æœ‰ä»“ä½          â”‚ ABORT, å‘é€ CRITICAL è­¦æŠ¥     â”‚
  â”‚ Phase 2 æäº¤ Bracket å¤±è´¥   â”‚ ä¸å¼€ä»“, ç­‰å¾…ä¸‹ä¸€ä¿¡å·          â”‚
  â”‚ å¹³ä»“è®¢å•è¢«æ‹’ç»              â”‚ _pending_reversal ä¿ç•™        â”‚
  â”‚ SL/TP è§¦å‘å¯¼è‡´å¹³ä»“          â”‚ æ­£å¸¸è¿›å…¥ Phase 2              â”‚
  â”‚ æ‰‹åŠ¨å¹²é¢„å¹³ä»“                â”‚ æ­£å¸¸è¿›å…¥ Phase 2              â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ä¸æ—§ç‰ˆè¡Œä¸ºå¯¹æ¯”:

  æ—§ç‰ˆ (æœ‰ç«æ€æ¡ä»¶):
    1. æäº¤å¹³ä»“è®¢å•
    2. ç«‹å³æäº¤å¼€ä»“è®¢å•  â† é—®é¢˜! å¯èƒ½åœ¨å¹³ä»“å®Œæˆå‰æ‰§è¡Œ
    3. å¯èƒ½å¯¼è‡´åŒå‘æŒä»“æˆ–è®¢å•è¢«æ‹’

  v3.18 (äº‹ä»¶é©±åŠ¨):
    1. å­˜å‚¨ _pending_reversal çŠ¶æ€
    2. æäº¤å¹³ä»“è®¢å•
    3. ç­‰å¾… on_position_closed äº‹ä»¶
    4. éªŒè¯æ— ä»“ä½åå¼€æ–°ä»“

  âœ… v3.18 åè½¬çŠ¶æ€æœºæ¨¡æ‹Ÿå®Œæˆ

[28/31] Bracket è®¢å•æµç¨‹è¯¦ç»†æ¨¡æ‹Ÿ
----------------------------------------------------------------------

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ               Bracket è®¢å•æµç¨‹ (Entry + SL + TP)                â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  â„¹ï¸ å½“å‰ä¿¡å·ä¸º HOLDï¼Œæ¨¡æ‹Ÿ BUY ä¿¡å·çš„ Bracket è®¢å•æµç¨‹
  æ¨¡æ‹Ÿå‚æ•°:
     ä¿¡å·: BUY
     å…¥åœºä»·: $0.00
  âŒ Step Bracket è®¢å•æµç¨‹è¯¦ç»†æ¨¡æ‹Ÿ raised exception: float division by zero
[29/31] å®Œæ•´æ•°æ®æµæ±‡æ€»
----------------------------------------------------------------------

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                              æŠ€æœ¯æŒ‡æ ‡æ•°æ®                              â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  ä»·æ ¼æ•°æ®:
    å½“å‰ä»·æ ¼: $0.00
    24H æœ€é«˜: $0.00
    24H æœ€ä½: $0.00
    ä»·æ ¼å˜åŒ–: 0.00%

  ç§»åŠ¨å¹³å‡çº¿:
    SMA_5:  $0.00
    SMA_20: $0.00
    SMA_50: $0.00
    EMA_12: $0.00
    EMA_26: $0.00

  éœ‡è¡æŒ‡æ ‡:
    RSI:           0.00
    MACD:          0.0000
    MACD Signal:   0.0000
    MACD Histogram:0.0000

  å¸ƒæ—å¸¦:
    BB Upper: $0.00
    BB Middle: $0.00
    BB Lower: $0.00

  æ”¯æ’‘/é˜»åŠ›:
    æ”¯æ’‘ä½: $0.00
    é˜»åŠ›ä½: $0.00

  è¶‹åŠ¿åˆ¤æ–­: N/A

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                               æƒ…ç»ªæ•°æ®                               â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  Binance å¤šç©ºæ¯”:
    Long/Short Ratio: 1.0000
    Long Account %:   50.00%
    Short Account %:  50.00%
    Net Sentiment:    0.0000
    æ•°æ®æ¥æº: default_neutral

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                              è®¢å•æµæ•°æ®                               â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  Binance Taker æ•°æ® [é‡‡æ ·çª—å£: 10 bars]:
    Buy Ratio:      0.5000 (50.00%)
    CVD Trend:      NEUTRAL
    Avg Trade Size: $0.00
    Volume (USDT):  $0
    æ•°æ®æ¥æº: none

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                              è¡ç”Ÿå“æ•°æ®                               â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  Open Interest (Coinalyze):
    (æ•°æ®ä¸å¯ç”¨)

  Funding Rate (Binance 8h):
    (æ•°æ®ä¸å¯ç”¨)

  Liquidations (1h):
    (æ•°æ®ä¸å¯ç”¨)

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                         å½“å‰æŒä»“ & v4.8 ä»“ä½çŠ¶æ€                         â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  v4.8 ä»“ä½å‚æ•°:
    æ æ† (Binance): 1x
    èµ„é‡‘ (equity):  $0.00
    max_position_value: $0.00

  æŒä»“çŠ¶æ€: æ— æŒä»“ (FLAT)
  v4.8 ç´¯åŠ æ¨¡å¼: å¯å¼€é¦–ä»“

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                             AI å†³ç­–ç»“æœ                              â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  åŸå§‹ä¿¡å·: N/A
  æœ€ç»ˆä¿¡å·: HOLD
  ä¿¡å¿ƒç­‰çº§: N/A
  é£é™©ç­‰çº§: N/A
  èƒœå‡ºæ–¹:   N/A

  AI æ­¢æŸ: N/A
  AI æ­¢ç›ˆ: N/A

  å…³é”®ç†ç”±:

  å†³ç­–ç†ç”±: N/A...

  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
  â”ƒ                             MTF è¿‡æ»¤çŠ¶æ€                             â”ƒ
  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

  æ¶æ„: TradingAgents v3.17 - R/R é©±åŠ¨å…¥åœº
  å…¥åœºæ ‡å‡†: R/R >= 1.5:1 (å”¯ä¸€å…¥åœºæ ‡å‡†ï¼Œç§»é™¤è·ç¦»ç¡¬æ€§è§„åˆ™)
  ä»“ä½å¤§å°: ç”± R/R è´¨é‡å†³å®š (R/R è¶Šé«˜ â†’ ä»“ä½è¶Šå¤§)

  AI å†³ç­–: None (Confidence: None)
  Winning Side: N/A

  âœ… å®Œæ•´æ•°æ®æµæ±‡æ€»å®Œæˆ

[30/31] æ·±å…¥åˆ†æ: ä¿¡å·äº§ç”Ÿæ¡ä»¶

======================================================================
  ğŸ“‹ æ·±å…¥åˆ†æ: ä¿¡å·äº§ç”Ÿæ¡ä»¶
======================================================================

[åˆ†æ1] æŠ€æœ¯æŒ‡æ ‡é˜ˆå€¼æ£€æŸ¥
--------------------------------------------------
  RSI: 50.00
    å‚è€ƒé˜ˆå€¼: è¶…å–<30, è¶…ä¹°>70
    â†’ âšª ä¸­æ€§åŒºé—´ (30-70) - AI ç»¼åˆå…¶ä»–å› ç´ åˆ¤æ–­

  MACD: 0.0000
  MACD Signal: 0.0000
    â†’ ğŸ”´ MACD åœ¨ä¿¡å·çº¿ä¸‹æ–¹ - çœ‹è·Œ
    â†’ ğŸ”´ æŸ±çŠ¶å›¾ä¸ºè´Ÿ (0.0000) - ä¸‹è·ŒåŠ¨èƒ½

  SMA_5: $0.00
  SMA_20: $0.00
  SMA_50: $0.00
  å½“å‰ä»·æ ¼: $0.00
    â†’ âšª æ— æ˜ç¡®è¶‹åŠ¿æ’åˆ—

  BB Upper: $0.00
  BB Lower: $0.00
  ä»·æ ¼åœ¨å¸¦å†…ä½ç½®: 50.0%
    â†’ âšª å¸¦å†…ä¸­é—´åŒºåŸŸ

[åˆ†æ2] è¶‹åŠ¿å¼ºåº¦åˆ†æ
--------------------------------------------------
  æ•´ä½“è¶‹åŠ¿åˆ¤æ–­: N/A
  è¿‘10æ ¹Kçº¿å˜åŒ–: N/A (Kçº¿æ•°é‡ä¸è¶³)

[åˆ†æ3] å¸‚åœºæƒ…ç»ªåˆ†æ
--------------------------------------------------
  å¤šç©ºæ¯”: 1.0000
    â†’ âšª å¤šç©ºå¹³è¡¡

[åˆ†æ4] Judge å†³ç­–åŸå› åˆ†æ (TradingAgents)
--------------------------------------------------
  âš–ï¸ Judge æœ€ç»ˆå†³ç­–: N/A


  ğŸ“‹ Judge å®Œæ•´ç†ç”±:
    N/A

[åˆ†æ5] è¯Šæ–­å»ºè®®
--------------------------------------------------
  ğŸ“Œ å½“å‰å¸‚åœºçŠ¶æ€åˆ†æ:
    å¤šå¤´ä¿¡å·å¾—åˆ†: 0/3
    ç©ºå¤´ä¿¡å·å¾—åˆ†: 2/3
    â†’ åç©ºå¤´ï¼Œä½†ä¿¡å·ä¸å¤Ÿå¼ºçƒˆ

  ğŸ’¡ HOLD çš„å¸¸è§åŸå› :
    1. æŠ€æœ¯æŒ‡æ ‡å¤„äºä¸­æ€§åŒºé—´
    2. è¶‹åŠ¿ä¸æ˜ç¡® (éœ‡è¡æ•´ç†)
    3. å¤šå¤´å’Œç©ºå¤´ä¿¡å·ç›¸äº’çŸ›ç›¾

  â³ ç­‰å¾…ä»¥ä¸‹æƒ…å†µä¹‹ä¸€å‘ç”Ÿ:
    â€¢ RSI çªç ´ 30 æˆ– 70 (å½“å‰: 50.0)
    â€¢ MACD å½¢æˆæ˜ç¡®é‡‘å‰/æ­»å‰
    â€¢ ä»·æ ¼çªç ´æ”¯æ’‘ä½ $0.00
    â€¢ ä»·æ ¼çªç ´é˜»åŠ›ä½ $0.00

======================================================================
  æ·±å…¥åˆ†æå®Œæˆ
======================================================================

[31/31] å†å²ä¿¡å·è¿½è¸ª

  ğŸ“œ æœ€è¿‘ä¿¡å·è®°å½•:
     â„¹ï¸ ä¿¡å·å†å²æ–‡ä»¶ä¸å­˜åœ¨
     â†’ è¿™æ˜¯æ­£å¸¸çš„ï¼Œå®ç›˜è¿è¡Œåä¼šè‡ªåŠ¨åˆ›å»º

======================================================================
  è¯Šæ–­å®Œæˆ
======================================================================

  âŒ é”™è¯¯æ•°: 14
     â€¢ é…ç½®åŠ è½½å¤±è´¥: No module named 'nautilus_trader'
     â€¢ Step failed: ä» main_live.py åŠ è½½çœŸå®é…ç½®
     â€¢ è·å–å¸‚åœºæ•°æ®å¤±è´¥: HTTPSConnectionPool(host='fapi.binance.com', port=443): Max retries exceeded with url: /fapi/v1/klines?symbol=BTCUSDT&interval=15m&limit=100 (Caused by ProxyError('Unable to connect to proxy', OSError('Tunnel connection failed: 403 Forbidden')))
     â€¢ Step failed: è·å–å¸‚åœºæ•°æ® (Binance Futures)
     â€¢ TechnicalIndicatorManager å¤±è´¥: No module named 'nautilus_trader'

  âš ï¸ è­¦å‘Šæ•°: 3
     â€¢ MultiTimeframeManager å¯¼å…¥å¤±è´¥: No module named 'nautilus_trader'
     â€¢ æƒ…ç»ªæ•°æ®è·å–å¤±è´¥: 'NoneType' object has no attribute 'sentiment_lookback_hours'
     â€¢ TELEGRAM_BOT_TOKEN æœªé…ç½®
