{
  "rules": [
    {
      "id": "4febf586c627",
      "commit": "d6d0f48",
      "file": "scripts/validate_commit_fixes.py",
      "message": "fix: suppress print output in JSON mode for validate_commit_fixes.py",
      "pattern": "check_chain_reactions",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:00.617727",
      "auto_generated": true
    },
    {
      "id": "fca1d0224651",
      "commit": "3c33048",
      "file": "scripts/analyze_commits_ai.py",
      "message": "feat: add analyze_commits_ai.py - AI-enhanced commit analysis",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.671601",
      "auto_generated": true
    },
    {
      "id": "ceb4383fd994",
      "commit": "41882a2",
      "file": "scripts/analyze_git_changes.py",
      "message": "feat: add analyze_git_changes.py - automatic git history analyzer",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.711316",
      "auto_generated": true
    },
    {
      "id": "fe19777a6416",
      "commit": "d10b646",
      "file": "scripts/validate_commit_fixes.py",
      "message": "feat: add validate_commit_fixes.py - commit regression checker",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.751674",
      "auto_generated": true
    },
    {
      "id": "1504e4e9186d",
      "commit": "34cc984",
      "file": "main_live.py",
      "message": "fix: add missing SL/TP, trailing stop, OCO config passing from ConfigManager",
      "pattern": "enable_auto_sl_tp=config_manager.get('risk', 'stop_loss', 'enabled', default=True),",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:00.790636",
      "auto_generated": true
    },
    {
      "id": "eba2a37e3432",
      "commit": "bc04e08",
      "file": "scripts/comprehensive_diagnosis.py",
      "message": "fix(scripts): ä¿®å¤ comprehensive_diagnosis.py ä¸­çš„ç±»åé”™è¯¯",
      "pattern": "from utils.deepseek_client import DeepSeekAnalyzer",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.826762",
      "auto_generated": true
    },
    {
      "id": "f46c73aec911",
      "commit": "321788f",
      "file": "scripts/comprehensive_diagnosis.py",
      "message": "feat(scripts): æ·»åŠ é…ç½®ç®¡ç†æ–¹æ¡ˆå…¨é¢è¯Šæ–­è„šæœ¬",
      "pattern": "import sys",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.863905",
      "auto_generated": true
    },
    {
      "id": "e4c6e49f5184",
      "commit": "41a0990",
      "file": "agents/multi_agent_analyzer.py",
      "message": "feat(config): Phase 3 - trading_logic.py å¸¸é‡è¿ç§»åˆ° ConfigManager",
      "pattern": "# Get configuration values (Phase 3: migrated to ConfigManager)",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:00.897387",
      "auto_generated": true
    },
    {
      "id": "1365d8469c0a",
      "commit": "41a0990",
      "file": "strategy/trading_logic.py",
      "message": "feat(config): Phase 3 - trading_logic.py å¸¸é‡è¿ç§»åˆ° ConfigManager",
      "pattern": "from utils.config_manager import get_config",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.915097",
      "auto_generated": true
    },
    {
      "id": "f26d12322df6",
      "commit": "9d9ff66",
      "file": "utils/config_manager.py",
      "message": "fix(config): ä¿®å¤ YAML None å€¼å¯¼è‡´çš„ _set_nested TypeError",
      "pattern": "if key not in d:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:00.949327",
      "auto_generated": true
    },
    {
      "id": "cb53f82983d4",
      "commit": "d7701d3",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: åŒæ­¥ RSI é»˜è®¤å€¼ä¸ YAML é…ç½® (75/25 â†’ 70/30)",
      "pattern": "rsi_extreme_threshold_upper: float = 70.0  # ä¸ strategy_config.yaml ä¸€è‡´",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.105936",
      "auto_generated": true
    },
    {
      "id": "f9227e042526",
      "commit": "333c17f",
      "file": "main_live.py",
      "message": "fix: æ‰§è¡Œ Phase 0 ä¿®å¤é…ç½®å†²çª + æ›´æ–°æ–¹æ¡ˆè‡³ v2.2",
      "pattern": "deepseek_config = strategy_yaml.get('deepseek', {})",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.164365",
      "auto_generated": true
    },
    {
      "id": "3774db8fba72",
      "commit": "52291cf",
      "file": "scripts/diagnose_no_signal.py",
      "message": "fix: è¿›ä¸€æ­¥ä¼˜åŒ–è¯Šæ–­é€»è¾‘é¿å…è¯¯æŠ¥",
      "pattern": "check_bar_data",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:01.249471",
      "auto_generated": true
    },
    {
      "id": "21ca68c485b0",
      "commit": "9c22ab3",
      "file": "scripts/diagnose_no_signal.py",
      "message": "feat: å®Œå–„ diagnose_no_signal.py è¯Šæ–­é€»è¾‘",
      "pattern": "if 'running periodic analysis' in line_lower or \\",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.284599",
      "auto_generated": true
    },
    {
      "id": "7daa66bc8e4c",
      "commit": "cfb57da",
      "file": "utils/telegram_bot.py",
      "message": "fix: ä¿®å¤ Telegram Markdown è§£æé”™è¯¯",
      "pattern": "escape_markdown",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:01.319300",
      "auto_generated": true
    },
    {
      "id": "4cbb5bda227b",
      "commit": "cfb57da",
      "file": "utils/telegram_command_handler.py",
      "message": "fix: ä¿®å¤ Telegram Markdown è§£æé”™è¯¯",
      "pattern": "if \"can't parse\" in error_str or \"parse entities\" in error_str:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.337025",
      "auto_generated": true
    },
    {
      "id": "320af7b012b0",
      "commit": "2d83460",
      "file": "scripts/diagnose_no_signal.py",
      "message": "fix: ä¿®æ­£æŒ‡æ ‡å¯¼å…¥è·¯å¾„ä¸åŸå§‹ä»“åº“ä¸€è‡´",
      "pattern": "uses_cython = \"from nautilus_trader.indicators import\" in import_text or \\",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.370213",
      "auto_generated": true
    },
    {
      "id": "0e486308a538",
      "commit": "2d83460",
      "file": "indicators/technical_manager.py",
      "message": "fix: ä¿®æ­£æŒ‡æ ‡å¯¼å…¥è·¯å¾„ä¸åŸå§‹ä»“åº“ä¸€è‡´",
      "pattern": "from nautilus_trader.indicators import (",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.387282",
      "auto_generated": true
    },
    {
      "id": "bd61a43e395d",
      "commit": "9a157e8",
      "file": "scripts/diagnose_no_signal.py",
      "message": "fix: ä¿®å¤è¯Šæ–­è„šæœ¬è¯¯å°†æ³¨é‡Šè¯†åˆ«ä¸ºå¯¼å…¥è¯­å¥",
      "pattern": "if line.strip().startswith('from ') or line.strip().startswith('import ')]",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.422262",
      "auto_generated": true
    },
    {
      "id": "82cd80c3a511",
      "commit": "b866b66",
      "file": "scripts/diagnose_no_signal.py",
      "message": "chore: æ›´æ–° diagnose_no_signal.py æ·»åŠ æœ€æ–°ä¿®å¤æ£€æŸ¥",
      "pattern": "if tech_manager.exists():",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.456541",
      "auto_generated": true
    },
    {
      "id": "426b3d634f26",
      "commit": "ee43d22",
      "file": "utils/telegram_bot.py",
      "message": "fix: æ”¹ç”¨ requests ç›´æ¥è°ƒç”¨ Telegram API (å®˜æ–¹æ¨è)",
      "pattern": "import requests",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.554704",
      "auto_generated": true
    },
    {
      "id": "9554538b8049",
      "commit": "8a43d43",
      "file": "agents/__init__.py",
      "message": "fix: ä¿®å¤å¯¼è‡´æ— äº¤æ˜“ä¿¡å·çš„å¤šä¸ªé—®é¢˜",
      "pattern": "from agents.multi_agent_analyzer import MultiAgentAnalyzer",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.652922",
      "auto_generated": true
    },
    {
      "id": "bb1dddc0e93f",
      "commit": "8a43d43",
      "file": "strategy/__init__.py",
      "message": "fix: ä¿®å¤å¯¼è‡´æ— äº¤æ˜“ä¿¡å·çš„å¤šä¸ªé—®é¢˜",
      "pattern": "from strategy.deepseek_strategy import DeepSeekAIStrategy, DeepSeekAIStrategyConfig",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.668940",
      "auto_generated": true
    },
    {
      "id": "ab9dba65bf25",
      "commit": "8a43d43",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤å¯¼è‡´æ— äº¤æ˜“ä¿¡å·çš„å¤šä¸ªé—®é¢˜",
      "pattern": "'net_sentiment': 0.0,    # Required by deepseek_client (long - short = 0)",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.689540",
      "auto_generated": true
    },
    {
      "id": "dbafcd3da858",
      "commit": "8a43d43",
      "file": "utils/deepseek_client.py",
      "message": "fix: ä¿®å¤å¯¼è‡´æ— äº¤æ˜“ä¿¡å·çš„å¤šä¸ªé—®é¢˜",
      "pattern": "# Use .get() with defaults to prevent KeyError",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.709521",
      "auto_generated": true
    },
    {
      "id": "f74c611b810c",
      "commit": "262a3ee",
      "file": "scripts/diagnose_no_signal.py",
      "message": "feat: å®Œå–„è¯Šæ–­è„šæœ¬ - è¦†ç›–æ‰€æœ‰æäº¤å†å²ä¸­çš„å·²çŸ¥é—®é¢˜",
      "pattern": "import re",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.743794",
      "auto_generated": true
    },
    {
      "id": "86fe07d75ed2",
      "commit": "29907b2",
      "file": "scripts/diagnose_no_signal.py",
      "message": "feat: å¢å¼ºè¯Šæ–­è„šæœ¬ - æ£€æŸ¥æ‰€æœ‰æäº¤å†å²ä¸­çš„å·²çŸ¥é—®é¢˜",
      "pattern": "import re",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.776456",
      "auto_generated": true
    },
    {
      "id": "a15111c2e586",
      "commit": "9aeabb8",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ä¿®å¤ diagnose_realtime.py å¤šè¡Œå¯¼å…¥æ£€æµ‹é€»è¾‘",
      "pattern": "if not (has_trading_logic_import and has_min_sl_constant):",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.809963",
      "auto_generated": true
    },
    {
      "id": "3868168abce3",
      "commit": "e4a52c2",
      "file": "scripts/diagnose_realtime.py",
      "message": "refactor: å°† SL/TP éªŒè¯å‡½æ•°ç§»è‡³å…±äº«æ¨¡å—",
      "pattern": "validate_multiagent_sltp,",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.918531",
      "auto_generated": true
    },
    {
      "id": "57168b31126b",
      "commit": "e4a52c2",
      "file": "strategy/trading_logic.py",
      "message": "refactor: å°† SL/TP éªŒè¯å‡½æ•°ç§»è‡³å…±äº«æ¨¡å—",
      "pattern": "validate_multiagent_sltp",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:01.937231",
      "auto_generated": true
    },
    {
      "id": "79aaf47f2175",
      "commit": "fa738be",
      "file": "main_live.py",
      "message": "fix: ä¿®æ”¹ load_all=True ä¸å‚è€ƒä»“åº“ä¿æŒä¸€è‡´",
      "pattern": "# The binance_positions.py patch provides additional filtering if needed",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.972659",
      "auto_generated": true
    },
    {
      "id": "145413ece351",
      "commit": "e522eaa",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ä¿®å¤ Risk Manager SL è·ç¦»è¿‡è¿‘é—®é¢˜",
      "pattern": "sl_distance = (current_price - sl) / current_price if sl > 0 else 0",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.007531",
      "auto_generated": true
    },
    {
      "id": "b7a2800924a3",
      "commit": "0d02da8",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®æ­£ MultiAgent SL/TP å­—æ®µååŒ¹é…",
      "pattern": "multi_sl = self.latest_signal_data.get('stop_loss')",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.042995",
      "auto_generated": true
    },
    {
      "id": "a05653ffae44",
      "commit": "1d50912",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ç»Ÿä¸€æ¶æ„å‘½åï¼Œå½»åº•ç§»é™¤\"æ–¹æ¡ˆA/B\"æ··æ·†",
      "pattern": "This implements a hierarchical decision architecture where the Judge's decision is final,",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.094851",
      "auto_generated": true
    },
    {
      "id": "5eb23d22d848",
      "commit": "1d50912",
      "file": "strategy/trading_logic.py",
      "message": "fix: ç»Ÿä¸€æ¶æ„å‘½åï¼Œå½»åº•ç§»é™¤\"æ–¹æ¡ˆA/B\"æ··æ·†",
      "pattern": "- check_divergence() - å±‚çº§æ¶æ„ä¸å­˜åœ¨ä¿¡å·åˆ†æ­§",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.115083",
      "auto_generated": true
    },
    {
      "id": "cd3bfc039298",
      "commit": "5e0f8ce",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ç»Ÿä¸€æ¶æ„å‘½åï¼Œæ¶ˆé™¤æ–¹æ¡ˆA/Bæ··æ·†",
      "pattern": "Reference: https://github.com/TauricResearch/TradingAgents (UCLA/MIT paper)",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.149960",
      "auto_generated": true
    },
    {
      "id": "08ee8e890fc7",
      "commit": "5e0f8ce",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ç»Ÿä¸€æ¶æ„å‘½åï¼Œæ¶ˆé™¤æ–¹æ¡ˆA/Bæ··æ·†",
      "pattern": "3. ä½¿ç”¨ TradingAgents å±‚çº§å†³ç­–æ¶æ„ï¼Œä¸ deepseek_strategy.py 100% ä¸€è‡´",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.168111",
      "auto_generated": true
    },
    {
      "id": "a40f4bc74b9d",
      "commit": "7f2ee3e",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: å®ç°æ–¹æ¡ˆA - æ¢å¤Judge AIå¹¶ä¼˜åŒ–æç¤ºè¯",
      "pattern": "f\"ğŸ¯ Judge decision: {judge_decision.get('decision', 'HOLD')} \"",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.202326",
      "auto_generated": true
    },
    {
      "id": "ec764134887f",
      "commit": "3db71ac",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: æ·»åŠ Judgeé‡åŒ–å†³ç­–è§„åˆ™ï¼Œé™ä½HOLDæ¯”ä¾‹",
      "pattern": "- ONLY use \"HOLD\" if both counts < 2 AND arguments are truly balanced",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.273594",
      "auto_generated": true
    },
    {
      "id": "3a00be1f1b58",
      "commit": "fd60f3c",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ä¿®å¤åè½¬é€»è¾‘å’Œé”™è¯¯å¤„ç†çš„å…³é”®é—®é¢˜",
      "pattern": "_extract_json_with_retry",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:02.341207",
      "auto_generated": true
    },
    {
      "id": "bccd4b7467c5",
      "commit": "fd60f3c",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤åè½¬é€»è¾‘å’Œé”™è¯¯å¤„ç†çš„å…³é”®é—®é¢˜",
      "pattern": "if self.telegram_bot and self.enable_telegram and self.telegram_notify_errors:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.360850",
      "auto_generated": true
    },
    {
      "id": "cb9905f1b717",
      "commit": "accba28",
      "file": "utils/bar_persistence.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„å®‰å…¨å’Œè´¨é‡é—®é¢˜",
      "pattern": "import logging",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:02.433127",
      "auto_generated": true
    },
    {
      "id": "7e6b8a5c4f4e",
      "commit": "accba28",
      "file": "web/backend/core/config.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„å®‰å…¨å’Œè´¨é‡é—®é¢˜",
      "pattern": "if not os.getenv(\"DEBUG\", \"False\").lower() == \"true\":",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.451142",
      "auto_generated": true
    },
    {
      "id": "84c9aff0f474",
      "commit": "accba28",
      "file": "web/backend/services/config_service.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„å®‰å…¨å’Œè´¨é‡é—®é¢˜",
      "pattern": "import re",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:02.468326",
      "auto_generated": true
    },
    {
      "id": "8dfef202a6f3",
      "commit": "f45ad73",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤åŠ ä»“å’Œåè½¬ä½¿ç”¨ bracket order çš„ä¸¥é‡ bug",
      "pattern": "f\"ğŸ”„ Opened new {target_side} position: {target_quantity:.3f} BTC\"",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.503160",
      "auto_generated": true
    },
    {
      "id": "85a8fd92eafa",
      "commit": "890d154",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ç§»é™¤ diagnose_realtime.py ä¸­çš„æ—§å˜é‡å¼•ç”¨",
      "pattern": "judge_decision = signal_data.get('judge_decision', {})",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.539286",
      "auto_generated": true
    },
    {
      "id": "02475762eacf",
      "commit": "70cc94a",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ä»£ç å®¡æŸ¥é—®é¢˜ä¿®å¤ - é˜²å¾¡æ€§ç¼–ç¨‹å¢å¼º",
      "pattern": "if start != -1 and end > 0 and start < end:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.608043",
      "auto_generated": true
    },
    {
      "id": "5968a73050a3",
      "commit": "70cc94a",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä»£ç å®¡æŸ¥é—®é¢˜ä¿®å¤ - é˜²å¾¡æ€§ç¼–ç¨‹å¢å¼º",
      "pattern": "dt = datetime.utcfromtimestamp(ts / 1e9) if ts else datetime.utcnow()",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.631312",
      "auto_generated": true
    },
    {
      "id": "9bda3140f705",
      "commit": "70cc94a",
      "file": "utils/sentiment_client.py",
      "message": "fix: ä»£ç å®¡æŸ¥é—®é¢˜ä¿®å¤ - é˜²å¾¡æ€§ç¼–ç¨‹å¢å¼º",
      "pattern": "if not isinstance(token, str) or not token.isalnum() or len(token) > 10:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.649476",
      "auto_generated": true
    },
    {
      "id": "e2045e56cca0",
      "commit": "e9f6dca",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ä¿®å¤è¿‡åº¦ä¿å®ˆçš„ä¿¡å·ç”Ÿæˆé€»è¾‘",
      "pattern": "6. When in doubt between LONG/SHORT, the side with more technical confirmation wins",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.779859",
      "auto_generated": true
    },
    {
      "id": "f69356551d22",
      "commit": "e9f6dca",
      "file": "utils/deepseek_client.py",
      "message": "fix: ä¿®å¤è¿‡åº¦ä¿å®ˆçš„ä¿¡å·ç”Ÿæˆé€»è¾‘",
      "pattern": "\"Always return responses strictly in JSON format.\"",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.799609",
      "auto_generated": true
    },
    {
      "id": "466727cfa94a",
      "commit": "76a6c14",
      "file": "web/backend/core/config.py",
      "message": "fix: ä¿®å¤ web é…ç½®å’Œéƒ¨ç½²é—®é¢˜",
      "pattern": "\"http://139.180.157.152:3000\",",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.928840",
      "auto_generated": true
    },
    {
      "id": "8d68bc779e22",
      "commit": "aacde24",
      "file": "utils/telegram_command_handler.py",
      "message": "fix: é™åˆ¶ Bot å‘½ä»¤èœå•ä»…åœ¨ç§èŠä¸­æ˜¾ç¤º",
      "pattern": "from telegram import BotCommand, BotCommandScopeAllPrivateChats, BotCommandScopeAllGroupChats",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:03.030253",
      "auto_generated": true
    },
    {
      "id": "c4793da6523a",
      "commit": "f1de3d1",
      "file": "main_live.py",
      "message": "fix: åŒæ­¥ main_live.py fallback é»˜è®¤å€¼ (equity=1000, leverage=5)",
      "pattern": "equity = get_env_float('EQUITY', str(strategy_yaml.get('equity', '1000')))",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:03.125347",
      "auto_generated": true
    },
    {
      "id": "806513d51de2",
      "commit": "bc9aaa1",
      "file": "utils/telegram_command_handler.py",
      "message": "fix: ä¿®å¤å†…è”é”®ç›˜æŒ‰é’®æ— å“åº” - æ·»åŠ  callback_query åˆ° allowed_updates",
      "pattern": "allowed_updates=[\"message\", \"callback_query\"],  # Listen to messages and button callbacks",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:03.164574",
      "auto_generated": true
    },
    {
      "id": "d7506fbc8125",
      "commit": "639f667",
      "file": "utils/telegram_command_handler.py",
      "message": "fix: ä¿®å¤ Telegram webhook å†²çª - å¯åŠ¨å‰ä¸»åŠ¨åˆ é™¤ webhook",
      "pattern": "from telegram import Bot",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:03.199089",
      "auto_generated": true
    },
    {
      "id": "bc0974f690d4",
      "commit": "5b8c064",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ Telegram çº¿ç¨‹å®‰å…¨ - æ·»åŠ  from_telegram å‚æ•°",
      "pattern": "_get_current_position_data",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:03.243713",
      "auto_generated": true
    },
    {
      "id": "bf89b9680237",
      "commit": "a2574dd",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: å®Œå–„ Rust RSI çº¿ç¨‹å®‰å…¨ä¿®å¤ - _get_current_position_data",
      "pattern": "_get_current_position_data",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:03.284095",
      "auto_generated": true
    },
    {
      "id": "99f7803a0a9f",
      "commit": "264896f",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®æ­£ deepseek_strategy.py ä¸­æ—¶é—´å‘¨æœŸè§£æé¡ºåº",
      "pattern": "# NOTE: Must check longer strings first (15-MINUTE before 5-MINUTE)",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:03.374705",
      "auto_generated": true
    },
    {
      "id": "60a58d4e84cf",
      "commit": "eb43034",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ä¿®æ­£ bar_type æ—¶é—´å‘¨æœŸè§£æé¡ºåº",
      "pattern": "if \"15-MINUTE\" in bar_type_str:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:03.415466",
      "auto_generated": true
    },
    {
      "id": "7897329d0e5a",
      "commit": "7eca92d",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: apply v3.2.8 expert review fixes",
      "pattern": "from datetime import datetime, timedelta, timezone",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:51.227471",
      "auto_generated": true
    },
    {
      "id": "fdea3a93c0d4",
      "commit": "50e5015",
      "file": "scripts/test_coinalyze_api.py",
      "message": "docs: fix Coinalyze API timestamp format (seconds not ms) v3.2.4",
      "pattern": "start_time = end_time - 3600       # 1å°æ—¶å‰ (3600ç§’)",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.398650",
      "auto_generated": true
    },
    {
      "id": "8222eb44394d",
      "commit": "1d7dba0",
      "file": "scripts/test_coinalyze_api.py",
      "message": "docs: fix Coinalyze API format based on actual testing v3.2.3",
      "pattern": "'interval': '1hour',  # âš ï¸ å¿…é¡»æ˜¯ \"1hour\" ä¸æ˜¯ \"1h\"",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.450845",
      "auto_generated": true
    },
    {
      "id": "49c5cc18d9f5",
      "commit": "7c3b2ff",
      "file": "scripts/smart_commit_analyzer.py",
      "message": "fix: clean up obsolete rules and add deprecation support",
      "pattern": "deprecate_rules",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:51.556922",
      "auto_generated": true
    },
    {
      "id": "c2639de536dc",
      "commit": "f28a4b4",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: pass ConfigManager to get_strategy_config() in diagnose_realtime.py",
      "pattern": "from utils.config_manager import ConfigManager",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:51.608477",
      "auto_generated": true
    },
    {
      "id": "82ca1b72348d",
      "commit": "098b231",
      "file": "tests/test_binance_patch.py",
      "message": "fix: correct path references in test files to use parent.parent",
      "pattern": "project_root = Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.661233",
      "auto_generated": true
    },
    {
      "id": "00eb4b92e259",
      "commit": "098b231",
      "file": "tests/test_command_listener.py",
      "message": "fix: correct path references in test files to use parent.parent",
      "pattern": "sys.path.insert(0, str(Path(__file__).parent.parent))",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.690786",
      "auto_generated": true
    },
    {
      "id": "d7e1a923fd92",
      "commit": "098b231",
      "file": "tests/test_telegram.py",
      "message": "fix: correct path references in test files to use parent.parent",
      "pattern": "project_root = Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.716257",
      "auto_generated": true
    },
    {
      "id": "653bc22f4b45",
      "commit": "ac0bf0d",
      "file": "scripts/analyze_commits_ai.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "self.repo_path = repo_path or Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.764702",
      "auto_generated": true
    },
    {
      "id": "2ca03547f4b1",
      "commit": "ac0bf0d",
      "file": "scripts/analyze_git_changes.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "self.repo_path = repo_path or Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.790417",
      "auto_generated": true
    },
    {
      "id": "e275fa07eda6",
      "commit": "ac0bf0d",
      "file": "scripts/diagnose.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "project_dir = Path(__file__).parent.parent.absolute()",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.815713",
      "auto_generated": true
    },
    {
      "id": "cd38894e9f28",
      "commit": "ac0bf0d",
      "file": "scripts/diagnose_no_signal.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "config_path = Path(__file__).parent.parent / \"configs\" / \"strategy_config.yaml\"",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.844706",
      "auto_generated": true
    },
    {
      "id": "afa8178cbfae",
      "commit": "ac0bf0d",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "project_root = Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.870440",
      "auto_generated": true
    },
    {
      "id": "5e918bc65cbe",
      "commit": "ac0bf0d",
      "file": "scripts/diagnose_telegram.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "sys.path.insert(0, str(Path(__file__).parent.parent))",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.901046",
      "auto_generated": true
    },
    {
      "id": "d28304f33d86",
      "commit": "ac0bf0d",
      "file": "scripts/quick_test_main.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "os.chdir(Path(__file__).parent.parent)",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.925316",
      "auto_generated": true
    },
    {
      "id": "408b581457f2",
      "commit": "ac0bf0d",
      "file": "scripts/run_quick_test.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.949566",
      "auto_generated": true
    },
    {
      "id": "45f96d58afe0",
      "commit": "ac0bf0d",
      "file": "scripts/validate_commit_fixes.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "self.project_root = project_root or Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.978098",
      "auto_generated": true
    },
    {
      "id": "27e55ef14c02",
      "commit": "8813074",
      "file": "scripts/diagnose_no_signal.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "except Exception:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.204651",
      "auto_generated": true
    },
    {
      "id": "ccd2d39cc937",
      "commit": "8813074",
      "file": "web/backend/core/config.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "aitrader_config_path",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:52.227300",
      "auto_generated": true
    },
    {
      "id": "e1fcbbafc3c3",
      "commit": "8813074",
      "file": "web/backend/services/config_service.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "self.config_path = settings.aitrader_config_path",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.248959",
      "auto_generated": true
    },
    {
      "id": "caa4dae44f50",
      "commit": "36b78fe",
      "file": "scripts/analyze_commits_ai.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "except Exception:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.293402",
      "auto_generated": true
    },
    {
      "id": "2ada2c8c1c53",
      "commit": "36b78fe",
      "file": "scripts/analyze_git_changes.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "except Exception:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.316532",
      "auto_generated": true
    },
    {
      "id": "277632ce5e55",
      "commit": "36b78fe",
      "file": "scripts/validate_commit_fixes.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "except Exception:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.341172",
      "auto_generated": true
    },
    {
      "id": "3f8953ca33d0",
      "commit": "36b78fe",
      "file": "web/backend/core/config.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "# AItrader paths (configurable via environment variables)",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.365224",
      "auto_generated": true
    },
    {
      "id": "dfaf93be13c9",
      "commit": "614bddd",
      "file": "scripts/smart_commit_analyzer.py",
      "message": "feat: enhance smart_commit_analyzer with file move detection",
      "pattern": "find_file",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:52.408420",
      "auto_generated": true
    },
    {
      "id": "72f482ec9f00",
      "commit": "ab06b7b",
      "file": "smart_commit_analyzer.py",
      "message": "feat: replace manual rules with smart auto-evolving analyzer",
      "pattern": "import subprocess",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:52.479100",
      "auto_generated": true
    },
    {
      "id": "c7beafebd874",
      "commit": "cd036b4",
      "file": "indicators/technical_manager.py",
      "message": "fix: æ”¹ç”¨ Cython æŒ‡æ ‡é¿å… Rust çº¿ç¨‹å®‰å…¨ panic",
      "pattern": "from nautilus_trader.indicators.average.sma import SimpleMovingAverage",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:53.739222",
      "auto_generated": true
    },
    {
      "id": "1499132a781a",
      "commit": "11bab54",
      "file": "utils/telegram_bot.py",
      "message": "fix: ä¿®å¤ Telegram TCPTransport closed é”™è¯¯",
      "pattern": "return loop.run_until_complete(",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:53.877587",
      "auto_generated": true
    },
    {
      "id": "b182fbf6fc63",
      "commit": "a9a3655",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ç»Ÿä¸€ MIN_SL_DISTANCE_PCT å¸¸é‡ä¸º 1%",
      "pattern": "from strategy.trading_logic import MIN_SL_DISTANCE_PCT",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:54.297227",
      "auto_generated": true
    },
    {
      "id": "a01b52785774",
      "commit": "a9a3655",
      "file": "diagnose_realtime.py",
      "message": "fix: ç»Ÿä¸€ MIN_SL_DISTANCE_PCT å¸¸é‡ä¸º 1%",
      "pattern": "if trading_logic_path.exists():",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:54.323475",
      "auto_generated": true
    },
    {
      "id": "e78fe09729aa",
      "commit": "a9a3655",
      "file": "strategy/trading_logic.py",
      "message": "fix: ç»Ÿä¸€ MIN_SL_DISTANCE_PCT å¸¸é‡ä¸º 1%",
      "pattern": "MIN_SL_DISTANCE_PCT = 0.01   # 1% minimum SL distance (avoid too tight stops)",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:54.349272",
      "auto_generated": true
    },
    {
      "id": "bb6202aa83e2",
      "commit": "aac0af5",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: å®ç°æ··åˆå†³ç­–æ¶æ„ï¼Œç§»é™¤Judge AIå±‚ï¼Œä½¿ç”¨ç¡®å®šæ€§é‡åŒ–é€»è¾‘",
      "pattern": "_count_technical_confirmations",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:54.828779",
      "auto_generated": true
    },
    {
      "id": "3f213e7457b8",
      "commit": "4b2e597",
      "file": "diagnose_realtime.py",
      "message": "refactor: æ”¹è¿› diagnose_realtime.py ä»£ç è´¨é‡",
      "pattern": "from typing import Optional",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:55.028993",
      "auto_generated": true
    },
    {
      "id": "f43dfcb73ac8",
      "commit": "accba28",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„å®‰å…¨å’Œè´¨é‡é—®é¢˜",
      "pattern": "# Additional validation: check minimum distance",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.069629",
      "auto_generated": true
    },
    {
      "id": "7db1e6b628dc",
      "commit": "5c08838",
      "file": "diagnose_realtime.py",
      "message": "fix: ä¿®å¤ diagnose_realtime.py å˜é‡åé”™è¯¯",
      "pattern": "signal_data=signal_data,  # æ–¹æ¡ˆB: ä½¿ç”¨ Judge çš„å†³ç­–æ•°æ®",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.288653",
      "auto_generated": true
    },
    {
      "id": "8e83151c4baf",
      "commit": "24c616f",
      "file": "diagnose_realtime.py",
      "message": "refactor: å®Œæˆæ–¹æ¡ˆBå…¨é¢ä¿®å¤ - è¯Šæ–­è„šæœ¬å’Œé…ç½®æ–‡ä»¶",
      "pattern": "print(f\"     Signal: {signal_data.get('signal', 'N/A')}\")",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.442601",
      "auto_generated": true
    },
    {
      "id": "391a5ebf6327",
      "commit": "24c616f",
      "file": "strategy/trading_logic.py",
      "message": "refactor: å®Œæˆæ–¹æ¡ˆBå…¨é¢ä¿®å¤ - è¯Šæ–­è„šæœ¬å’Œé…ç½®æ–‡ä»¶",
      "pattern": "- check_confidence_threshold() - ä»åœ¨ä½¿ç”¨",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.527250",
      "auto_generated": true
    },
    {
      "id": "6fdcbe4d53b7",
      "commit": "79e168a",
      "file": "diagnose_realtime.py",
      "message": "fix: è¯Šæ–­è„šæœ¬æ˜¾ç¤ºæ­£ç¡®çš„ SL/TP (æ¥è‡ªæœ€ç»ˆä¿¡å·)",
      "pattern": "final_sl = final_signal_data.get('stop_loss')",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.570095",
      "auto_generated": true
    },
    {
      "id": "df2e136b58a5",
      "commit": "a1fb405",
      "file": "diagnose_realtime.py",
      "message": "fix: åŒæ­¥ diagnose_realtime.py ä¸æœ€æ–°ç­–ç•¥é€»è¾‘",
      "pattern": "if opposing_signals or hold_vs_action:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.624958",
      "auto_generated": true
    },
    {
      "id": "449c5bfc32bf",
      "commit": "24bc34b",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: HOLD vs BUY/SELL åˆ†æ­§ä¹Ÿåº”ç”¨ä¿¡å¿ƒèåˆ",
      "pattern": "if opposing_signals or hold_vs_action:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.740981",
      "auto_generated": true
    },
    {
      "id": "f26b180c7071",
      "commit": "922f973",
      "file": "diagnose_realtime.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜",
      "pattern": "resolve_divergence_by_confidence",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:56.058393",
      "auto_generated": true
    },
    {
      "id": "0f207da88bfc",
      "commit": "922f973",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜",
      "pattern": "_create_hold_signal",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:56.087334",
      "auto_generated": true
    },
    {
      "id": "7e885fd6b2dd",
      "commit": "8cecd6e",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ Rust RSI çº¿ç¨‹å®‰å…¨å´©æºƒ (Telegram å‘½ä»¤å¤„ç†)",
      "pattern": "# Fallback to entry price if no price cached yet",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:56.386255",
      "auto_generated": true
    },
    {
      "id": "981c8a9179ce",
      "commit": "e1b845f",
      "file": "debug_signal.py",
      "message": "fix: ä¿®æ­£ TechnicalIndicatorManager ç±»åå’Œå‚æ•°",
      "pattern": "from indicators.technical_manager import TechnicalIndicatorManager",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:56.540841",
      "auto_generated": true
    },
    {
      "id": "17c223dbadc6",
      "commit": "a51a83a",
      "file": "debug_telegram_config.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜",
      "pattern": "print(f\"  TELEGRAM_BOT_TOKEN: {'âœ… Set (' + str(len(bot_token)) + ' chars)' if bot_token else 'âŒ NOT SET'}\")",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:56.578945",
      "auto_generated": true
    },
    {
      "id": "8d84fd939792",
      "commit": "a51a83a",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜",
      "pattern": "# The config is preserved for future implementation.",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:56.609746",
      "auto_generated": true
    },
    {
      "id": "86afea33e75a",
      "commit": "a51a83a",
      "file": "utils/sentiment_client.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜",
      "pattern": "from datetime import datetime, timezone",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:56.639657",
      "auto_generated": true
    },
    {
      "id": "a3dce20d78c6",
      "commit": "5ad8295",
      "file": "diagnose.py",
      "message": "fix: Address code review issues in diagnose.py",
      "pattern": "elif min_version and version == \"unknown\":",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:56.689308",
      "auto_generated": true
    },
    {
      "id": "1c9f3b485753",
      "commit": "b822a82",
      "file": "main_live.py",
      "message": "fix: Address code review issues",
      "pattern": "_strip_env_comment",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:56.744940",
      "auto_generated": true
    },
    {
      "id": "73606e259dd9",
      "commit": "9409f4b",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: diagnose_realtime.py recognizes getter functions for SL validation",
      "pattern": "if not (has_trading_logic_import and (has_min_sl_constant or has_min_sl_getter)):",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.410584",
      "auto_generated": true
    },
    {
      "id": "0d3fbc10a1ec",
      "commit": "3f10551",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: update diagnose_realtime.py to recognize ConfigManager format",
      "pattern": "# æ ¼å¼2 (æ–°): config_manager.get('execution', 'engine', 'reconciliation', default=True)",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.456719",
      "auto_generated": true
    },
    {
      "id": "0cb04a548ac7",
      "commit": "2ad8efb",
      "file": "scripts/diagnose_realtime.py",
      "message": "feat: diagnose_realtime v10.3 - full parity with live trading",
      "pattern": "import requests as mtf_requests",
      "pattern_type": "import",
      "created": "2026-01-27T03:06:25.494585",
      "auto_generated": true
    },
    {
      "id": "66205c85e10a",
      "commit": "24ef917",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: correct method names in diagnose_realtime.py v10.2",
      "pattern": "import time as time_module",
      "pattern_type": "import",
      "created": "2026-01-27T03:06:25.533971",
      "auto_generated": true
    },
    {
      "id": "28f348de0cbb",
      "commit": "2bab2a4",
      "file": "scripts/comprehensive_diagnosis.py",
      "message": "fix: check COINALYZE_API_KEY from both YAML and environment variable",
      "pattern": "coinalyze_api_key = coinalyze.get('api_key') or os.getenv('COINALYZE_API_KEY')",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.567679",
      "auto_generated": true
    },
    {
      "id": "7a53e4ba0ad6",
      "commit": "2bab2a4",
      "file": "scripts/diagnose.py",
      "message": "fix: check COINALYZE_API_KEY from both YAML and environment variable",
      "pattern": "coinalyze_api_key = coinalyze.get('api_key') or os.getenv('COINALYZE_API_KEY')",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.585842",
      "auto_generated": true
    },
    {
      "id": "1f7832be712d",
      "commit": "2bab2a4",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: check COINALYZE_API_KEY from both YAML and environment variable",
      "pattern": "coinalyze_api_key = coinalyze.get('api_key') or os.getenv('COINALYZE_API_KEY')",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.605396",
      "auto_generated": true
    },
    {
      "id": "6fb7bb091af2",
      "commit": "85a8dbd",
      "file": "scripts/comprehensive_diagnosis.py",
      "message": "fix: add venv auto-switch to comprehensive_diagnosis and diagnose_realtime",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-01-27T03:06:25.654528",
      "auto_generated": true
    },
    {
      "id": "a33ebf05cfe2",
      "commit": "85a8dbd",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: add venv auto-switch to comprehensive_diagnosis and diagnose_realtime",
      "pattern": "from pathlib import Path",
      "pattern_type": "import",
      "created": "2026-01-27T03:06:25.675591",
      "auto_generated": true
    },
    {
      "id": "c8dc5375ab45",
      "commit": "e70b094",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: use direct Binance API for MTF historical data prefetch",
      "pattern": "import requests",
      "pattern_type": "import",
      "created": "2026-01-27T03:06:25.714162",
      "auto_generated": true
    },
    {
      "id": "6bcbb335f243",
      "commit": "53f7e78",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: use configured timeout for Binance klines request",
      "pattern": "response = requests.get(url, params=params, timeout=self.config.network_bar_persistence_timeout)",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.749139",
      "auto_generated": true
    },
    {
      "id": "77038b1e693d",
      "commit": "d4ad5e7",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Auto-calculate unrealized PnL in diagnose_realtime.py v10.13",
      "pattern": "if unrealized_pnl == 0 and entry_price > 0 and current_price > 0:",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:51.990117",
      "auto_generated": true
    },
    {
      "id": "0d6af29a762c",
      "commit": "dd3d65b",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: Fix type conversion errors in multi_agent_analyzer.py",
      "pattern": "raw_price = price_data.get('price', 0) if price_data else technical_report.get('price', 0)",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.028654",
      "auto_generated": true
    },
    {
      "id": "37ceff666b8d",
      "commit": "8b6f8d3",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Fix field name mismatches in diagnose_realtime.py v10.12",
      "pattern": "if entry_price > 0:",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.068353",
      "auto_generated": true
    },
    {
      "id": "de13f8ce9207",
      "commit": "b80a903",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Fix Liquidations unit display in diagnose_realtime.py v10.11",
      "pattern": "long_liq_btc = float(item.get('l', 0))",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.108692",
      "auto_generated": true
    },
    {
      "id": "0f35d3348ef1",
      "commit": "ff38a17",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Update diagnose_realtime.py to v10.10 - add Liquidations debug output",
      "pattern": "print(f\"        [DEBUG] history type: {type(history)}, len: {len(history) if history else 0}\")",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.147876",
      "auto_generated": true
    },
    {
      "id": "f05d32d21c76",
      "commit": "b9a5f89",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Update diagnose_realtime.py to v10.8 - fix Coinalyze config path",
      "pattern": "- ä¿®å¤ Step 9.3 Coinalyze é…ç½®è·¯å¾„: base_config.get('coinalyze') â†’ order_flow.get('coinalyze')",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.189458",
      "auto_generated": true
    },
    {
      "id": "34a2e0047347",
      "commit": "776d8f3",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Update diagnose_realtime.py to v10.7 - fix SentimentDataFetcher init",
      "pattern": "print(f\"  å®ç›˜ä¿¡å·è¯Šæ–­å·¥å…· v10.7 (TradingAgents + MTF 100% è¦†ç›–){mode_str}\")",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.225744",
      "auto_generated": true
    },
    {
      "id": "26dce713b0bc",
      "commit": "7558960",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Update diagnose_realtime.py to v10.5 with Coinalyze data parsing fixes",
      "pattern": "fr_value = fr_data.get('value', 0)",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.261689",
      "auto_generated": true
    },
    {
      "id": "e89520d22f6c",
      "commit": "3106a65",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Add 'price' to technical_data for AI analysis (v10.14)",
      "pattern": "- technical_data (from indicator_manager.get_technical_data()) ä¸åŒ…å« 'price' é”®",
      "pattern_type": "contains",
      "created": "2026-01-27T13:21:34.719236",
      "auto_generated": true
    },
    {
      "id": "2b23b449376d",
      "commit": "3106a65",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: Add 'price' to technical_data for AI analysis (v10.14)",
      "pattern": "ai_technical_data['price'] = current_price",
      "pattern_type": "contains",
      "created": "2026-01-27T13:21:34.743055",
      "auto_generated": true
    },
    {
      "id": "7be81bf170ed",
      "commit": "5713613",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: Fix Liquidations BTCâ†’USD conversion in multi_agent_analyzer.py",
      "pattern": "_format_derivatives_report",
      "pattern_type": "function_exists",
      "created": "2026-01-27T13:21:34.781165",
      "auto_generated": true
    }
  ],
  "metadata": {
    "created": "2026-01-25T11:38:00.517124",
    "updated": "2026-01-27T13:21:38.877662",
    "count": 131,
    "cleanup_note": "Removed 14 obsolete rules on 2026-01-26"
  }
}