{
  "rules": [
    {
      "id": "4febf586c627",
      "commit": "d6d0f48",
      "file": "scripts/validate_commit_fixes.py",
      "message": "fix: suppress print output in JSON mode for validate_commit_fixes.py",
      "pattern": "check_chain_reactions",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:00.617727",
      "auto_generated": true
    },
    {
      "id": "fca1d0224651",
      "commit": "3c33048",
      "file": "scripts/analyze_commits_ai.py",
      "message": "feat: add analyze_commits_ai.py - AI-enhanced commit analysis",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.671601",
      "auto_generated": true
    },
    {
      "id": "ceb4383fd994",
      "commit": "41882a2",
      "file": "scripts/analyze_git_changes.py",
      "message": "feat: add analyze_git_changes.py - automatic git history analyzer",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.711316",
      "auto_generated": true
    },
    {
      "id": "fe19777a6416",
      "commit": "d10b646",
      "file": "scripts/validate_commit_fixes.py",
      "message": "feat: add validate_commit_fixes.py - commit regression checker",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.751674",
      "auto_generated": true
    },
    {
      "id": "1504e4e9186d",
      "commit": "34cc984",
      "file": "main_live.py",
      "message": "fix: add missing SL/TP, trailing stop, OCO config passing from ConfigManager",
      "pattern": "enable_auto_sl_tp=config_manager.get('risk', 'stop_loss', 'enabled', default=True),",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:00.790636",
      "auto_generated": true
    },
    {
      "id": "eba2a37e3432",
      "commit": "bc04e08",
      "file": "scripts/comprehensive_diagnosis.py",
      "message": "fix(scripts): ä¿®å¤ comprehensive_diagnosis.py ä¸­çš„ç±»åé”™è¯¯",
      "pattern": "from utils.deepseek_client import DeepSeekAnalyzer",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.826762",
      "auto_generated": true
    },
    {
      "id": "f46c73aec911",
      "commit": "321788f",
      "file": "scripts/comprehensive_diagnosis.py",
      "message": "feat(scripts): æ·»åŠ é…ç½®ç®¡ç†æ–¹æ¡ˆå…¨é¢è¯Šæ–­è„šæœ¬",
      "pattern": "import sys",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.863905",
      "auto_generated": true
    },
    {
      "id": "e4c6e49f5184",
      "commit": "41a0990",
      "file": "agents/multi_agent_analyzer.py",
      "message": "feat(config): Phase 3 - trading_logic.py å¸¸é‡è¿ç§»åˆ° ConfigManager",
      "pattern": "# Get configuration values (Phase 3: migrated to ConfigManager)",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:00.897387",
      "auto_generated": true
    },
    {
      "id": "1365d8469c0a",
      "commit": "41a0990",
      "file": "strategy/trading_logic.py",
      "message": "feat(config): Phase 3 - trading_logic.py å¸¸é‡è¿ç§»åˆ° ConfigManager",
      "pattern": "from utils.config_manager import get_config",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:00.915097",
      "auto_generated": true
    },
    {
      "id": "f26d12322df6",
      "commit": "9d9ff66",
      "file": "utils/config_manager.py",
      "message": "fix(config): ä¿®å¤ YAML None å€¼å¯¼è‡´çš„ _set_nested TypeError",
      "pattern": "if key not in d:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:00.949327",
      "auto_generated": true
    },
    {
      "id": "cb53f82983d4",
      "commit": "d7701d3",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: åŒæ­¥ RSI é»˜è®¤å€¼ä¸ YAML é…ç½® (75/25 â†’ 70/30)",
      "pattern": "rsi_extreme_threshold_upper: float = 70.0  # ä¸ strategy_config.yaml ä¸€è‡´",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.105936",
      "auto_generated": true
    },
    {
      "id": "f9227e042526",
      "commit": "333c17f",
      "file": "main_live.py",
      "message": "fix: æ‰§è¡Œ Phase 0 ä¿®å¤é…ç½®å†²çª + æ›´æ–°æ–¹æ¡ˆè‡³ v2.2",
      "pattern": "deepseek_config = strategy_yaml.get('deepseek', {})",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.164365",
      "auto_generated": true
    },
    {
      "id": "3774db8fba72",
      "commit": "52291cf",
      "file": "scripts/diagnose_no_signal.py",
      "message": "fix: è¿›ä¸€æ­¥ä¼˜åŒ–è¯Šæ–­é€»è¾‘é¿å…è¯¯æŠ¥",
      "pattern": "check_bar_data",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:01.249471",
      "auto_generated": true
    },
    {
      "id": "21ca68c485b0",
      "commit": "9c22ab3",
      "file": "scripts/diagnose_no_signal.py",
      "message": "feat: å®Œå–„ diagnose_no_signal.py è¯Šæ–­é€»è¾‘",
      "pattern": "if 'running periodic analysis' in line_lower or \\",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.284599",
      "auto_generated": true
    },
    {
      "id": "7daa66bc8e4c",
      "commit": "cfb57da",
      "file": "utils/telegram_bot.py",
      "message": "fix: ä¿®å¤ Telegram Markdown è§£æé”™è¯¯",
      "pattern": "escape_markdown",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:01.319300",
      "auto_generated": true
    },
    {
      "id": "4cbb5bda227b",
      "commit": "cfb57da",
      "file": "utils/telegram_command_handler.py",
      "message": "fix: ä¿®å¤ Telegram Markdown è§£æé”™è¯¯",
      "pattern": "if \"can't parse\" in error_str or \"parse entities\" in error_str:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.337025",
      "auto_generated": true
    },
    {
      "id": "320af7b012b0",
      "commit": "2d83460",
      "file": "scripts/diagnose_no_signal.py",
      "message": "fix: ä¿®æ­£æŒ‡æ ‡å¯¼å…¥è·¯å¾„ä¸åŸå§‹ä»“åº“ä¸€è‡´",
      "pattern": "uses_cython = \"from nautilus_trader.indicators import\" in import_text or \\",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.370213",
      "auto_generated": true
    },
    {
      "id": "0e486308a538",
      "commit": "2d83460",
      "file": "indicators/technical_manager.py",
      "message": "fix: ä¿®æ­£æŒ‡æ ‡å¯¼å…¥è·¯å¾„ä¸åŸå§‹ä»“åº“ä¸€è‡´",
      "pattern": "from nautilus_trader.indicators import (",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.387282",
      "auto_generated": true
    },
    {
      "id": "bd61a43e395d",
      "commit": "9a157e8",
      "file": "scripts/diagnose_no_signal.py",
      "message": "fix: ä¿®å¤è¯Šæ–­è„šæœ¬è¯¯å°†æ³¨é‡Šè¯†åˆ«ä¸ºå¯¼å…¥è¯­å¥",
      "pattern": "if line.strip().startswith('from ') or line.strip().startswith('import ')]",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.422262",
      "auto_generated": true
    },
    {
      "id": "82cd80c3a511",
      "commit": "b866b66",
      "file": "scripts/diagnose_no_signal.py",
      "message": "chore: æ›´æ–° diagnose_no_signal.py æ·»åŠ æœ€æ–°ä¿®å¤æ£€æŸ¥",
      "pattern": "if tech_manager.exists():",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.456541",
      "auto_generated": true
    },
    {
      "id": "426b3d634f26",
      "commit": "ee43d22",
      "file": "utils/telegram_bot.py",
      "message": "fix: æ”¹ç”¨ requests ç›´æ¥è°ƒç”¨ Telegram API (å®˜æ–¹æ¨è)",
      "pattern": "import requests",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.554704",
      "auto_generated": true
    },
    {
      "id": "9554538b8049",
      "commit": "8a43d43",
      "file": "agents/__init__.py",
      "message": "fix: ä¿®å¤å¯¼è‡´æ— äº¤æ˜“ä¿¡å·çš„å¤šä¸ªé—®é¢˜",
      "pattern": "from agents.multi_agent_analyzer import MultiAgentAnalyzer",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.652922",
      "auto_generated": true
    },
    {
      "id": "bb1dddc0e93f",
      "commit": "8a43d43",
      "file": "strategy/__init__.py",
      "message": "fix: ä¿®å¤å¯¼è‡´æ— äº¤æ˜“ä¿¡å·çš„å¤šä¸ªé—®é¢˜",
      "pattern": "from strategy.deepseek_strategy import DeepSeekAIStrategy, DeepSeekAIStrategyConfig",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.668940",
      "auto_generated": true
    },
    {
      "id": "ab9dba65bf25",
      "commit": "8a43d43",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤å¯¼è‡´æ— äº¤æ˜“ä¿¡å·çš„å¤šä¸ªé—®é¢˜",
      "pattern": "'net_sentiment': 0.0,    # Required by deepseek_client (long - short = 0)",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.689540",
      "auto_generated": true
    },
    {
      "id": "dbafcd3da858",
      "commit": "8a43d43",
      "file": "utils/deepseek_client.py",
      "message": "fix: ä¿®å¤å¯¼è‡´æ— äº¤æ˜“ä¿¡å·çš„å¤šä¸ªé—®é¢˜",
      "pattern": "# Use .get() with defaults to prevent KeyError",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.709521",
      "auto_generated": true
    },
    {
      "id": "f74c611b810c",
      "commit": "262a3ee",
      "file": "scripts/diagnose_no_signal.py",
      "message": "feat: å®Œå–„è¯Šæ–­è„šæœ¬ - è¦†ç›–æ‰€æœ‰æäº¤å†å²ä¸­çš„å·²çŸ¥é—®é¢˜",
      "pattern": "import re",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.743794",
      "auto_generated": true
    },
    {
      "id": "86fe07d75ed2",
      "commit": "29907b2",
      "file": "scripts/diagnose_no_signal.py",
      "message": "feat: å¢å¼ºè¯Šæ–­è„šæœ¬ - æ£€æŸ¥æ‰€æœ‰æäº¤å†å²ä¸­çš„å·²çŸ¥é—®é¢˜",
      "pattern": "import re",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:01.776456",
      "auto_generated": true
    },
    {
      "id": "a15111c2e586",
      "commit": "9aeabb8",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ä¿®å¤ diagnose_realtime.py å¤šè¡Œå¯¼å…¥æ£€æµ‹é€»è¾‘",
      "pattern": "if not (has_trading_logic_import and has_min_sl_constant):",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.809963",
      "auto_generated": true
    },
    {
      "id": "3868168abce3",
      "commit": "e4a52c2",
      "file": "scripts/diagnose_realtime.py",
      "message": "refactor: å°† SL/TP éªŒè¯å‡½æ•°ç§»è‡³å…±äº«æ¨¡å—",
      "pattern": "validate_multiagent_sltp,",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.918531",
      "auto_generated": true
    },
    {
      "id": "57168b31126b",
      "commit": "e4a52c2",
      "file": "strategy/trading_logic.py",
      "message": "refactor: å°† SL/TP éªŒè¯å‡½æ•°ç§»è‡³å…±äº«æ¨¡å—",
      "pattern": "validate_multiagent_sltp",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:01.937231",
      "auto_generated": true
    },
    {
      "id": "79aaf47f2175",
      "commit": "fa738be",
      "file": "main_live.py",
      "message": "fix: ä¿®æ”¹ load_all=True ä¸å‚è€ƒä»“åº“ä¿æŒä¸€è‡´",
      "pattern": "# The binance_positions.py patch provides additional filtering if needed",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:01.972659",
      "auto_generated": true
    },
    {
      "id": "145413ece351",
      "commit": "e522eaa",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ä¿®å¤ Risk Manager SL è·ç¦»è¿‡è¿‘é—®é¢˜",
      "pattern": "sl_distance = (current_price - sl) / current_price if sl > 0 else 0",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.007531",
      "auto_generated": true
    },
    {
      "id": "b7a2800924a3",
      "commit": "0d02da8",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®æ­£ MultiAgent SL/TP å­—æ®µååŒ¹é…",
      "pattern": "multi_sl = self.latest_signal_data.get('stop_loss')",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.042995",
      "auto_generated": true
    },
    {
      "id": "a05653ffae44",
      "commit": "1d50912",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ç»Ÿä¸€æ¶æ„å‘½åï¼Œå½»åº•ç§»é™¤\"æ–¹æ¡ˆA/B\"æ··æ·†",
      "pattern": "This implements a hierarchical decision architecture where the Judge's decision is final,",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.094851",
      "auto_generated": true
    },
    {
      "id": "5eb23d22d848",
      "commit": "1d50912",
      "file": "strategy/trading_logic.py",
      "message": "fix: ç»Ÿä¸€æ¶æ„å‘½åï¼Œå½»åº•ç§»é™¤\"æ–¹æ¡ˆA/B\"æ··æ·†",
      "pattern": "- check_divergence() - å±‚çº§æ¶æ„ä¸å­˜åœ¨ä¿¡å·åˆ†æ­§",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.115083",
      "auto_generated": true
    },
    {
      "id": "cd3bfc039298",
      "commit": "5e0f8ce",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ç»Ÿä¸€æ¶æ„å‘½åï¼Œæ¶ˆé™¤æ–¹æ¡ˆA/Bæ··æ·†",
      "pattern": "Reference: https://github.com/TauricResearch/TradingAgents (UCLA/MIT paper)",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.149960",
      "auto_generated": true
    },
    {
      "id": "08ee8e890fc7",
      "commit": "5e0f8ce",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ç»Ÿä¸€æ¶æ„å‘½åï¼Œæ¶ˆé™¤æ–¹æ¡ˆA/Bæ··æ·†",
      "pattern": "3. ä½¿ç”¨ TradingAgents å±‚çº§å†³ç­–æ¶æ„ï¼Œä¸ deepseek_strategy.py 100% ä¸€è‡´",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.168111",
      "auto_generated": true
    },
    {
      "id": "a40f4bc74b9d",
      "commit": "7f2ee3e",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: å®ç°æ–¹æ¡ˆA - æ¢å¤Judge AIå¹¶ä¼˜åŒ–æç¤ºè¯",
      "pattern": "f\"ğŸ¯ Judge decision: {judge_decision.get('decision', 'HOLD')} \"",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.202326",
      "auto_generated": true
    },
    {
      "id": "ec764134887f",
      "commit": "3db71ac",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: æ·»åŠ Judgeé‡åŒ–å†³ç­–è§„åˆ™ï¼Œé™ä½HOLDæ¯”ä¾‹",
      "pattern": "- ONLY use \"HOLD\" if both counts < 2 AND arguments are truly balanced",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.273594",
      "auto_generated": true
    },
    {
      "id": "3a00be1f1b58",
      "commit": "fd60f3c",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ä¿®å¤åè½¬é€»è¾‘å’Œé”™è¯¯å¤„ç†çš„å…³é”®é—®é¢˜",
      "pattern": "_extract_json_with_retry",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:02.341207",
      "auto_generated": true
    },
    {
      "id": "bccd4b7467c5",
      "commit": "fd60f3c",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤åè½¬é€»è¾‘å’Œé”™è¯¯å¤„ç†çš„å…³é”®é—®é¢˜",
      "pattern": "if self.telegram_bot and self.enable_telegram and self.telegram_notify_errors:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.360850",
      "auto_generated": true
    },
    {
      "id": "cb9905f1b717",
      "commit": "accba28",
      "file": "utils/bar_persistence.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„å®‰å…¨å’Œè´¨é‡é—®é¢˜",
      "pattern": "import logging",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:02.433127",
      "auto_generated": true
    },
    {
      "id": "7e6b8a5c4f4e",
      "commit": "accba28",
      "file": "web/backend/core/config.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„å®‰å…¨å’Œè´¨é‡é—®é¢˜",
      "pattern": "if not os.getenv(\"DEBUG\", \"False\").lower() == \"true\":",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.451142",
      "auto_generated": true
    },
    {
      "id": "84c9aff0f474",
      "commit": "accba28",
      "file": "web/backend/services/config_service.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„å®‰å…¨å’Œè´¨é‡é—®é¢˜",
      "pattern": "import re",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:02.468326",
      "auto_generated": true
    },
    {
      "id": "8dfef202a6f3",
      "commit": "f45ad73",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤åŠ ä»“å’Œåè½¬ä½¿ç”¨ bracket order çš„ä¸¥é‡ bug",
      "pattern": "f\"ğŸ”„ Opened new {target_side} position: {target_quantity:.3f} BTC\"",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.503160",
      "auto_generated": true
    },
    {
      "id": "85a8fd92eafa",
      "commit": "890d154",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ç§»é™¤ diagnose_realtime.py ä¸­çš„æ—§å˜é‡å¼•ç”¨",
      "pattern": "judge_decision = signal_data.get('judge_decision', {})",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.539286",
      "auto_generated": true
    },
    {
      "id": "02475762eacf",
      "commit": "70cc94a",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ä»£ç å®¡æŸ¥é—®é¢˜ä¿®å¤ - é˜²å¾¡æ€§ç¼–ç¨‹å¢å¼º",
      "pattern": "if start != -1 and end > 0 and start < end:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.608043",
      "auto_generated": true
    },
    {
      "id": "5968a73050a3",
      "commit": "70cc94a",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä»£ç å®¡æŸ¥é—®é¢˜ä¿®å¤ - é˜²å¾¡æ€§ç¼–ç¨‹å¢å¼º",
      "pattern": "dt = datetime.utcfromtimestamp(ts / 1e9) if ts else datetime.utcnow()",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.631312",
      "auto_generated": true
    },
    {
      "id": "9bda3140f705",
      "commit": "70cc94a",
      "file": "utils/sentiment_client.py",
      "message": "fix: ä»£ç å®¡æŸ¥é—®é¢˜ä¿®å¤ - é˜²å¾¡æ€§ç¼–ç¨‹å¢å¼º",
      "pattern": "if not isinstance(token, str) or not token.isalnum() or len(token) > 10:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.649476",
      "auto_generated": true
    },
    {
      "id": "e2045e56cca0",
      "commit": "e9f6dca",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ä¿®å¤è¿‡åº¦ä¿å®ˆçš„ä¿¡å·ç”Ÿæˆé€»è¾‘",
      "pattern": "6. When in doubt between LONG/SHORT, the side with more technical confirmation wins",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.779859",
      "auto_generated": true
    },
    {
      "id": "f69356551d22",
      "commit": "e9f6dca",
      "file": "utils/deepseek_client.py",
      "message": "fix: ä¿®å¤è¿‡åº¦ä¿å®ˆçš„ä¿¡å·ç”Ÿæˆé€»è¾‘",
      "pattern": "\"Always return responses strictly in JSON format.\"",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.799609",
      "auto_generated": true
    },
    {
      "id": "466727cfa94a",
      "commit": "76a6c14",
      "file": "web/backend/core/config.py",
      "message": "fix: ä¿®å¤ web é…ç½®å’Œéƒ¨ç½²é—®é¢˜",
      "pattern": "\"http://139.180.157.152:3000\",",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:02.928840",
      "auto_generated": true
    },
    {
      "id": "8d68bc779e22",
      "commit": "aacde24",
      "file": "utils/telegram_command_handler.py",
      "message": "fix: é™åˆ¶ Bot å‘½ä»¤èœå•ä»…åœ¨ç§èŠä¸­æ˜¾ç¤º",
      "pattern": "from telegram import BotCommand, BotCommandScopeAllPrivateChats, BotCommandScopeAllGroupChats",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:03.030253",
      "auto_generated": true
    },
    {
      "id": "c4793da6523a",
      "commit": "f1de3d1",
      "file": "main_live.py",
      "message": "fix: åŒæ­¥ main_live.py fallback é»˜è®¤å€¼ (equity=1000, leverage=5)",
      "pattern": "equity = get_env_float('EQUITY', str(strategy_yaml.get('equity', '1000')))",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:03.125347",
      "auto_generated": true
    },
    {
      "id": "806513d51de2",
      "commit": "bc9aaa1",
      "file": "utils/telegram_command_handler.py",
      "message": "fix: ä¿®å¤å†…è”é”®ç›˜æŒ‰é’®æ— å“åº” - æ·»åŠ  callback_query åˆ° allowed_updates",
      "pattern": "allowed_updates=[\"message\", \"callback_query\"],  # Listen to messages and button callbacks",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:03.164574",
      "auto_generated": true
    },
    {
      "id": "d7506fbc8125",
      "commit": "639f667",
      "file": "utils/telegram_command_handler.py",
      "message": "fix: ä¿®å¤ Telegram webhook å†²çª - å¯åŠ¨å‰ä¸»åŠ¨åˆ é™¤ webhook",
      "pattern": "from telegram import Bot",
      "pattern_type": "import",
      "created": "2026-01-25T11:38:03.199089",
      "auto_generated": true
    },
    {
      "id": "bc0974f690d4",
      "commit": "5b8c064",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ Telegram çº¿ç¨‹å®‰å…¨ - æ·»åŠ  from_telegram å‚æ•°",
      "pattern": "_get_current_position_data",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:03.243713",
      "auto_generated": true
    },
    {
      "id": "bf89b9680237",
      "commit": "a2574dd",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: å®Œå–„ Rust RSI çº¿ç¨‹å®‰å…¨ä¿®å¤ - _get_current_position_data",
      "pattern": "_get_current_position_data",
      "pattern_type": "function_exists",
      "created": "2026-01-25T11:38:03.284095",
      "auto_generated": true
    },
    {
      "id": "99f7803a0a9f",
      "commit": "264896f",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®æ­£ deepseek_strategy.py ä¸­æ—¶é—´å‘¨æœŸè§£æé¡ºåº",
      "pattern": "# NOTE: Must check longer strings first (15-MINUTE before 5-MINUTE)",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:03.374705",
      "auto_generated": true
    },
    {
      "id": "60a58d4e84cf",
      "commit": "eb43034",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ä¿®æ­£ bar_type æ—¶é—´å‘¨æœŸè§£æé¡ºåº",
      "pattern": "if \"15-MINUTE\" in bar_type_str:",
      "pattern_type": "contains",
      "created": "2026-01-25T11:38:03.415466",
      "auto_generated": true
    },
    {
      "id": "7897329d0e5a",
      "commit": "7eca92d",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: apply v3.2.8 expert review fixes",
      "pattern": "from datetime import datetime, timedelta, timezone",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:51.227471",
      "auto_generated": true
    },
    {
      "id": "fdea3a93c0d4",
      "commit": "50e5015",
      "file": "scripts/test_coinalyze_api.py",
      "message": "docs: fix Coinalyze API timestamp format (seconds not ms) v3.2.4",
      "pattern": "start_time = end_time - 3600       # 1å°æ—¶å‰ (3600ç§’)",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.398650",
      "auto_generated": true
    },
    {
      "id": "8222eb44394d",
      "commit": "1d7dba0",
      "file": "scripts/test_coinalyze_api.py",
      "message": "docs: fix Coinalyze API format based on actual testing v3.2.3",
      "pattern": "'interval': '1hour',  # âš ï¸ å¿…é¡»æ˜¯ \"1hour\" ä¸æ˜¯ \"1h\"",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.450845",
      "auto_generated": true
    },
    {
      "id": "49c5cc18d9f5",
      "commit": "7c3b2ff",
      "file": "scripts/smart_commit_analyzer.py",
      "message": "fix: clean up obsolete rules and add deprecation support",
      "pattern": "deprecate_rules",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:51.556922",
      "auto_generated": true
    },
    {
      "id": "c2639de536dc",
      "commit": "f28a4b4",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: pass ConfigManager to get_strategy_config() in diagnose_realtime.py",
      "pattern": "from utils.config_manager import ConfigManager",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:51.608477",
      "auto_generated": true
    },
    {
      "id": "82ca1b72348d",
      "commit": "098b231",
      "file": "tests/test_binance_patch.py",
      "message": "fix: correct path references in test files to use parent.parent",
      "pattern": "project_root = Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.661233",
      "auto_generated": true
    },
    {
      "id": "00eb4b92e259",
      "commit": "098b231",
      "file": "tests/test_command_listener.py",
      "message": "fix: correct path references in test files to use parent.parent",
      "pattern": "sys.path.insert(0, str(Path(__file__).parent.parent))",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.690786",
      "auto_generated": true
    },
    {
      "id": "d7e1a923fd92",
      "commit": "098b231",
      "file": "tests/test_telegram.py",
      "message": "fix: correct path references in test files to use parent.parent",
      "pattern": "project_root = Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.716257",
      "auto_generated": true
    },
    {
      "id": "653bc22f4b45",
      "commit": "ac0bf0d",
      "file": "scripts/analyze_commits_ai.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "self.repo_path = repo_path or Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.764702",
      "auto_generated": true
    },
    {
      "id": "2ca03547f4b1",
      "commit": "ac0bf0d",
      "file": "scripts/analyze_git_changes.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "self.repo_path = repo_path or Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.790417",
      "auto_generated": true
    },
    {
      "id": "e275fa07eda6",
      "commit": "ac0bf0d",
      "file": "scripts/diagnose.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "project_dir = Path(__file__).parent.parent.absolute()",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.815713",
      "auto_generated": true
    },
    {
      "id": "cd38894e9f28",
      "commit": "ac0bf0d",
      "file": "scripts/diagnose_no_signal.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "config_path = Path(__file__).parent.parent / \"configs\" / \"strategy_config.yaml\"",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.844706",
      "auto_generated": true
    },
    {
      "id": "afa8178cbfae",
      "commit": "ac0bf0d",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "project_root = Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.870440",
      "auto_generated": true
    },
    {
      "id": "5e918bc65cbe",
      "commit": "ac0bf0d",
      "file": "scripts/diagnose_telegram.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "sys.path.insert(0, str(Path(__file__).parent.parent))",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.901046",
      "auto_generated": true
    },
    {
      "id": "d28304f33d86",
      "commit": "ac0bf0d",
      "file": "scripts/quick_test_main.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "os.chdir(Path(__file__).parent.parent)",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.925316",
      "auto_generated": true
    },
    {
      "id": "408b581457f2",
      "commit": "ac0bf0d",
      "file": "scripts/run_quick_test.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.949566",
      "auto_generated": true
    },
    {
      "id": "45f96d58afe0",
      "commit": "ac0bf0d",
      "file": "scripts/validate_commit_fixes.py",
      "message": "fix: correct path references in all scripts to use parent.parent",
      "pattern": "self.project_root = project_root or Path(__file__).parent.parent",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:51.978098",
      "auto_generated": true
    },
    {
      "id": "27e55ef14c02",
      "commit": "8813074",
      "file": "scripts/diagnose_no_signal.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "except Exception:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.204651",
      "auto_generated": true
    },
    {
      "id": "ccd2d39cc937",
      "commit": "8813074",
      "file": "web/backend/core/config.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "aitrader_config_path",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:52.227300",
      "auto_generated": true
    },
    {
      "id": "e1fcbbafc3c3",
      "commit": "8813074",
      "file": "web/backend/services/config_service.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "self.config_path = settings.aitrader_config_path",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.248959",
      "auto_generated": true
    },
    {
      "id": "caa4dae44f50",
      "commit": "36b78fe",
      "file": "scripts/analyze_commits_ai.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "except Exception:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.293402",
      "auto_generated": true
    },
    {
      "id": "2ada2c8c1c53",
      "commit": "36b78fe",
      "file": "scripts/analyze_git_changes.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "except Exception:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.316532",
      "auto_generated": true
    },
    {
      "id": "277632ce5e55",
      "commit": "36b78fe",
      "file": "scripts/validate_commit_fixes.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "except Exception:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.341172",
      "auto_generated": true
    },
    {
      "id": "3f8953ca33d0",
      "commit": "36b78fe",
      "file": "web/backend/core/config.py",
      "message": "fix: address CodeQL code scanning alerts",
      "pattern": "# AItrader paths (configurable via environment variables)",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:52.365224",
      "auto_generated": true
    },
    {
      "id": "dfaf93be13c9",
      "commit": "614bddd",
      "file": "scripts/smart_commit_analyzer.py",
      "message": "feat: enhance smart_commit_analyzer with file move detection",
      "pattern": "find_file",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:52.408420",
      "auto_generated": true
    },
    {
      "id": "72f482ec9f00",
      "commit": "ab06b7b",
      "file": "smart_commit_analyzer.py",
      "message": "feat: replace manual rules with smart auto-evolving analyzer",
      "pattern": "import subprocess",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:52.479100",
      "auto_generated": true
    },
    {
      "id": "c7beafebd874",
      "commit": "cd036b4",
      "file": "indicators/technical_manager.py",
      "message": "fix: æ”¹ç”¨ Cython æŒ‡æ ‡é¿å… Rust çº¿ç¨‹å®‰å…¨ panic",
      "pattern": "from nautilus_trader.indicators.average.sma import SimpleMovingAverage",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:53.739222",
      "auto_generated": true
    },
    {
      "id": "1499132a781a",
      "commit": "11bab54",
      "file": "utils/telegram_bot.py",
      "message": "fix: ä¿®å¤ Telegram TCPTransport closed é”™è¯¯",
      "pattern": "return loop.run_until_complete(",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:53.877587",
      "auto_generated": true
    },
    {
      "id": "b182fbf6fc63",
      "commit": "a9a3655",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ç»Ÿä¸€ MIN_SL_DISTANCE_PCT å¸¸é‡ä¸º 1%",
      "pattern": "from strategy.trading_logic import MIN_SL_DISTANCE_PCT",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:54.297227",
      "auto_generated": true
    },
    {
      "id": "a01b52785774",
      "commit": "a9a3655",
      "file": "diagnose_realtime.py",
      "message": "fix: ç»Ÿä¸€ MIN_SL_DISTANCE_PCT å¸¸é‡ä¸º 1%",
      "pattern": "if trading_logic_path.exists():",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:54.323475",
      "auto_generated": true
    },
    {
      "id": "e78fe09729aa",
      "commit": "a9a3655",
      "file": "strategy/trading_logic.py",
      "message": "fix: ç»Ÿä¸€ MIN_SL_DISTANCE_PCT å¸¸é‡ä¸º 1%",
      "pattern": "MIN_SL_DISTANCE_PCT = 0.01   # 1% minimum SL distance (avoid too tight stops)",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:54.349272",
      "auto_generated": true
    },
    {
      "id": "bb6202aa83e2",
      "commit": "aac0af5",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: å®ç°æ··åˆå†³ç­–æ¶æ„ï¼Œç§»é™¤Judge AIå±‚ï¼Œä½¿ç”¨ç¡®å®šæ€§é‡åŒ–é€»è¾‘",
      "pattern": "_count_technical_confirmations",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:54.828779",
      "auto_generated": true
    },
    {
      "id": "3f213e7457b8",
      "commit": "4b2e597",
      "file": "diagnose_realtime.py",
      "message": "refactor: æ”¹è¿› diagnose_realtime.py ä»£ç è´¨é‡",
      "pattern": "from typing import Optional",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:55.028993",
      "auto_generated": true
    },
    {
      "id": "f43dfcb73ac8",
      "commit": "accba28",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„å®‰å…¨å’Œè´¨é‡é—®é¢˜",
      "pattern": "# Additional validation: check minimum distance",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.069629",
      "auto_generated": true
    },
    {
      "id": "7db1e6b628dc",
      "commit": "5c08838",
      "file": "diagnose_realtime.py",
      "message": "fix: ä¿®å¤ diagnose_realtime.py å˜é‡åé”™è¯¯",
      "pattern": "signal_data=signal_data,  # æ–¹æ¡ˆB: ä½¿ç”¨ Judge çš„å†³ç­–æ•°æ®",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.288653",
      "auto_generated": true
    },
    {
      "id": "8e83151c4baf",
      "commit": "24c616f",
      "file": "diagnose_realtime.py",
      "message": "refactor: å®Œæˆæ–¹æ¡ˆBå…¨é¢ä¿®å¤ - è¯Šæ–­è„šæœ¬å’Œé…ç½®æ–‡ä»¶",
      "pattern": "print(f\"     Signal: {signal_data.get('signal', 'N/A')}\")",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.442601",
      "auto_generated": true
    },
    {
      "id": "391a5ebf6327",
      "commit": "24c616f",
      "file": "strategy/trading_logic.py",
      "message": "refactor: å®Œæˆæ–¹æ¡ˆBå…¨é¢ä¿®å¤ - è¯Šæ–­è„šæœ¬å’Œé…ç½®æ–‡ä»¶",
      "pattern": "- check_confidence_threshold() - ä»åœ¨ä½¿ç”¨",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.527250",
      "auto_generated": true
    },
    {
      "id": "6fdcbe4d53b7",
      "commit": "79e168a",
      "file": "diagnose_realtime.py",
      "message": "fix: è¯Šæ–­è„šæœ¬æ˜¾ç¤ºæ­£ç¡®çš„ SL/TP (æ¥è‡ªæœ€ç»ˆä¿¡å·)",
      "pattern": "final_sl = final_signal_data.get('stop_loss')",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.570095",
      "auto_generated": true
    },
    {
      "id": "df2e136b58a5",
      "commit": "a1fb405",
      "file": "diagnose_realtime.py",
      "message": "fix: åŒæ­¥ diagnose_realtime.py ä¸æœ€æ–°ç­–ç•¥é€»è¾‘",
      "pattern": "if opposing_signals or hold_vs_action:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.624958",
      "auto_generated": true
    },
    {
      "id": "449c5bfc32bf",
      "commit": "24bc34b",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: HOLD vs BUY/SELL åˆ†æ­§ä¹Ÿåº”ç”¨ä¿¡å¿ƒèåˆ",
      "pattern": "if opposing_signals or hold_vs_action:",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:55.740981",
      "auto_generated": true
    },
    {
      "id": "f26b180c7071",
      "commit": "922f973",
      "file": "diagnose_realtime.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜",
      "pattern": "resolve_divergence_by_confidence",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:56.058393",
      "auto_generated": true
    },
    {
      "id": "0f207da88bfc",
      "commit": "922f973",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜",
      "pattern": "_create_hold_signal",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:56.087334",
      "auto_generated": true
    },
    {
      "id": "7e885fd6b2dd",
      "commit": "8cecd6e",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ Rust RSI çº¿ç¨‹å®‰å…¨å´©æºƒ (Telegram å‘½ä»¤å¤„ç†)",
      "pattern": "# Fallback to entry price if no price cached yet",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:56.386255",
      "auto_generated": true
    },
    {
      "id": "981c8a9179ce",
      "commit": "e1b845f",
      "file": "debug_signal.py",
      "message": "fix: ä¿®æ­£ TechnicalIndicatorManager ç±»åå’Œå‚æ•°",
      "pattern": "from indicators.technical_manager import TechnicalIndicatorManager",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:56.540841",
      "auto_generated": true
    },
    {
      "id": "17c223dbadc6",
      "commit": "a51a83a",
      "file": "debug_telegram_config.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜",
      "pattern": "print(f\"  TELEGRAM_BOT_TOKEN: {'âœ… Set (' + str(len(bot_token)) + ' chars)' if bot_token else 'âŒ NOT SET'}\")",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:56.578945",
      "auto_generated": true
    },
    {
      "id": "8d84fd939792",
      "commit": "a51a83a",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜",
      "pattern": "# The config is preserved for future implementation.",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:56.609746",
      "auto_generated": true
    },
    {
      "id": "86afea33e75a",
      "commit": "a51a83a",
      "file": "utils/sentiment_client.py",
      "message": "fix: ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜",
      "pattern": "from datetime import datetime, timezone",
      "pattern_type": "import",
      "created": "2026-01-26T11:34:56.639657",
      "auto_generated": true
    },
    {
      "id": "a3dce20d78c6",
      "commit": "5ad8295",
      "file": "diagnose.py",
      "message": "fix: Address code review issues in diagnose.py",
      "pattern": "elif min_version and version == \"unknown\":",
      "pattern_type": "contains",
      "created": "2026-01-26T11:34:56.689308",
      "auto_generated": true
    },
    {
      "id": "1c9f3b485753",
      "commit": "b822a82",
      "file": "main_live.py",
      "message": "fix: Address code review issues",
      "pattern": "_strip_env_comment",
      "pattern_type": "function_exists",
      "created": "2026-01-26T11:34:56.744940",
      "auto_generated": true
    },
    {
      "id": "73606e259dd9",
      "commit": "9409f4b",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: diagnose_realtime.py recognizes getter functions for SL validation",
      "pattern": "if not (has_trading_logic_import and (has_min_sl_constant or has_min_sl_getter)):",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.410584",
      "auto_generated": true
    },
    {
      "id": "0d3fbc10a1ec",
      "commit": "3f10551",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: update diagnose_realtime.py to recognize ConfigManager format",
      "pattern": "# æ ¼å¼2 (æ–°): config_manager.get('execution', 'engine', 'reconciliation', default=True)",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.456719",
      "auto_generated": true
    },
    {
      "id": "0cb04a548ac7",
      "commit": "2ad8efb",
      "file": "scripts/diagnose_realtime.py",
      "message": "feat: diagnose_realtime v10.3 - full parity with live trading",
      "pattern": "import requests as mtf_requests",
      "pattern_type": "import",
      "created": "2026-01-27T03:06:25.494585",
      "auto_generated": true
    },
    {
      "id": "66205c85e10a",
      "commit": "24ef917",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: correct method names in diagnose_realtime.py v10.2",
      "pattern": "import time as time_module",
      "pattern_type": "import",
      "created": "2026-01-27T03:06:25.533971",
      "auto_generated": true
    },
    {
      "id": "28f348de0cbb",
      "commit": "2bab2a4",
      "file": "scripts/comprehensive_diagnosis.py",
      "message": "fix: check COINALYZE_API_KEY from both YAML and environment variable",
      "pattern": "coinalyze_api_key = coinalyze.get('api_key') or os.getenv('COINALYZE_API_KEY')",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.567679",
      "auto_generated": true
    },
    {
      "id": "7a53e4ba0ad6",
      "commit": "2bab2a4",
      "file": "scripts/diagnose.py",
      "message": "fix: check COINALYZE_API_KEY from both YAML and environment variable",
      "pattern": "coinalyze_api_key = coinalyze.get('api_key') or os.getenv('COINALYZE_API_KEY')",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.585842",
      "auto_generated": true
    },
    {
      "id": "1f7832be712d",
      "commit": "2bab2a4",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: check COINALYZE_API_KEY from both YAML and environment variable",
      "pattern": "coinalyze_api_key = coinalyze.get('api_key') or os.getenv('COINALYZE_API_KEY')",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.605396",
      "auto_generated": true
    },
    {
      "id": "6fb7bb091af2",
      "commit": "85a8dbd",
      "file": "scripts/comprehensive_diagnosis.py",
      "message": "fix: add venv auto-switch to comprehensive_diagnosis and diagnose_realtime",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-01-27T03:06:25.654528",
      "auto_generated": true
    },
    {
      "id": "a33ebf05cfe2",
      "commit": "85a8dbd",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: add venv auto-switch to comprehensive_diagnosis and diagnose_realtime",
      "pattern": "from pathlib import Path",
      "pattern_type": "import",
      "created": "2026-01-27T03:06:25.675591",
      "auto_generated": true
    },
    {
      "id": "c8dc5375ab45",
      "commit": "e70b094",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: use direct Binance API for MTF historical data prefetch",
      "pattern": "import requests",
      "pattern_type": "import",
      "created": "2026-01-27T03:06:25.714162",
      "auto_generated": true
    },
    {
      "id": "6bcbb335f243",
      "commit": "53f7e78",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: use configured timeout for Binance klines request",
      "pattern": "response = requests.get(url, params=params, timeout=self.config.network_bar_persistence_timeout)",
      "pattern_type": "contains",
      "created": "2026-01-27T03:06:25.749139",
      "auto_generated": true
    },
    {
      "id": "77038b1e693d",
      "commit": "d4ad5e7",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Auto-calculate unrealized PnL in diagnose_realtime.py v10.13",
      "pattern": "if unrealized_pnl == 0 and entry_price > 0 and current_price > 0:",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:51.990117",
      "auto_generated": true
    },
    {
      "id": "0d6af29a762c",
      "commit": "dd3d65b",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: Fix type conversion errors in multi_agent_analyzer.py",
      "pattern": "raw_price = price_data.get('price', 0) if price_data else technical_report.get('price', 0)",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.028654",
      "auto_generated": true
    },
    {
      "id": "37ceff666b8d",
      "commit": "8b6f8d3",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Fix field name mismatches in diagnose_realtime.py v10.12",
      "pattern": "if entry_price > 0:",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.068353",
      "auto_generated": true
    },
    {
      "id": "de13f8ce9207",
      "commit": "b80a903",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Fix Liquidations unit display in diagnose_realtime.py v10.11",
      "pattern": "long_liq_btc = float(item.get('l', 0))",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.108692",
      "auto_generated": true
    },
    {
      "id": "0f35d3348ef1",
      "commit": "ff38a17",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Update diagnose_realtime.py to v10.10 - add Liquidations debug output",
      "pattern": "print(f\"        [DEBUG] history type: {type(history)}, len: {len(history) if history else 0}\")",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.147876",
      "auto_generated": true
    },
    {
      "id": "f05d32d21c76",
      "commit": "b9a5f89",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Update diagnose_realtime.py to v10.8 - fix Coinalyze config path",
      "pattern": "- ä¿®å¤ Step 9.3 Coinalyze é…ç½®è·¯å¾„: base_config.get('coinalyze') â†’ order_flow.get('coinalyze')",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.189458",
      "auto_generated": true
    },
    {
      "id": "34a2e0047347",
      "commit": "776d8f3",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Update diagnose_realtime.py to v10.7 - fix SentimentDataFetcher init",
      "pattern": "print(f\"  å®ç›˜ä¿¡å·è¯Šæ–­å·¥å…· v10.7 (TradingAgents + MTF 100% è¦†ç›–){mode_str}\")",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.225744",
      "auto_generated": true
    },
    {
      "id": "26dce713b0bc",
      "commit": "7558960",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Update diagnose_realtime.py to v10.5 with Coinalyze data parsing fixes",
      "pattern": "fr_value = fr_data.get('value', 0)",
      "pattern_type": "contains",
      "created": "2026-01-27T12:49:52.261689",
      "auto_generated": true
    },
    {
      "id": "e89520d22f6c",
      "commit": "3106a65",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Add 'price' to technical_data for AI analysis (v10.14)",
      "pattern": "- technical_data (from indicator_manager.get_technical_data()) ä¸åŒ…å« 'price' é”®",
      "pattern_type": "contains",
      "created": "2026-01-27T13:21:34.719236",
      "auto_generated": true
    },
    {
      "id": "2b23b449376d",
      "commit": "3106a65",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: Add 'price' to technical_data for AI analysis (v10.14)",
      "pattern": "ai_technical_data['price'] = current_price",
      "pattern_type": "contains",
      "created": "2026-01-27T13:21:34.743055",
      "auto_generated": true
    },
    {
      "id": "7be81bf170ed",
      "commit": "5713613",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: Fix Liquidations BTCâ†’USD conversion in multi_agent_analyzer.py",
      "pattern": "_format_derivatives_report",
      "pattern_type": "function_exists",
      "created": "2026-01-27T13:21:34.781165",
      "auto_generated": true
    },
    {
      "id": "5e588c934b43",
      "commit": "7ec6fe9",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(ai): Rewrite INDICATOR_DEFINITIONS to remove usage guidance",
      "pattern": "- Calculation: Based on premium/discount of perpetual vs spot + interest rate component",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:13.648007",
      "auto_generated": true
    },
    {
      "id": "e07810217082",
      "commit": "ee9c688",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(funding-rate): Use Binance 8h funding rate as primary source + diagnose script evaluation",
      "pattern": "if binance_fr:",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:13.683834",
      "auto_generated": true
    },
    {
      "id": "03d440f2894e",
      "commit": "ee9c688",
      "file": "utils/ai_data_assembler.py",
      "message": "fix(funding-rate): Use Binance 8h funding rate as primary source + diagnose script evaluation",
      "pattern": "\"period\": \"8h\" if source == \"binance_8h\" else \"aggregated\",  # v3.8: æ ‡æ³¨å‘¨æœŸ",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:13.700341",
      "auto_generated": true
    },
    {
      "id": "8d96a259da8e",
      "commit": "a5fc18d",
      "file": "scripts/comprehensive_diagnosis.py",
      "message": "fix(diagnose): Update diagnostic scripts for MTF v3.3 architecture",
      "pattern": "from indicators.multi_timeframe_manager import MultiTimeframeManager",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:13.731748",
      "auto_generated": true
    },
    {
      "id": "d7050cf6743d",
      "commit": "a5fc18d",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnose): Update diagnostic scripts for MTF v3.3 architecture",
      "pattern": "from indicators.multi_timeframe_manager import MultiTimeframeManager",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:13.751149",
      "auto_generated": true
    },
    {
      "id": "7f4d92f091d0",
      "commit": "a5fc18d",
      "file": "scripts/poc_multi_timeframe.py",
      "message": "fix(diagnose): Update diagnostic scripts for MTF v3.3 architecture",
      "pattern": "âš ï¸ æ­¤æ–‡ä»¶ä¿ç•™ç”¨äºå‚è€ƒå’Œæµ‹è¯•åŸºç¡€æ¦‚å¿µï¼Œå®é™…å®ç°è§ indicators/multi_timeframe_manager.py",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:13.766401",
      "auto_generated": true
    },
    {
      "id": "40395a564588",
      "commit": "325d855",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnose): Fix version number, null safety, and scope check",
      "pattern": "conditions = str(mem.get('conditions', 'N/A') or 'N/A')[:50]",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:13.800752",
      "auto_generated": true
    },
    {
      "id": "713158756f54",
      "commit": "536c64d",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(memory): Fix pnl_pct scope bug and variable name in on_position_closed",
      "pattern": "quantity = float(event.quantity) if hasattr(event, 'quantity') else 0.0",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:13.834660",
      "auto_generated": true
    },
    {
      "id": "d33520264668",
      "commit": "8ebbe19",
      "file": "scripts/analyze_closes.py",
      "message": "fix(scripts): Use requests instead of python-binance for analyze_closes",
      "pattern": "import requests",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:13.872579",
      "auto_generated": true
    },
    {
      "id": "8494bf9a012b",
      "commit": "33a1560",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(trailing-stop): Verify position exists before submitting ReduceOnly order",
      "pattern": "if position is None or position.is_closed:",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:13.920409",
      "auto_generated": true
    },
    {
      "id": "2242265d7a00",
      "commit": "970ab04",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(data-integrity): Ensure all frontend data is real, not fake",
      "pattern": "import re",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:13.961416",
      "auto_generated": true
    },
    {
      "id": "3fb80e295065",
      "commit": "970ab04",
      "file": "web/backend/api/routes/performance.py",
      "message": "fix(data-integrity): Ensure all frontend data is real, not fake",
      "pattern": "detail=\"Demo endpoint disabled. Real notifications are generated by trading events.\"",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:13.980977",
      "auto_generated": true
    },
    {
      "id": "c59dba8f6d7e",
      "commit": "970ab04",
      "file": "web/backend/api/routes/public.py",
      "message": "fix(data-integrity): Ensure all frontend data is real, not fake",
      "pattern": "\"judge_reasoning\": \"äº¤æ˜“æœºå™¨äººå°šæœªè¿è¡Œåˆ†æå‘¨æœŸ (Trading bot has not run an analysis cycle yet)\",",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:13.999979",
      "auto_generated": true
    },
    {
      "id": "dd4c2d5b28bf",
      "commit": "f776602",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(telegram): Complete UX improvements from expert evaluation",
      "pattern": "import time",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:14.038102",
      "auto_generated": true
    },
    {
      "id": "26734f5fd216",
      "commit": "f776602",
      "file": "utils/telegram_bot.py",
      "message": "fix(telegram): Complete UX improvements from expert evaluation",
      "pattern": "format_heartbeat_message",
      "pattern_type": "function_exists",
      "created": "2026-02-01T08:30:14.057858",
      "auto_generated": true
    },
    {
      "id": "12dac2170d6f",
      "commit": "f776602",
      "file": "utils/telegram_command_handler.py",
      "message": "fix(telegram): Complete UX improvements from expert evaluation",
      "pattern": "if pos_result.get('success') and pos_result.get('data', {}).get('has_position'):",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.075692",
      "auto_generated": true
    },
    {
      "id": "4afd568b0524",
      "commit": "40db3f2",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(telegram): Complete message notification system improvements",
      "pattern": "if hasattr(self.multi_agent, '_sr_zones_cache') and self.multi_agent._sr_zones_cache:",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.114654",
      "auto_generated": true
    },
    {
      "id": "7ecc81cb51db",
      "commit": "a9364e0",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnose): v11.14 ä¿®å¤è¯¯å¯¼æ€§è¾“å‡ºé—®é¢˜",
      "pattern": "judge_signal = signal_data.get('signal', 'N/A')",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.171469",
      "auto_generated": true
    },
    {
      "id": "3209154b47ab",
      "commit": "043085d",
      "file": "scripts/diagnose_realtime.py",
      "message": "feat(diagnose): Add S/R Zone testing v11.13",
      "pattern": "from utils.sr_zone_calculator import SRZoneCalculator",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:14.211888",
      "auto_generated": true
    },
    {
      "id": "74b16ab2267f",
      "commit": "1282a7c",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnose): Initialize btc_quantity to avoid NameError in summary mode",
      "pattern": "btc_quantity = 0",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.257056",
      "auto_generated": true
    },
    {
      "id": "edc63008ba94",
      "commit": "be29322",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(orderbook): Add â­ markers to DYNAMICS and PRESSURE GRADIENT",
      "pattern": "parts.append(\"â­ DYNAMICS (vs previous snapshot):\")",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.290235",
      "auto_generated": true
    },
    {
      "id": "a6e7d61bf4d6",
      "commit": "476fbeb",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnose): Fix orderbook field mappings v11.12",
      "pattern": "bid_near_5 = gradient.get('bid_near_5', 0) * 100  # è½¬æ¢ä¸ºç™¾åˆ†æ¯”",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.324283",
      "auto_generated": true
    },
    {
      "id": "598a9517dadc",
      "commit": "38df4db",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(orderbook): Fully compliant with v2.0 spec format v3.7.2",
      "pattern": "status_code = status.get('code', 'UNKNOWN')",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.356343",
      "auto_generated": true
    },
    {
      "id": "483e0b1ec13c",
      "commit": "8cbb3c2",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(orderbook): Fix data structure mismatch in AI prompts v3.7.1",
      "pattern": "parts = [f\"ORDER BOOK DEPTH (Status: OK, {status.get('history_samples', 0)} history samples):\"]",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.394414",
      "auto_generated": true
    },
    {
      "id": "de34083588cf",
      "commit": "8cbb3c2",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(orderbook): Fix data structure mismatch in AI prompts v3.7.1",
      "pattern": "orderbook_report=orderbook_display_data,  # v3.7.1: æ·»åŠ è®¢å•ç°¿æ•°æ®",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.414585",
      "auto_generated": true
    },
    {
      "id": "ebbb5f7aae45",
      "commit": "8cbb3c2",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(orderbook): Fix data structure mismatch in AI prompts v3.7.1",
      "pattern": "obi = orderbook_data.get('obi', {})",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.441529",
      "auto_generated": true
    },
    {
      "id": "d048c539cd46",
      "commit": "57292ca",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnose): Fix OrderBookProcessor initialization parameters v11.11",
      "pattern": "weighted_obi_cfg = ob_proc_cfg.get('weighted_obi', {})",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.477583",
      "auto_generated": true
    },
    {
      "id": "0bf35fdfe786",
      "commit": "8412ec2",
      "file": "scripts/diagnose_orderbook.py",
      "message": "feat(v3.7): Implement complete order book depth functionality (v2.0)",
      "pattern": "import sys",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:14.508349",
      "auto_generated": true
    },
    {
      "id": "b413c0f4e875",
      "commit": "8412ec2",
      "file": "tests/test_orderbook.py",
      "message": "feat(v3.7): Implement complete order book depth functionality (v2.0)",
      "pattern": "import pytest",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:14.524242",
      "auto_generated": true
    },
    {
      "id": "b4b2bda6cef4",
      "commit": "8412ec2",
      "file": "utils/ai_data_assembler.py",
      "message": "feat(v3.7): Implement complete order book depth functionality (v2.0)",
      "pattern": "import time",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:14.542033",
      "auto_generated": true
    },
    {
      "id": "f1a46303cb40",
      "commit": "8412ec2",
      "file": "utils/binance_orderbook_client.py",
      "message": "feat(v3.7): Implement complete order book depth functionality (v2.0)",
      "pattern": "import requests",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:14.559158",
      "auto_generated": true
    },
    {
      "id": "e2a70e14bf66",
      "commit": "8412ec2",
      "file": "utils/orderbook_processor.py",
      "message": "feat(v3.7): Implement complete order book depth functionality (v2.0)",
      "pattern": "import logging",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:14.576015",
      "auto_generated": true
    },
    {
      "id": "3d2499afcf9e",
      "commit": "ad3075c",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(v3.7): Add hardcoded risk controls and configurable parameters",
      "pattern": "technical_data=technical_report,  # v3.7: Pass dict for BB checks",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.609252",
      "auto_generated": true
    },
    {
      "id": "5718723e7386",
      "commit": "ad3075c",
      "file": "utils/ai_data_assembler.py",
      "message": "fix(v3.7): Add hardcoded risk controls and configurable parameters",
      "pattern": "funding_config = self.config.get('coinalyze', {}).get('funding_rate', {})",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.624888",
      "auto_generated": true
    },
    {
      "id": "afc200499a16",
      "commit": "ad3075c",
      "file": "utils/binance_derivatives_client.py",
      "message": "fix(v3.7): Add hardcoded risk controls and configurable parameters",
      "pattern": "config: dict = None,",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.641885",
      "auto_generated": true
    },
    {
      "id": "c238de5325fe",
      "commit": "0eedfe6",
      "file": "scripts/test_all_data_sources.py",
      "message": "fix(scripts): Change export location to data/snapshots/ for analysis",
      "pattern": "parser.add_argument(\"--export\", action=\"store_true\", help=\"å¯¼å‡ºæ•°æ®åˆ° data/snapshots/ ç›®å½•\")",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.681275",
      "auto_generated": true
    },
    {
      "id": "a1b6e0e2ffbb",
      "commit": "87dfacc",
      "file": "web/backend/api/routes/admin.py",
      "message": "feat(admin): Add site settings with logo upload and branding management",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:14.981228",
      "auto_generated": true
    },
    {
      "id": "5d79be924308",
      "commit": "87dfacc",
      "file": "web/backend/core/config.py",
      "message": "feat(admin): Add site settings with logo upload and branding management",
      "pattern": "AlgVex Web Configuration",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:14.997372",
      "auto_generated": true
    },
    {
      "id": "054b7ed0fe17",
      "commit": "87dfacc",
      "file": "web/backend/main.py",
      "message": "feat(admin): Add site settings with logo upload and branding management",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:15.013095",
      "auto_generated": true
    },
    {
      "id": "c2918bcc8f67",
      "commit": "065379c",
      "file": "web/backend/main.py",
      "message": "fix(backend): Fix OAuth session cookie for proxy setup",
      "pattern": "https_only=False,  # Allow cookies over HTTP for proxy setup",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.092853",
      "auto_generated": true
    },
    {
      "id": "865fd53589f4",
      "commit": "2120878",
      "file": "web/backend/api/routes/performance.py",
      "message": "fix(web): Fix Performance Analytics showing 0 values",
      "pattern": "@router.get(\"/diagnostic\")",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.370565",
      "auto_generated": true
    },
    {
      "id": "b2a8ffaca3da",
      "commit": "2120878",
      "file": "web/backend/services/performance_service.py",
      "message": "fix(web): Fix Performance Analytics showing 0 values",
      "pattern": "from typing import Optional, List",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:15.387624",
      "auto_generated": true
    },
    {
      "id": "ffdae10d4fbc",
      "commit": "470643f",
      "file": "web/backend/services/config_service.py",
      "message": "fix(web): Enhance config sections and diagnostics API for better UI integration",
      "pattern": "get_config_sections",
      "pattern_type": "function_exists",
      "created": "2026-02-01T08:30:15.464731",
      "auto_generated": true
    },
    {
      "id": "73af6dbe5a6c",
      "commit": "19e9c3a",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: diagnose_realtime.py v11.10 - ä¿®å¤ MTF æ•°æ®åŠ è½½å’Œ BB Position æ˜¾ç¤º",
      "pattern": "import requests",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:15.497828",
      "auto_generated": true
    },
    {
      "id": "4aba65d714c4",
      "commit": "a49fb48",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: diagnose_realtime.py v11.9 - æ·»åŠ  v3.6 ä»·æ ¼ç»Ÿè®¡åˆ° AI è¾“å…¥",
      "pattern": "technical_data['price_change'] = price_data.get('price_change', 0)",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.534466",
      "auto_generated": true
    },
    {
      "id": "07707c33bc0d",
      "commit": "2e17e29",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: diagnose_realtime.py v11.7 - ä¿®å¤ validate_multiagent_sltp è°ƒç”¨ç­¾å",
      "pattern": "v11.7 æ›´æ–° - ä¿®å¤ validate_multiagent_sltp è°ƒç”¨ç­¾å:",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.569504",
      "auto_generated": true
    },
    {
      "id": "8519444b7a87",
      "commit": "eab3771",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: diagnose_realtime.py v11.6 - ä¿®å¤ calculate_technical_sltp è°ƒç”¨ç­¾å",
      "pattern": "support = technical_data.get('support', 0.0)",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.603533",
      "auto_generated": true
    },
    {
      "id": "cb8d3c9728a9",
      "commit": "c09dd7a",
      "file": "agents/multi_agent_analyzer.py",
      "message": "feat: è¯Šæ–­è„šæœ¬ v11.5 - å®Œæ•´æµç¨‹å¯è§†åŒ–",
      "pattern": "get_last_prompts",
      "pattern_type": "function_exists",
      "created": "2026-02-01T08:30:15.635692",
      "auto_generated": true
    },
    {
      "id": "513e91675a83",
      "commit": "c09dd7a",
      "file": "scripts/diagnose_realtime.py",
      "message": "feat: è¯Šæ–­è„šæœ¬ v11.5 - å®Œæ•´æµç¨‹å¯è§†åŒ–",
      "pattern": "from agents.multi_agent_analyzer import MultiAgentAnalyzer",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:15.655415",
      "auto_generated": true
    },
    {
      "id": "fa4a085180d0",
      "commit": "9d32837",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ä¼˜åŒ– Judge Prompt å¢åŠ æç«¯æ¡ä»¶è¦†å†™è§„åˆ™ (v2.2)",
      "pattern": "BEFORE applying decision rules, check these OVERRIDE conditions:",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.721060",
      "auto_generated": true
    },
    {
      "id": "19f53a9e3a24",
      "commit": "b272421",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤ MTF å¼‚å¸¸å¤„ç†ä¸­çš„æœªå®šä¹‰å˜é‡å¼•ç”¨ (E1)",
      "pattern": "if signal_data['signal'] in ['BUY', 'SELL']:",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.757211",
      "auto_generated": true
    },
    {
      "id": "490f99753e67",
      "commit": "a5cc0e6",
      "file": "indicators/multi_timeframe_manager.py",
      "message": "fix: ä¿®å¤æ‰¹åˆ¤æ€§å®¡æŸ¥å‘ç°çš„ä¼˜å…ˆçº§é—®é¢˜",
      "pattern": "- ä¸ TradingAgents ç ”ç©¶æ¡†æ¶ç•¥æœ‰ä¸åŒ (å®ç›˜éœ€è¦ 24/7 è‡ªåŠ¨åŒ–ç¡¬è¾¹ç•Œ)",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.787947",
      "auto_generated": true
    },
    {
      "id": "feb716b055b5",
      "commit": "a5cc0e6",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ä¿®å¤æ‰¹åˆ¤æ€§å®¡æŸ¥å‘ç°çš„ä¼˜å…ˆçº§é—®é¢˜",
      "pattern": "27. v10.19: ä¿®å¤ Judge RSI ç¡®è®¤é€»è¾‘ (< 55 = bullish, > 65 = bearish)",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.806689",
      "auto_generated": true
    },
    {
      "id": "ddcab49e061f",
      "commit": "a5cc0e6",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤æ‰¹åˆ¤æ€§å®¡æŸ¥å‘ç°çš„ä¼˜å…ˆçº§é—®é¢˜",
      "pattern": "import json",
      "pattern_type": "import",
      "created": "2026-02-01T08:30:15.827120",
      "auto_generated": true
    },
    {
      "id": "37ae4971fed8",
      "commit": "a5cc0e6",
      "file": "utils/coinalyze_client.py",
      "message": "fix: ä¿®å¤æ‰¹åˆ¤æ€§å®¡æŸ¥å‘ç°çš„ä¼˜å…ˆçº§é—®é¢˜",
      "pattern": "# ğŸ” Fix B8: Add data quality marker if any data is missing",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.843639",
      "auto_generated": true
    },
    {
      "id": "c3ac475aa91e",
      "commit": "99e9eac",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: å¯¹é½ diagnose_realtime.py è‡³ TradingAgents æ¶æ„",
      "pattern": "macd_value = technical_data.get('macd', 0)",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.879046",
      "auto_generated": true
    },
    {
      "id": "53555030a9a8",
      "commit": "9c17616",
      "file": "indicators/multi_timeframe_manager.py",
      "message": "fix: å¯¹é½ TradingAgents æ¶æ„ï¼Œä¿®å¤èŒè´£åˆ†ç¦»é—®é¢˜",
      "pattern": "evaluate_directional_permissions",
      "pattern_type": "function_exists",
      "created": "2026-02-01T08:30:15.909605",
      "auto_generated": true
    },
    {
      "id": "3de84f65bc1c",
      "commit": "9c17616",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: å¯¹é½ TradingAgents æ¶æ„ï¼Œä¿®å¤èŒè´£åˆ†ç¦»é—®é¢˜",
      "pattern": "if is_opening_new and signal_data['signal'] in ['BUY', 'SELL']:",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:15.928896",
      "auto_generated": true
    },
    {
      "id": "2b6e4d79eba0",
      "commit": "274bc83",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ä¿®å¤ diagnose_realtime.py ç¡¬ç¼–ç é˜ˆå€¼å’Œ RSI é€»è¾‘é”™è¯¯",
      "pattern": "# è¿™äº›å˜é‡å°†åœ¨åŠ è½½ base_config åä» configs/base.yaml è¯»å–",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.000744",
      "auto_generated": true
    },
    {
      "id": "52fb81fca56e",
      "commit": "93dcbab",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ä¿®å¤ diagnose_realtime.py ç¡¬ç¼–ç  SMA å›é€€å€¼",
      "pattern": "- æ”¹ä¸ºä» configs/base.yaml è¯»å– indicators.sma_periods åˆ—è¡¨",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.038404",
      "auto_generated": true
    },
    {
      "id": "0169798450bd",
      "commit": "64fc268",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ç®€åŒ–å¿ƒè·³æ¶ˆæ¯ v2.3 - ç»Ÿä¸€æ ¼å¼é¿å…é”™è¯¯",
      "pattern": "rsi = tech_data.get('rsi') or 0",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.087204",
      "auto_generated": true
    },
    {
      "id": "f9883d250565",
      "commit": "64fc268",
      "file": "utils/telegram_bot.py",
      "message": "fix: ç®€åŒ–å¿ƒè·³æ¶ˆæ¯ v2.3 - ç»Ÿä¸€æ ¼å¼é¿å…é”™è¯¯",
      "pattern": "signal = heartbeat_data.get('signal') or 'PENDING'",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.104087",
      "auto_generated": true
    },
    {
      "id": "417301691bca",
      "commit": "b163883",
      "file": "scripts/diagnose_telegram_full.py",
      "message": "fix: ä¿®å¤è¯Šæ–­è„šæœ¬ TelegramBot å‚æ•°å (token, ä¸æ˜¯ bot_token)",
      "pattern": "token=bot_token,",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.137104",
      "auto_generated": true
    },
    {
      "id": "8e7327fcc318",
      "commit": "4345870",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: ä¿®å¤å¿ƒè·³é€šçŸ¥ - ç§»åˆ° on_timer å¼€å§‹ä½ç½®ç¡®ä¿æ¯æ¬¡å‘é€",
      "pattern": "_send_heartbeat_notification",
      "pattern_type": "function_exists",
      "created": "2026-02-01T08:30:16.179172",
      "auto_generated": true
    },
    {
      "id": "6e8b974d8870",
      "commit": "0b6c4eb",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ä¿®å¤æ•°æ®æµé—®é¢˜ (v2.1 - 4 é¡¹å…³é”®ä¿®å¤)",
      "pattern": "if test_live_price:",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.221923",
      "auto_generated": true
    },
    {
      "id": "1e55042c310c",
      "commit": "0b6c4eb",
      "file": "utils/order_flow_processor.py",
      "message": "fix: ä¿®å¤æ•°æ®æµé—®é¢˜ (v2.1 - 4 é¡¹å…³é”®ä¿®å¤)",
      "pattern": "\"bars_count\": len(klines),  # v2.1: æ·»åŠ é‡‡æ ·çª—å£å¤§å°ï¼Œä¾¿äºè¯Šæ–­",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.238828",
      "auto_generated": true
    },
    {
      "id": "09f68c4c8640",
      "commit": "1692bd2",
      "file": "main_live.py",
      "message": "feat: æ·»åŠ  Telegram å¿ƒè·³é€šçŸ¥ (v2.1 - æ¯æ¬¡ on_timer å‘é€çŠ¶æ€)",
      "pattern": "telegram_notify_signals=config_manager.get('telegram', 'notify', 'signals', default=True),",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.286126",
      "auto_generated": true
    },
    {
      "id": "fe1a187ec9af",
      "commit": "1692bd2",
      "file": "strategy/deepseek_strategy.py",
      "message": "feat: æ·»åŠ  Telegram å¿ƒè·³é€šçŸ¥ (v2.1 - æ¯æ¬¡ on_timer å‘é€çŠ¶æ€)",
      "pattern": "self.telegram_notify_heartbeat = config.telegram_notify_heartbeat  # v2.1",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.305879",
      "auto_generated": true
    },
    {
      "id": "872bbc094986",
      "commit": "1692bd2",
      "file": "utils/telegram_bot.py",
      "message": "feat: æ·»åŠ  Telegram å¿ƒè·³é€šçŸ¥ (v2.1 - æ¯æ¬¡ on_timer å‘é€çŠ¶æ€)",
      "pattern": "format_heartbeat_message",
      "pattern_type": "function_exists",
      "created": "2026-02-01T08:30:16.321694",
      "auto_generated": true
    },
    {
      "id": "c3d32485a6d2",
      "commit": "ca02305",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix: ä¿®å¤æ•°æ®æµé—®é¢˜ (v2.1 - 4 é¡¹å…³é”®ä¿®å¤)",
      "pattern": "2. RSI > 65 (showing overbought condition) - NOTE: RSI 45-65 is neutral, not bearish weakness",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.355220",
      "auto_generated": true
    },
    {
      "id": "23fd5844061a",
      "commit": "ca02305",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ä¿®å¤æ•°æ®æµé—®é¢˜ (v2.1 - 4 é¡¹å…³é”®ä¿®å¤)",
      "pattern": "near_support = abs(_price - _support) / _price < 0.01 if _price > 0 else False",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.382201",
      "auto_generated": true
    },
    {
      "id": "dbed8ecc40ff",
      "commit": "ca02305",
      "file": "utils/ai_data_assembler.py",
      "message": "fix: ä¿®å¤æ•°æ®æµé—®é¢˜ (v2.1 - 4 é¡¹å…³é”®ä¿®å¤)",
      "pattern": "coinalyze_value = float(funding_raw.get('value', 0))",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.401501",
      "auto_generated": true
    },
    {
      "id": "52d5da1ce0e5",
      "commit": "ca02305",
      "file": "utils/binance_kline_client.py",
      "message": "fix: ä¿®å¤æ•°æ®æµé—®é¢˜ (v2.1 - 4 é¡¹å…³é”®ä¿®å¤)",
      "pattern": "get_funding_rate",
      "pattern_type": "function_exists",
      "created": "2026-02-01T08:30:16.418388",
      "auto_generated": true
    },
    {
      "id": "219cfb69f90c",
      "commit": "ca02305",
      "file": "utils/order_flow_processor.py",
      "message": "fix: ä¿®å¤æ•°æ®æµé—®é¢˜ (v2.1 - 4 é¡¹å…³é”®ä¿®å¤)",
      "pattern": "latest_buy_ratio = taker_buy_volume / volume if volume > 0 else 0.5",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.436909",
      "auto_generated": true
    },
    {
      "id": "1f8fcf6bfa8a",
      "commit": "b424185",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: ä¿®å¤ GitHub å¯¼å‡ºåŠŸèƒ½ (git add -f + commit_msg å˜é‡)",
      "pattern": "subprocess.run(['git', 'add', '-f', str(filepath)], check=True, capture_output=True)",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.471743",
      "auto_generated": true
    },
    {
      "id": "3efb402ab09e",
      "commit": "7a35945",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: MTF è¶‹åŠ¿å±‚ä½¿ç”¨ SMA_200 æ›¿ä»£ SMA_50 (v10.16)",
      "pattern": "- configs/base.yaml åŒæ­¥æ·»åŠ  sma_periods: [5, 20, 50, 200]",
      "pattern_type": "contains",
      "created": "2026-02-01T08:30:16.507433",
      "auto_generated": true
    },
    {
      "id": "2f1eaa3bd197",
      "commit": "b2ea267",
      "file": "main_live.py",
      "message": "feat(telegram): Implement non-blocking message queue and enhanced security",
      "pattern": "telegram_queue_enabled=config_manager.get('telegram', 'queue', 'enabled', default=True),",
      "pattern_type": "contains",
      "created": "2026-02-01T09:26:28.394358",
      "auto_generated": true
    },
    {
      "id": "6ad873d090ef",
      "commit": "b2ea267",
      "file": "strategy/deepseek_strategy.py",
      "message": "feat(telegram): Implement non-blocking message queue and enhanced security",
      "pattern": "message_timeout=config.network_telegram_message_timeout,",
      "pattern_type": "contains",
      "created": "2026-02-01T09:26:28.419130",
      "auto_generated": true
    },
    {
      "id": "cb8b792ee2ef",
      "commit": "b2ea267",
      "file": "utils/audit_logger.py",
      "message": "feat(telegram): Implement non-blocking message queue and enhanced security",
      "pattern": "import json",
      "pattern_type": "import",
      "created": "2026-02-01T09:26:28.439182",
      "auto_generated": true
    },
    {
      "id": "8687b073168e",
      "commit": "b2ea267",
      "file": "utils/telegram_bot.py",
      "message": "feat(telegram): Implement non-blocking message queue and enhanced security",
      "pattern": "from utils.telegram_queue import TelegramMessageQueue, MessagePriority",
      "pattern_type": "import",
      "created": "2026-02-01T09:26:28.460076",
      "auto_generated": true
    },
    {
      "id": "8cabe0ea48ca",
      "commit": "b2ea267",
      "file": "utils/telegram_command_handler.py",
      "message": "feat(telegram): Implement non-blocking message queue and enhanced security",
      "pattern": "import random",
      "pattern_type": "import",
      "created": "2026-02-01T09:26:28.481938",
      "auto_generated": true
    },
    {
      "id": "b30d96e8b283",
      "commit": "b2ea267",
      "file": "utils/telegram_queue.py",
      "message": "feat(telegram): Implement non-blocking message queue and enhanced security",
      "pattern": "import queue",
      "pattern_type": "import",
      "created": "2026-02-01T09:26:28.502348",
      "auto_generated": true
    },
    {
      "id": "6aa6a858e944",
      "commit": "a648c49",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(order): Cancel pending orders before reversal/close to prevent -2022 ReduceOnly rejection",
      "pattern": "reduce_only_orders = [o for o in open_orders if o.is_reduce_only]",
      "pattern_type": "contains",
      "created": "2026-02-01T12:32:54.129810",
      "auto_generated": true
    },
    {
      "id": "55fb421f901a",
      "commit": "6ae6c83",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(memory): Fix entry conditions recording - was calling non-existent get_rsi()",
      "pattern": "if hasattr(self, '_cached_current_price') and self._cached_current_price:",
      "pattern_type": "contains",
      "created": "2026-02-01T12:32:54.187470",
      "auto_generated": true
    },
    {
      "id": "612201322d1b",
      "commit": "13beb13",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(telegram): Remove help message from startup notification",
      "pattern": "# Note: Help message removed - users can use /help command if needed",
      "pattern_type": "contains",
      "created": "2026-02-01T12:32:54.227895",
      "auto_generated": true
    },
    {
      "id": "c3bc30cadbd5",
      "commit": "ad50ae6",
      "file": "utils/telegram_bot.py",
      "message": "fix(telegram): Add missing queue_send_interval parameter to TelegramBot",
      "pattern": "queue_send_interval: float = 0.5,  # v2.0: Interval between sends (rate limit)",
      "pattern_type": "contains",
      "created": "2026-02-01T12:32:54.303594",
      "auto_generated": true
    },
    {
      "id": "98ce7e053ff9",
      "commit": "3fc8008",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(telegram): Reduce message spam and fix incorrect displays",
      "pattern": "if '15-MINUTE' in bar_type_str:",
      "pattern_type": "contains",
      "created": "2026-02-01T12:32:54.346645",
      "auto_generated": true
    },
    {
      "id": "8e48b3e00a0a",
      "commit": "3fc8008",
      "file": "utils/telegram_bot.py",
      "message": "fix(telegram): Reduce message spam and fix incorrect displays",
      "pattern": "format_trade_execution",
      "pattern_type": "function_exists",
      "created": "2026-02-01T12:32:54.368010",
      "auto_generated": true
    },
    {
      "id": "1bab7a6b4c20",
      "commit": "7c9dd8d",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(sl): Increase S/R buffer to 0.5% for real breakout confirmation (v3.15.1)",
      "pattern": "sl_buffer_pct: float = 0.005  # 0.5% buffer to confirm real S/R breakout",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.275616",
      "auto_generated": true
    },
    {
      "id": "b1f743414733",
      "commit": "7c9dd8d",
      "file": "strategy/trading_logic.py",
      "message": "fix(sl): Increase S/R buffer to 0.5% for real breakout confirmation (v3.15.1)",
      "pattern": "sl_buffer_pct: float = 0.005,  # 0.5% buffer to confirm real S/R breakout",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.294638",
      "auto_generated": true
    },
    {
      "id": "d39da4563d40",
      "commit": "a2e06be",
      "file": "strategy/trading_logic.py",
      "message": "fix(sl): Enforce minimum 1% stop-loss distance (v3.15)",
      "pattern": "# Problem: AI can return SL too close to entry (e.g., 0.09%), causing immediate stop-outs",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.332384",
      "auto_generated": true
    },
    {
      "id": "096bc620b404",
      "commit": "c3c4c37",
      "file": "utils/sr_zone_calculator.py",
      "message": "fix(sr): Fix Order Wall misidentification as S/R zones (v2.1)",
      "pattern": "wall_price = wall.get('price', 0)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.370734",
      "auto_generated": true
    },
    {
      "id": "d3908077640f",
      "commit": "b021e83",
      "file": "scripts/diagnose_sr_zones.py",
      "message": "fix(diagnose): Fix SRZone attribute error in diagnose_sr_zones.py",
      "pattern": "src = \", \".join(zone.sources[:2]) if zone.sources else zone.source_type",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.405986",
      "auto_generated": true
    },
    {
      "id": "e67f1d9e06a2",
      "commit": "9a345a0",
      "file": "scripts/diagnose_sr_zones.py",
      "message": "feat(diagnose): Add comprehensive S/R zone diagnosis script",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:05.444154",
      "auto_generated": true
    },
    {
      "id": "79bdb58517ae",
      "commit": "bc5a305",
      "file": "scripts/diagnose_orderbook.py",
      "message": "fix(orderbook): Add missing weighted_obi_config keys to prevent KeyError",
      "pattern": "weighted_obi_config = {}",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.481881",
      "auto_generated": true
    },
    {
      "id": "9c72508a71da",
      "commit": "bc5a305",
      "file": "scripts/diagnostics/mtf_components.py",
      "message": "fix(orderbook): Add missing weighted_obi_config keys to prevent KeyError",
      "pattern": "weighted_obi_config = {",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.503133",
      "auto_generated": true
    },
    {
      "id": "dec4a87f7912",
      "commit": "bc5a305",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(orderbook): Add missing weighted_obi_config keys to prevent KeyError",
      "pattern": "'volatility_factor': config.order_book_volatility_factor if hasattr(config, 'order_book_volatility_factor') else 0.1,",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.528622",
      "auto_generated": true
    },
    {
      "id": "8e7f0420428b",
      "commit": "7c32687",
      "file": "scripts/diagnose_realtime.py",
      "message": "feat(diagnostics): Add v3.18 order flow simulation (7 scenarios)",
      "pattern": "from scripts.diagnostics.order_flow_simulation import (",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:05.615825",
      "auto_generated": true
    },
    {
      "id": "b33c29a37815",
      "commit": "7c32687",
      "file": "scripts/diagnostics/__init__.py",
      "message": "feat(diagnostics): Add v3.18 order flow simulation (7 scenarios)",
      "pattern": "__version__ = \"2.7.0\"  # v2.7.0: Added v3.18 order flow simulation (7 scenarios)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.635272",
      "auto_generated": true
    },
    {
      "id": "af73b288c116",
      "commit": "7c32687",
      "file": "scripts/diagnostics/base.py",
      "message": "feat(diagnostics): Add v3.18 order flow simulation (7 scenarios)",
      "pattern": "total_steps: int = 31  # v2.7.0: 28 + 3 (v3.18 order flow simulation)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.654399",
      "auto_generated": true
    },
    {
      "id": "3c2e1b33639b",
      "commit": "7c32687",
      "file": "scripts/diagnostics/order_flow_simulation.py",
      "message": "feat(diagnostics): Add v3.18 order flow simulation (7 scenarios)",
      "pattern": "from dataclasses import dataclass",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:05.674842",
      "auto_generated": true
    },
    {
      "id": "8d63ec4f6718",
      "commit": "718c0f4",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(orders): Critical order flow safety improvements (v3.18)",
      "pattern": "_update_sltp_quantity",
      "pattern_type": "function_exists",
      "created": "2026-02-06T02:38:05.717378",
      "auto_generated": true
    },
    {
      "id": "06e2f2f653f7",
      "commit": "93adf10",
      "file": "strategy/deepseek_strategy.py",
      "message": "feat(telegram): Enhanced notifications with entry quality and close reason (v3.17)",
      "pattern": "if reduce_only:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.759461",
      "auto_generated": true
    },
    {
      "id": "f105446e4564",
      "commit": "93adf10",
      "file": "utils/telegram_bot.py",
      "message": "feat(telegram): Enhanced notifications with entry quality and close reason (v3.17)",
      "pattern": "close_reason = position_data.get('close_reason', 'MANUAL')",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.782253",
      "auto_generated": true
    },
    {
      "id": "21061c95078d",
      "commit": "b85f6c5",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(orders): Add trade tick subscription for OrderEmulator (v3.16)",
      "pattern": "pass  # Ignore if not subscribed",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.824133",
      "auto_generated": true
    },
    {
      "id": "ef8ba938186e",
      "commit": "ee66396",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(ai): Align prompts with market order entry behavior (v3.15)",
      "pattern": "# - LONG only recommended if price ALREADY near support (within 1-2%)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.861986",
      "auto_generated": true
    },
    {
      "id": "b7291c7a2caf",
      "commit": "0fc16a2",
      "file": "strategy/deepseek_strategy.py",
      "message": "feat(sltp): Use S/R Zones for both SL and TP calculation (v3.14)",
      "pattern": "# Falls back to basic technical_data if S/R Zones not available",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.902002",
      "auto_generated": true
    },
    {
      "id": "9ecc61e313d2",
      "commit": "0fc16a2",
      "file": "strategy/trading_logic.py",
      "message": "feat(sltp): Use S/R Zones for both SL and TP calculation (v3.14)",
      "pattern": "- Support/resistance levels for BOTH SL and TP (if available and valid)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.921925",
      "auto_generated": true
    },
    {
      "id": "45b05839b717",
      "commit": "868041e",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(ai): Improve S/R zone guidance to prevent wrong entry decisions",
      "pattern": "- LONG R/R CHECK: Only recommend LONG if R/R ratio >= 1.5:1",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.958226",
      "auto_generated": true
    },
    {
      "id": "fbe510487db3",
      "commit": "868041e",
      "file": "utils/sr_zone_calculator.py",
      "message": "fix(ai): Improve S/R zone guidance to prevent wrong entry decisions",
      "pattern": "rr_status = \"âœ… FAVORABLE\" if rr_ratio >= 1.5 else \"âš ï¸ UNFAVORABLE\"",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:05.977505",
      "auto_generated": true
    },
    {
      "id": "9c7d452925f6",
      "commit": "5ed09ae",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(ai): Resolve macd_trend data gap and R/R ratio issues",
      "pattern": "- MINIMUM acceptable R/R is 1.5:1 (TP distance >= 1.5x SL distance)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.016168",
      "auto_generated": true
    },
    {
      "id": "81faa51cc936",
      "commit": "5ed09ae",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(ai): Resolve macd_trend data gap and R/R ratio issues",
      "pattern": "- æ–°å¢: 35-bar è¶‹åŠ¿æ•°æ®æ˜¾ç¤º (price_trend, rsi_trend, macd_trend, volume_trend)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.035836",
      "auto_generated": true
    },
    {
      "id": "2c2ea386f440",
      "commit": "5ed09ae",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix(ai): Resolve macd_trend data gap and R/R ratio issues",
      "pattern": "historical_context = self.ctx.indicator_manager.get_historical_context(count=35)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.058163",
      "auto_generated": true
    },
    {
      "id": "d158d7ab6597",
      "commit": "5ed09ae",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(ai): Resolve macd_trend data gap and R/R ratio issues",
      "pattern": "historical_context = self.indicator_manager.get_historical_context(count=35)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.082176",
      "auto_generated": true
    },
    {
      "id": "521b53ac420d",
      "commit": "5ed09ae",
      "file": "utils/ai_data_assembler.py",
      "message": "fix(ai): Resolve macd_trend data gap and R/R ratio issues",
      "pattern": "historical_context = indicator_manager.get_historical_context(count=35)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.101788",
      "auto_generated": true
    },
    {
      "id": "b9a044653fdb",
      "commit": "bd66937",
      "file": "tests/test_implementation_plan.py",
      "message": "fix(tests): Update annualization check to support variable assignment",
      "pattern": "assert 'annualization = 365' in content or 'annualization=365' in content, \\",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.139049",
      "auto_generated": true
    },
    {
      "id": "55924fc64060",
      "commit": "01cdf54",
      "file": "indicators/technical_manager.py",
      "message": "feat(implementation): Implement IMPLEMENTATION_PLAN.md v3.0.1 requirements",
      "pattern": "get_historical_context",
      "pattern_type": "function_exists",
      "created": "2026-02-06T02:38:06.192415",
      "auto_generated": true
    },
    {
      "id": "6ae36861cb8c",
      "commit": "01cdf54",
      "file": "scripts/data_collector.py",
      "message": "feat(implementation): Implement IMPLEMENTATION_PLAN.md v3.0.1 requirements",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:06.210264",
      "auto_generated": true
    },
    {
      "id": "d0c203ff8d0b",
      "commit": "01cdf54",
      "file": "tests/test_implementation_plan.py",
      "message": "feat(implementation): Implement IMPLEMENTATION_PLAN.md v3.0.1 requirements",
      "pattern": "import pytest",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:06.227654",
      "auto_generated": true
    },
    {
      "id": "1b2833f5adce",
      "commit": "01cdf54",
      "file": "utils/ai_data_assembler.py",
      "message": "feat(implementation): Implement IMPLEMENTATION_PLAN.md v3.0.1 requirements",
      "pattern": "if indicator_manager is not None:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.246894",
      "auto_generated": true
    },
    {
      "id": "68a91ad9d0bd",
      "commit": "01cdf54",
      "file": "web/backend/services/performance_service.py",
      "message": "feat(implementation): Implement IMPLEMENTATION_PLAN.md v3.0.1 requirements",
      "pattern": "from typing import Optional, List, Dict, Any",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:06.268037",
      "auto_generated": true
    },
    {
      "id": "8dd3b0df3fdb",
      "commit": "2404f3d",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnostics): Use valid Coinalyze endpoint for health check (v2.4.9)",
      "pattern": "- ä¿®å¤: Coinalyze API æµ‹è¯•ä½¿ç”¨ /open-interest æ›¿ä»£ä¸å­˜åœ¨çš„ /ping ç«¯ç‚¹",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.361235",
      "auto_generated": true
    },
    {
      "id": "af3d333c9f23",
      "commit": "2404f3d",
      "file": "scripts/diagnostics/service_health.py",
      "message": "fix(diagnostics): Use valid Coinalyze endpoint for health check (v2.4.9)",
      "pattern": "elif resp.status_code == 401:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.382421",
      "auto_generated": true
    },
    {
      "id": "1a635c610080",
      "commit": "6701c4f",
      "file": "scripts/diagnose_memory_deep.py",
      "message": "docs(diagnostics): Update memory diagnostic to reflect v3.15/v3.16 fixes",
      "pattern": "- v3.16 ä½¿ç”¨å®˜æ–¹ realized_return æ›¿ä»£æ‰‹åŠ¨è®¡ç®—",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.422139",
      "auto_generated": true
    },
    {
      "id": "25d5eaa31078",
      "commit": "723231b",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(memory): Use official realized_return for PnL calculation (v3.16)",
      "pattern": "# v3.16: Use official realized_return attribute (ROOT CAUSE FIX)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.463087",
      "auto_generated": true
    },
    {
      "id": "cddc11d95f51",
      "commit": "66e25da",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(memory): Fix variable name mismatch causing 0 PnL display (v3.15)",
      "pattern": "if hasattr(self, 'multi_agent') and self.multi_agent:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.503986",
      "auto_generated": true
    },
    {
      "id": "47a06fab088d",
      "commit": "cee2478",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix(diagnostics): Fix multi_agent initialization order and OBI warning (v2.4.8)",
      "pattern": "print(\"         å®ç›˜æœåŠ¡ä¸­ OrderBookProcessor ä¼šç´¯ç§¯å†å²\")",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.545643",
      "auto_generated": true
    },
    {
      "id": "23207e015227",
      "commit": "cee2478",
      "file": "scripts/diagnostics/position_check.py",
      "message": "fix(diagnostics): Fix multi_agent initialization order and OBI warning (v2.4.8)",
      "pattern": "from agents.multi_agent_analyzer import MultiAgentAnalyzer as MAAnalyzer",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:06.567492",
      "auto_generated": true
    },
    {
      "id": "477bc480cd1d",
      "commit": "d91bcad",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnostics): Load dotenv early to fix API key false warnings (v2.4.8)",
      "pattern": "- ä¿®å¤: dotenv åœ¨ DiagnosticRunner.__init__() ä¸­æ—©æœŸåŠ è½½",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.607747",
      "auto_generated": true
    },
    {
      "id": "34c97ea7a9b0",
      "commit": "d91bcad",
      "file": "scripts/diagnostics/base.py",
      "message": "fix(diagnostics): Load dotenv early to fix API key false warnings (v2.4.8)",
      "pattern": "from dotenv import load_dotenv",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:06.629322",
      "auto_generated": true
    },
    {
      "id": "77f56932ca7a",
      "commit": "f7bb507",
      "file": "scripts/diagnose_memory_deep.py",
      "message": "fix: Correct module import path in diagnose_memory_deep.py",
      "pattern": "from utils.orderbook_processor import OrderBookProcessor",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:06.667064",
      "auto_generated": true
    },
    {
      "id": "998b3b8121ad",
      "commit": "f8f3ca5",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(memory): Fix PnL always 0% in trade memory (v3.14)",
      "pattern": "if hasattr(event, 'quantity') and event.quantity is not None:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.710341",
      "auto_generated": true
    },
    {
      "id": "617f954a48e7",
      "commit": "3b3d1fe",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix(diagnostics): Add missing min_decay/max_decay to weighted_obi_config (v2.4.5)",
      "pattern": "\"min_decay\": weighted_obi_cfg.get('min_decay', 0.5),",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.750315",
      "auto_generated": true
    },
    {
      "id": "95ef71cb431f",
      "commit": "3b3d1fe",
      "file": "scripts/diagnostics/base.py",
      "message": "fix(diagnostics): Add missing min_decay/max_decay to weighted_obi_config (v2.4.5)",
      "pattern": "print(\"  å®ç›˜ä¿¡å·è¯Šæ–­å·¥å…· v2.4.5 (OrderBook weighted_obi_config å®Œæ•´ä¿®å¤)\")",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.771727",
      "auto_generated": true
    },
    {
      "id": "445859409f7a",
      "commit": "c21c9aa",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix(diagnostics): Fix OrderBook NO_DATA display and add debug logging (v2.4.4)",
      "pattern": "ob_data = assembled_data.get('order_book')",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.813054",
      "auto_generated": true
    },
    {
      "id": "24a1bf20e94e",
      "commit": "c21c9aa",
      "file": "scripts/diagnostics/base.py",
      "message": "fix(diagnostics): Fix OrderBook NO_DATA display and add debug logging (v2.4.4)",
      "pattern": "print(\"  å®ç›˜ä¿¡å·è¯Šæ–­å·¥å…· v2.4.4 (OrderBook NO_DATA è¯Šæ–­å¢å¼ºç‰ˆ)\")",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.832934",
      "auto_generated": true
    },
    {
      "id": "127bb967ece2",
      "commit": "c36b721",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix(diagnostics): Correct OrderBookProcessor initialization params (v2.4.3)",
      "pattern": "# v2.4.3: ä½¿ç”¨æ­£ç¡®çš„å‚æ•°æ ¼å¼ (weighted_obi_config æ˜¯å­—å…¸)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.870670",
      "auto_generated": true
    },
    {
      "id": "d6a0d2181200",
      "commit": "c36b721",
      "file": "scripts/diagnostics/base.py",
      "message": "fix(diagnostics): Correct OrderBookProcessor initialization params (v2.4.3)",
      "pattern": "print(\"  å®ç›˜ä¿¡å·è¯Šæ–­å·¥å…· v2.4.3 (OrderBookProcessorå‚æ•°ä¿®å¤ç‰ˆ)\")",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.889964",
      "auto_generated": true
    },
    {
      "id": "9907e932ef08",
      "commit": "a162f29",
      "file": "scripts/diagnostics/base.py",
      "message": "chore: Update diagnostic tool version string to v2.4.2",
      "pattern": "print(\"  å®ç›˜ä¿¡å·è¯Šæ–­å·¥å…· v2.4.2 (AIè¾“å…¥æ•°æ®æ˜¾ç¤ºä¿®å¤ç‰ˆ)\")",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.926346",
      "auto_generated": true
    },
    {
      "id": "86bdfa2241ad",
      "commit": "4899b6b",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnostics): Ensure AI input data is fetched before display (v2.4.2)",
      "pattern": "- ä¿®å¤: order_flow, derivatives, order_book æ•°æ®åœ¨æ‰“å°å‰è·å–",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:06.963527",
      "auto_generated": true
    },
    {
      "id": "934a7eae35e3",
      "commit": "4899b6b",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix(diagnostics): Ensure AI input data is fetched before display (v2.4.2)",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:06.983622",
      "auto_generated": true
    },
    {
      "id": "d5a9eea5fc20",
      "commit": "edd563e",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: Complete Binance API migration for all position checks (v4.9.1)",
      "pattern": "# v4.9.1: Use Binance API for accurate position check",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.024539",
      "auto_generated": true
    },
    {
      "id": "3a46462f68ed",
      "commit": "ed6c840",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: All AI data now from Binance API real-time (v4.9.1 complete)",
      "pattern": "if 'error' not in balance and balance.get('total_balance', 0) > 0:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.068083",
      "auto_generated": true
    },
    {
      "id": "3bf7b1a020ff",
      "commit": "eb79b84",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: Prioritize Binance API for position data over internal cache (v4.9.1)",
      "pattern": "if binance_positions:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.107968",
      "auto_generated": true
    },
    {
      "id": "71c5b1e843e3",
      "commit": "ba7abf4",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: Real-time position/SL/TP detection after server restart (v4.9)",
      "pattern": "from strategy.trading_logic import get_min_notional_usdt, get_min_notional_safety_margin",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:07.156495",
      "auto_generated": true
    },
    {
      "id": "60ce94fc4777",
      "commit": "ba7abf4",
      "file": "utils/binance_account.py",
      "message": "fix: Real-time position/SL/TP detection after server restart (v4.9)",
      "pattern": "get_open_orders",
      "pattern_type": "function_exists",
      "created": "2026-02-06T02:38:07.181463",
      "auto_generated": true
    },
    {
      "id": "66e99a9c14c0",
      "commit": "9850f7b",
      "file": "scripts/diagnose_realtime.py",
      "message": "feat(diagnostics): Complete v11.14 parity with v2.4.1",
      "pattern": "from scripts.diagnostics.architecture_verify import (",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:07.238842",
      "auto_generated": true
    },
    {
      "id": "1f5a2afb9a53",
      "commit": "9850f7b",
      "file": "scripts/diagnostics/__init__.py",
      "message": "feat(diagnostics): Complete v11.14 parity with v2.4.1",
      "pattern": "__version__ = \"2.4.1\"  # v2.4.1: Added TradingAgents architecture verify, diagnostic summary box, trigger conditions analysis",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.259469",
      "auto_generated": true
    },
    {
      "id": "f3a3b60fb11f",
      "commit": "9850f7b",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "feat(diagnostics): Complete v11.14 parity with v2.4.1",
      "pattern": "print(f\"      equity:             ${ac.get('equity', 0):,.2f}\")",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.281480",
      "auto_generated": true
    },
    {
      "id": "8433c8b2d589",
      "commit": "9850f7b",
      "file": "scripts/diagnostics/architecture_verify.py",
      "message": "feat(diagnostics): Complete v11.14 parity with v2.4.1",
      "pattern": "from typing import Dict, Optional",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:07.303503",
      "auto_generated": true
    },
    {
      "id": "3895732b6835",
      "commit": "9850f7b",
      "file": "scripts/diagnostics/base.py",
      "message": "feat(diagnostics): Complete v11.14 parity with v2.4.1",
      "pattern": "orderbook_report: Optional[Dict] = None  # v3.7: Order book depth data",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.324799",
      "auto_generated": true
    },
    {
      "id": "978ffd4ab206",
      "commit": "9850f7b",
      "file": "scripts/diagnostics/summary.py",
      "message": "feat(diagnostics): Complete v11.14 parity with v2.4.1",
      "pattern": "_analyze_trigger_conditions",
      "pattern_type": "function_exists",
      "created": "2026-02-06T02:38:07.345460",
      "auto_generated": true
    },
    {
      "id": "e36ab5536f03",
      "commit": "de5ff56",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Complete position/account field coverage in diagnostic scripts (v2.3)",
      "pattern": "- Account å­—æ®µåç§°ä¿®æ­£: max_usdt â†’ max_position_value, remaining_capacity â†’ available_capacity",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.382048",
      "auto_generated": true
    },
    {
      "id": "b541d0105468",
      "commit": "de5ff56",
      "file": "scripts/diagnostics/__init__.py",
      "message": "fix: Complete position/account field coverage in diagnostic scripts (v2.3)",
      "pattern": "__version__ = \"2.3.0\"  # v4.8.1: Complete position/account field coverage",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.402878",
      "auto_generated": true
    },
    {
      "id": "6179d4fec30c",
      "commit": "de5ff56",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix: Complete position/account field coverage in diagnostic scripts (v2.3)",
      "pattern": "print(f\"     max_position_value: ${max_usdt:,.2f}\")",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.423687",
      "auto_generated": true
    },
    {
      "id": "e0b617c5d3ed",
      "commit": "de5ff56",
      "file": "scripts/diagnostics/position_check.py",
      "message": "fix: Complete position/account field coverage in diagnostic scripts (v2.3)",
      "pattern": "if unrealized_pnl == 0 and entry_price > 0 and current_price > 0:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.444790",
      "auto_generated": true
    },
    {
      "id": "f2ce2b8d8012",
      "commit": "de5ff56",
      "file": "scripts/diagnostics/summary.py",
      "message": "fix: Complete position/account field coverage in diagnostic scripts (v2.3)",
      "pattern": "max_position_value = ctx.get('max_position_value', 0)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.465456",
      "auto_generated": true
    },
    {
      "id": "6618bbb8b910",
      "commit": "72ab7e0",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix: Use Binance 8h funding rate instead of Coinalyze (v2.2)",
      "pattern": "- Funding Rate ç»Ÿä¸€ä½¿ç”¨ Binance 8h èµ„é‡‘è´¹ç‡ (ä¸å†ä½¿ç”¨ Coinalyze)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.505319",
      "auto_generated": true
    },
    {
      "id": "78313d1dc76c",
      "commit": "72ab7e0",
      "file": "scripts/diagnostics/__init__.py",
      "message": "fix: Use Binance 8h funding rate instead of Coinalyze (v2.2)",
      "pattern": "__version__ = \"2.2.0\"",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.525661",
      "auto_generated": true
    },
    {
      "id": "5a90f1d3717f",
      "commit": "72ab7e0",
      "file": "scripts/diagnostics/base.py",
      "message": "fix: Use Binance 8h funding rate instead of Coinalyze (v2.2)",
      "pattern": "binance_funding_rate: Optional[Dict] = None  # v4.8: Binance 8h funding rate (ä¸»è¦æ•°æ®æº)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.546659",
      "auto_generated": true
    },
    {
      "id": "93da642f47f7",
      "commit": "72ab7e0",
      "file": "scripts/diagnostics/mtf_components.py",
      "message": "fix: Use Binance 8h funding rate instead of Coinalyze (v2.2)",
      "pattern": "self.ctx.binance_funding_rate = binance_fr",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.567123",
      "auto_generated": true
    },
    {
      "id": "3bbf5a874a4b",
      "commit": "72ab7e0",
      "file": "scripts/diagnostics/summary.py",
      "message": "fix: Use Binance 8h funding rate instead of Coinalyze (v2.2)",
      "pattern": "if not self.ctx.derivatives_report and not self.ctx.binance_funding_rate:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.589986",
      "auto_generated": true
    },
    {
      "id": "e3918ebfd571",
      "commit": "ca4358b",
      "file": "scripts/diagnose_v47_integration.py",
      "message": "fix: Correct strategy class name in diagnostic script (DeepSeekAIStrategy)",
      "pattern": "from strategy.deepseek_strategy import DeepSeekAIStrategy",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:07.643723",
      "auto_generated": true
    },
    {
      "id": "0d448125d398",
      "commit": "c8db2e7",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix: Complete v4.7 integration across all consumers (Telegram, diagnostics, logging)",
      "pattern": "account_context=self.ctx.account_context,  # v4.7",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.683198",
      "auto_generated": true
    },
    {
      "id": "87287c10c4e5",
      "commit": "c8db2e7",
      "file": "scripts/diagnostics/base.py",
      "message": "fix: Complete v4.7 integration across all consumers (Telegram, diagnostics, logging)",
      "pattern": "account_context: Dict = field(default_factory=dict)  # v4.7: Portfolio risk fields",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.703669",
      "auto_generated": true
    },
    {
      "id": "2cc3536b2a19",
      "commit": "c8db2e7",
      "file": "scripts/diagnostics/position_check.py",
      "message": "fix: Complete v4.7 integration across all consumers (Telegram, diagnostics, logging)",
      "pattern": "leverage = 5  # Default leverage, could be fetched from config",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.724011",
      "auto_generated": true
    },
    {
      "id": "ff23abf34284",
      "commit": "c8db2e7",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: Complete v4.7 integration across all consumers (Telegram, diagnostics, logging)",
      "pattern": "liq_buffer = current_position.get('liquidation_buffer_pct')",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.748079",
      "auto_generated": true
    },
    {
      "id": "275fba347798",
      "commit": "c8db2e7",
      "file": "utils/telegram_bot.py",
      "message": "fix: Complete v4.7 integration across all consumers (Telegram, diagnostics, logging)",
      "pattern": "liq_buffer_min = status_info.get('liquidation_buffer_portfolio_min_pct')",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.769175",
      "auto_generated": true
    },
    {
      "id": "43205ef0c8cd",
      "commit": "a9dc7fc",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix: Prevent ReduceOnly order rejection and heartbeat state inconsistency (v4.4)",
      "pattern": "if signal_status_heartbeat and not position_side:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.811012",
      "auto_generated": true
    },
    {
      "id": "d06a9254def4",
      "commit": "5532a9d",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(v3.8): Fix S/R zone data not displaying in Telegram messages",
      "pattern": "nearest_sup = self.latest_sr_zones_data.get('nearest_support')",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:07.902143",
      "auto_generated": true
    },
    {
      "id": "472da6719e98",
      "commit": "7a17af1",
      "file": "utils/telegram_command_handler.py",
      "message": "fix(telegram): Remove specific group command clearing (not needed)",
      "pattern": "from telegram import BotCommand, BotCommandScopeAllPrivateChats, BotCommandScopeAllGroupChats, BotCommandScopeDefault",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:07.938908",
      "auto_generated": true
    },
    {
      "id": "0a452b67f154",
      "commit": "075d2eb",
      "file": "utils/telegram_command_handler.py",
      "message": "fix(telegram): Clear commands for specific @AlgVex group",
      "pattern": "from telegram import BotCommand, BotCommandScopeAllPrivateChats, BotCommandScopeAllGroupChats, BotCommandScopeDefault, BotCommandScopeChat",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:07.976288",
      "auto_generated": true
    },
    {
      "id": "4fc21c7223d6",
      "commit": "600c4eb",
      "file": "utils/telegram_command_handler.py",
      "message": "fix(telegram): Clear default scope to remove commands from groups",
      "pattern": "from telegram import BotCommand, BotCommandScopeAllPrivateChats, BotCommandScopeAllGroupChats, BotCommandScopeDefault",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.015352",
      "auto_generated": true
    },
    {
      "id": "b4a37d73afd6",
      "commit": "cb8ebba",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(v3.13): Fix /history command and localize all commands to Chinese",
      "pattern": "from datetime import datetime",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.055975",
      "auto_generated": true
    },
    {
      "id": "db7b6d64be9d",
      "commit": "cb8ebba",
      "file": "utils/binance_account.py",
      "message": "fix(v3.13): Fix /history command and localize all commands to Chinese",
      "pattern": "get_trades",
      "pattern_type": "function_exists",
      "created": "2026-02-06T02:38:08.073545",
      "auto_generated": true
    },
    {
      "id": "3bfff5d1bd42",
      "commit": "cb8ebba",
      "file": "utils/telegram_bot.py",
      "message": "fix(v3.13): Fix /history command and localize all commands to Chinese",
      "pattern": "msg += \"â€¢ `/history` - æŸ¥çœ‹äº¤æ˜“è®°å½•\\n\"",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.095061",
      "auto_generated": true
    },
    {
      "id": "8f0e60499078",
      "commit": "cb8ebba",
      "file": "utils/telegram_command_handler.py",
      "message": "fix(v3.13): Fix /history command and localize all commands to Chinese",
      "pattern": "BotCommand(\"weekly\", \"æŸ¥çœ‹å‘¨æŠ¥\"),",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.114672",
      "auto_generated": true
    },
    {
      "id": "6c74bd19bb10",
      "commit": "63c6cac",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(v3.13): Fix timer_count attribute error in daily summary",
      "pattern": "timer_count = getattr(self, '_timer_count', 0)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.153227",
      "auto_generated": true
    },
    {
      "id": "fe838f70684f",
      "commit": "b6ff77f",
      "file": "scripts/diagnose_telegram_full.py",
      "message": "fix(diagnostics): Fix BinanceAccountFetcher class name in diagnostic script",
      "pattern": "from utils.binance_account import BinanceAccountFetcher",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.191410",
      "auto_generated": true
    },
    {
      "id": "822c1ee74937",
      "commit": "0d2c69d",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(v3.13): Telegram notification system alignment",
      "pattern": "self.telegram_notify_trailing_stop = config.telegram_notify_trailing_stop",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.234794",
      "auto_generated": true
    },
    {
      "id": "91e462af3e30",
      "commit": "0d2c69d",
      "file": "utils/telegram_bot.py",
      "message": "fix(v3.13): Telegram notification system alignment",
      "pattern": "format_shutdown_message",
      "pattern_type": "function_exists",
      "created": "2026-02-06T02:38:08.257076",
      "auto_generated": true
    },
    {
      "id": "b3260588dfab",
      "commit": "6c676b3",
      "file": "scripts/diagnose_memory.py",
      "message": "feat(diagnostics): Add memory system diagnosis script",
      "pattern": "import sys",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.292959",
      "auto_generated": true
    },
    {
      "id": "6bf4cd53793e",
      "commit": "a4a05e3",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(v3.13): Memory system pnl=0.0 and TradingAgents-style SL validation",
      "pattern": "- Highlight if price is overextended from key support/resistance levels",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.331891",
      "auto_generated": true
    },
    {
      "id": "8bcf614daea8",
      "commit": "a4a05e3",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(v3.13): Memory system pnl=0.0 and TradingAgents-style SL validation",
      "pattern": "pnl = event.realized_pnl.as_double() if hasattr(event.realized_pnl, 'as_double') else float(event.realized_pnl)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.355691",
      "auto_generated": true
    },
    {
      "id": "a6ac34d679fc",
      "commit": "a4a05e3",
      "file": "strategy/trading_logic.py",
      "message": "fix(v3.13): Memory system pnl=0.0 and TradingAgents-style SL validation",
      "pattern": "if warnings:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.374529",
      "auto_generated": true
    },
    {
      "id": "ea145ee52392",
      "commit": "496d40f",
      "file": "scripts/diagnostics/indicator_test.py",
      "message": "fix(diagnostics): Correct AI data description (v3.8+ S/R Zone)",
      "pattern": "print(\"  ğŸ“ v3.8+: AI æ¥æ”¶åŸå§‹æŒ‡æ ‡ + S/R Zone v2.0 (åŠ¨æ€è®¡ç®—)ï¼Œä¸æ¥æ”¶é¢„è®¡ç®—çš„ trend æ ‡ç­¾\")",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.412198",
      "auto_generated": true
    },
    {
      "id": "e95bc7fb745b",
      "commit": "d2d9656",
      "file": "scripts/diagnostics/config_checker.py",
      "message": "fix(diagnostics): Load dotenv early in MTFConfigChecker",
      "pattern": "from dotenv import load_dotenv",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.450302",
      "auto_generated": true
    },
    {
      "id": "964053afc6d7",
      "commit": "f0f317c",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix(diagnostics): Fix OrderFlowProcessor usage and step count",
      "pattern": "processor = OrderFlowProcessor(logger=None)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.486931",
      "auto_generated": true
    },
    {
      "id": "573a68684946",
      "commit": "f0f317c",
      "file": "scripts/diagnostics/base.py",
      "message": "fix(diagnostics): Fix OrderFlowProcessor usage and step count",
      "pattern": "total_steps: int = 19  # 17 main steps + 2 summary steps",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.507846",
      "auto_generated": true
    },
    {
      "id": "d258a2f36866",
      "commit": "f0f317c",
      "file": "scripts/diagnostics/mtf_components.py",
      "message": "fix(diagnostics): Fix OrderFlowProcessor usage and step count",
      "pattern": "print(f\"     âœ… process_klines: buy_ratio={result.get('buy_ratio', 0):.4f}\")",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.527715",
      "auto_generated": true
    },
    {
      "id": "4eeef9b7630b",
      "commit": "bc6e41d",
      "file": "scripts/diagnostics/mtf_components.py",
      "message": "fix(diagnostics): Fix OrderFlowProcessor init signature",
      "pattern": "processor = OrderFlowProcessor(logger=None)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.566411",
      "auto_generated": true
    },
    {
      "id": "9e8faa140e82",
      "commit": "2a51e4c",
      "file": "scripts/diagnostics/config_checker.py",
      "message": "fix(diagnostics): Never skip StrategyConfigLoader in summary mode",
      "pattern": "# Never skip - all other steps depend on strategy_config",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.606747",
      "auto_generated": true
    },
    {
      "id": "3809cf758a8e",
      "commit": "3e173c5",
      "file": "scripts/diagnose_realtime.py",
      "message": "refactor(diagnostics): Modularize diagnose_realtime.py (v2.0)",
      "pattern": "import argparse",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.650533",
      "auto_generated": true
    },
    {
      "id": "fcd2a7ccbc1d",
      "commit": "3e173c5",
      "file": "scripts/diagnostics/__init__.py",
      "message": "refactor(diagnostics): Modularize diagnose_realtime.py (v2.0)",
      "pattern": "from scripts.diagnostics import DiagnosticRunner",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.667809",
      "auto_generated": true
    },
    {
      "id": "649d8a5ae943",
      "commit": "3e173c5",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "refactor(diagnostics): Modularize diagnose_realtime.py (v2.0)",
      "pattern": "from typing import Any, Dict, Optional",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.685647",
      "auto_generated": true
    },
    {
      "id": "42df67ccf600",
      "commit": "3e173c5",
      "file": "scripts/diagnostics/base.py",
      "message": "refactor(diagnostics): Modularize diagnose_realtime.py (v2.0)",
      "pattern": "import io",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.703640",
      "auto_generated": true
    },
    {
      "id": "e612cd64fbea",
      "commit": "3e173c5",
      "file": "scripts/diagnostics/config_checker.py",
      "message": "refactor(diagnostics): Modularize diagnose_realtime.py (v2.0)",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.722246",
      "auto_generated": true
    },
    {
      "id": "6c32c720453b",
      "commit": "3e173c5",
      "file": "scripts/diagnostics/indicator_test.py",
      "message": "refactor(diagnostics): Modularize diagnose_realtime.py (v2.0)",
      "pattern": "from decimal import Decimal",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.742506",
      "auto_generated": true
    },
    {
      "id": "ebe9b8ebdfec",
      "commit": "3e173c5",
      "file": "scripts/diagnostics/market_data.py",
      "message": "refactor(diagnostics): Modularize diagnose_realtime.py (v2.0)",
      "pattern": "from datetime import datetime",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.761529",
      "auto_generated": true
    },
    {
      "id": "cf9bc59c9207",
      "commit": "3e173c5",
      "file": "scripts/diagnostics/mtf_components.py",
      "message": "refactor(diagnostics): Modularize diagnose_realtime.py (v2.0)",
      "pattern": "import os",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.779624",
      "auto_generated": true
    },
    {
      "id": "5eb9f908caec",
      "commit": "3e173c5",
      "file": "scripts/diagnostics/position_check.py",
      "message": "refactor(diagnostics): Modularize diagnose_realtime.py (v2.0)",
      "pattern": "from typing import Dict, Optional",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.797629",
      "auto_generated": true
    },
    {
      "id": "d558de7e24d2",
      "commit": "3e173c5",
      "file": "scripts/diagnostics/summary.py",
      "message": "refactor(diagnostics): Modularize diagnose_realtime.py (v2.0)",
      "pattern": "from typing import Dict, List, Optional",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.816907",
      "auto_generated": true
    },
    {
      "id": "145a261e78b0",
      "commit": "2630160",
      "file": "strategy/deepseek_strategy.py",
      "message": "feat(telegram): Improve message system with SL/TP and S/R Zone display (v4.2)",
      "pattern": "if pos_data and pos_data.get('quantity', 0) != 0:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.852670",
      "auto_generated": true
    },
    {
      "id": "054f01e6dead",
      "commit": "2630160",
      "file": "utils/telegram_bot.py",
      "message": "feat(telegram): Improve message system with SL/TP and S/R Zone display (v4.2)",
      "pattern": "if action == \"CLOSED\":",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.869231",
      "auto_generated": true
    },
    {
      "id": "61cc775243a3",
      "commit": "a4fbe84",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(multi-agent): Ensure numeric types for float formatters to prevent 'Unknown format code f' error",
      "pattern": "_safe_float",
      "pattern_type": "function_exists",
      "created": "2026-02-06T02:38:08.903853",
      "auto_generated": true
    },
    {
      "id": "d7c64c3e6b7d",
      "commit": "1f816f1",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnose): Support multiple position sizing methods (hybrid_atr_ai)",
      "pattern": "method = calc_details.get('method', 'unknown')",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:08.941259",
      "auto_generated": true
    },
    {
      "id": "7cae9dced019",
      "commit": "a422173",
      "file": "scripts/diagnose_realtime.py",
      "message": "fix(diagnose): Update diagnose_realtime.py for S/R Zone v2.0 compatibility",
      "pattern": "from utils.sr_zone_calculator import SRZoneCalculator, SRLevel, SRSourceType",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:08.977518",
      "auto_generated": true
    },
    {
      "id": "ad4215863cb8",
      "commit": "111712e",
      "file": "scripts/diagnose_position_management.py",
      "message": "fix(test): Correct calculate_position_size parameter name (config vs position_config)",
      "pattern": "_calc_position_size_wrapper",
      "pattern_type": "function_exists",
      "created": "2026-02-06T02:38:09.008965",
      "auto_generated": true
    },
    {
      "id": "a58d8742cc66",
      "commit": "674f7c6",
      "file": "scripts/diagnose_position_management.py",
      "message": "fix(risk): Handle zero/negative price and equity in ATR position sizing",
      "pattern": "import sys",
      "pattern_type": "import",
      "created": "2026-02-06T02:38:09.040087",
      "auto_generated": true
    },
    {
      "id": "90738ee59f4a",
      "commit": "674f7c6",
      "file": "utils/risk_controller.py",
      "message": "fix(risk): Handle zero/negative price and equity in ATR position sizing",
      "pattern": "# Guard against invalid inputs - return zero position with details",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:09.055645",
      "auto_generated": true
    },
    {
      "id": "32c83cd1d3d0",
      "commit": "d9b523c",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(signal): Ensure LONG/SHORT compatibility throughout codebase",
      "pattern": "decision = legacy_mapping.get(signal, signal)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:09.089517",
      "auto_generated": true
    },
    {
      "id": "ac4d213da2ef",
      "commit": "d9b523c",
      "file": "strategy/trading_logic.py",
      "message": "fix(signal): Ensure LONG/SHORT compatibility throughout codebase",
      "pattern": "if is_long:",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:09.106206",
      "auto_generated": true
    },
    {
      "id": "ef93e272ea34",
      "commit": "d9b523c",
      "file": "utils/telegram_bot.py",
      "message": "fix(signal): Ensure LONG/SHORT compatibility throughout codebase",
      "pattern": "signal_cn = signal_cn_map.get(signal, signal)",
      "pattern_type": "contains",
      "created": "2026-02-06T02:38:09.123228",
      "auto_generated": true
    },
    {
      "id": "8318cc363aef",
      "commit": "88fb8e2",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(sr-zones): Fix swing classification, add ADX regime-aware trading",
      "pattern": "- ADX(14): {safe_get('adx'):.1f} ({data.get('adx_regime', 'N/A')})",
      "pattern_type": "contains",
      "created": "2026-02-06T11:03:33.827195",
      "auto_generated": true
    },
    {
      "id": "d024c91d1670",
      "commit": "88fb8e2",
      "file": "indicators/technical_manager.py",
      "message": "fix(sr-zones): Fix swing classification, add ADX regime-aware trading",
      "pattern": "_calculate_adx",
      "pattern_type": "function_exists",
      "created": "2026-02-06T11:03:33.847743",
      "auto_generated": true
    },
    {
      "id": "c8c2ace3a702",
      "commit": "88fb8e2",
      "file": "scripts/diagnose_sr_zones.py",
      "message": "fix(sr-zones): Fix swing classification, add ADX regime-aware trading",
      "pattern": "if sr_with_wall['success'] and sr_with_wall.get('tech_data'):",
      "pattern_type": "contains",
      "created": "2026-02-06T11:03:33.870264",
      "auto_generated": true
    },
    {
      "id": "a1456aaf6679",
      "commit": "88fb8e2",
      "file": "utils/sr_zone_calculator.py",
      "message": "fix(sr-zones): Fix swing classification, add ADX regime-aware trading",
      "pattern": "side='resistance',",
      "pattern_type": "contains",
      "created": "2026-02-06T11:03:33.891336",
      "auto_generated": true
    },
    {
      "id": "3e67dd4e2f51",
      "commit": "09f23c6",
      "file": "utils/sr_zone_calculator.py",
      "message": "fix(sr-zones): Change touch counting to discrete touches (consecutive bars = 1)",
      "pattern": "if in_zone and not was_in_zone:",
      "pattern_type": "contains",
      "created": "2026-02-06T11:03:33.928780",
      "auto_generated": true
    },
    {
      "id": "5fc06e6439b2",
      "commit": "d452126",
      "file": "agents/multi_agent_analyzer.py",
      "message": "feat(sr-zones): Implement v3.0 S/R calculation with Swing Point, ATR clustering, and Touch Count",
      "pattern": "sr_zones_config: Optional[Dict] = None,  # v3.0: S/R Zone config from base.yaml",
      "pattern_type": "contains",
      "created": "2026-02-06T11:03:33.969755",
      "auto_generated": true
    },
    {
      "id": "2a941dab1641",
      "commit": "d452126",
      "file": "main_live.py",
      "message": "feat(sr-zones): Implement v3.0 S/R calculation with Swing Point, ATR clustering, and Touch Count",
      "pattern": "# v3.0: S/R Zone Calculator config (passed as dict to MultiAgentAnalyzer)",
      "pattern_type": "contains",
      "created": "2026-02-06T11:03:33.988744",
      "auto_generated": true
    },
    {
      "id": "1547ce3cc80d",
      "commit": "d452126",
      "file": "scripts/diagnose_sr_zones.py",
      "message": "feat(sr-zones): Implement v3.0 S/R calculation with Swing Point, ATR clustering, and Touch Count",
      "pattern": "from utils.config_manager import ConfigManager",
      "pattern_type": "import",
      "created": "2026-02-06T11:03:34.012532",
      "auto_generated": true
    },
    {
      "id": "f66b93ff9a5b",
      "commit": "d452126",
      "file": "strategy/deepseek_strategy.py",
      "message": "feat(sr-zones): Implement v3.0 S/R calculation with Swing Point, ATR clustering, and Touch Count",
      "pattern": "# v3.0: S/R Zone Calculator config (from configs/base.yaml sr_zones section)",
      "pattern_type": "contains",
      "created": "2026-02-06T11:03:34.040502",
      "auto_generated": true
    },
    {
      "id": "92104a7b17b0",
      "commit": "d452126",
      "file": "utils/sr_zone_calculator.py",
      "message": "feat(sr-zones): Implement v3.0 S/R calculation with Swing Point, ATR clustering, and Touch Count",
      "pattern": "from typing import List, Dict, Any, Optional, Tuple",
      "pattern_type": "import",
      "created": "2026-02-06T11:03:34.061034",
      "auto_generated": true
    },
    {
      "id": "95134574659c",
      "commit": "2ff4d9d",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(telegram): Fix 7 bugs + add funding trend, liquidations, trailing stop status",
      "pattern": "if funding_history and len(funding_history) >= 3:",
      "pattern_type": "contains",
      "created": "2026-02-06T23:52:49.474493",
      "auto_generated": true
    },
    {
      "id": "039fa0052695",
      "commit": "2ff4d9d",
      "file": "utils/telegram_bot.py",
      "message": "fix(telegram): Fix 7 bugs + add funding trend, liquidations, trailing stop status",
      "pattern": "trailing_activated = heartbeat_data.get('trailing_activated', False)",
      "pattern_type": "contains",
      "created": "2026-02-06T23:52:49.478235",
      "auto_generated": true
    },
    {
      "id": "13c1d9bb2356",
      "commit": "4688391",
      "file": "main_live.py",
      "message": "fix(binance): Add server time sync to prevent -1021 timestamp errors + real-time price for heartbeat",
      "pattern": "get_binance_config",
      "pattern_type": "function_exists",
      "created": "2026-02-06T23:52:49.484387",
      "auto_generated": true
    },
    {
      "id": "99e5a8f99437",
      "commit": "4688391",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(binance): Add server time sync to prevent -1021 timestamp errors + real-time price for heartbeat",
      "pattern": "if hasattr(self, 'binance_account') and self.binance_account:",
      "pattern_type": "contains",
      "created": "2026-02-06T23:52:49.489268",
      "auto_generated": true
    },
    {
      "id": "3c10dbf05a09",
      "commit": "4688391",
      "file": "utils/binance_account.py",
      "message": "fix(binance): Add server time sync to prevent -1021 timestamp errors + real-time price for heartbeat",
      "pattern": "_sync_server_time",
      "pattern_type": "function_exists",
      "created": "2026-02-06T23:52:49.492255",
      "auto_generated": true
    },
    {
      "id": "e3b01ec201da",
      "commit": "32c52f5",
      "file": "strategy/deepseek_strategy.py",
      "message": "feat(telegram): Complete redesign of Telegram messaging system (v3.0)",
      "pattern": "'adx': tech_data.get('adx'),",
      "pattern_type": "contains",
      "created": "2026-02-06T23:52:49.500635",
      "auto_generated": true
    },
    {
      "id": "c781a654e204",
      "commit": "32c52f5",
      "file": "utils/telegram_bot.py",
      "message": "feat(telegram): Complete redesign of Telegram messaging system (v3.0)",
      "pattern": "_bar",
      "pattern_type": "function_exists",
      "created": "2026-02-06T23:52:49.506212",
      "auto_generated": true
    },
    {
      "id": "36d51cdba8f3",
      "commit": "a63a09e",
      "file": "utils/telegram_bot.py",
      "message": "fix(telegram): Fix 5 bugs in heartbeat message display",
      "pattern": "if nearest_support is not None and nearest_support < current_price:",
      "pattern_type": "contains",
      "created": "2026-02-06T23:52:49.512705",
      "auto_generated": true
    },
    {
      "id": "fc70bcb8fa91",
      "commit": "f941f2e",
      "file": "scripts/diagnose_realtime.py",
      "message": "feat(diagnostics): Rewrite diagnostic system for 100% live consistency (v3.0.0)",
      "pattern": "# Phase 5.5: Architecture Verification (live data completeness check)",
      "pattern_type": "contains",
      "created": "2026-02-06T23:52:49.518356",
      "auto_generated": true
    },
    {
      "id": "c2ae12eaf702",
      "commit": "f941f2e",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "feat(diagnostics): Rewrite diagnostic system for 100% live consistency (v3.0.0)",
      "pattern": "import time",
      "pattern_type": "import",
      "created": "2026-02-06T23:52:49.522332",
      "auto_generated": true
    },
    {
      "id": "66292d98b2ad",
      "commit": "f941f2e",
      "file": "scripts/diagnostics/architecture_verify.py",
      "message": "feat(diagnostics): Rewrite diagnostic system for 100% live consistency (v3.0.0)",
      "pattern": "_verify_data_completeness",
      "pattern_type": "function_exists",
      "created": "2026-02-06T23:52:49.525445",
      "auto_generated": true
    },
    {
      "id": "598ac545b354",
      "commit": "f941f2e",
      "file": "scripts/diagnostics/base.py",
      "message": "feat(diagnostics): Rewrite diagnostic system for 100% live consistency (v3.0.0)",
      "pattern": "import time",
      "pattern_type": "import",
      "created": "2026-02-06T23:52:49.528348",
      "auto_generated": true
    },
    {
      "id": "561b41c1576a",
      "commit": "f941f2e",
      "file": "scripts/diagnostics/summary.py",
      "message": "feat(diagnostics): Rewrite diagnostic system for 100% live consistency (v3.0.0)",
      "pattern": "invalidation = sd.get('invalidation', '')",
      "pattern_type": "contains",
      "created": "2026-02-06T23:52:49.531291",
      "auto_generated": true
    },
    {
      "id": "263644f55c95",
      "commit": "91b46c3",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(ai-data): Add CVD Trend to order flow + expand Judge key_metrics (v3.24)",
      "pattern": "di_plus = technical_data.get('di_plus')",
      "pattern_type": "contains",
      "created": "2026-02-06T23:52:49.537674",
      "auto_generated": true
    },
    {
      "id": "08d53d78c7f0",
      "commit": "b1bd611",
      "file": "scripts/diagnostics/base.py",
      "message": "fix(diagnostics): sync diagnostic scripts with latest system code",
      "pattern": "total_steps: int = 31  # 28 data steps + 3 order flow simulation steps",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:32.686413",
      "auto_generated": true
    },
    {
      "id": "bb08aba049d8",
      "commit": "b1bd611",
      "file": "scripts/diagnostics/config_checker.py",
      "message": "fix(diagnostics): sync diagnostic scripts with latest system code",
      "pattern": "if 'def get_min_sl_distance_pct' not in content:",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:32.701514",
      "auto_generated": true
    },
    {
      "id": "3365f9652603",
      "commit": "b1bd611",
      "file": "scripts/diagnostics/mtf_components.py",
      "message": "fix(diagnostics): sync diagnostic scripts with latest system code",
      "pattern": "print(\"        (åŒ…æ‹¬: SL æ–¹å‘é”™è¯¯, è·ç¦»ä¸è¶³, R/R < 1.5:1)\")",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:32.716167",
      "auto_generated": true
    },
    {
      "id": "4694e54e8908",
      "commit": "b6847cf",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix(trading): add R/R hard gate in validate_multiagent_sltp + heartbeat signal label",
      "pattern": "from strategy.trading_logic import get_min_rr_ratio",
      "pattern_type": "import",
      "created": "2026-02-07T06:52:32.763237",
      "auto_generated": true
    },
    {
      "id": "6e15ed6d0d72",
      "commit": "b6847cf",
      "file": "scripts/diagnostics/order_flow_simulation.py",
      "message": "fix(trading): add R/R hard gate in validate_multiagent_sltp + heartbeat signal label",
      "pattern": "print(\"  â”‚    â”‚   â””â”€ R/R >= 1.5:1 ç¡¬æ€§é—¨æ§›                             â”‚\")",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:32.779837",
      "auto_generated": true
    },
    {
      "id": "246b60e3eef1",
      "commit": "b6847cf",
      "file": "scripts/diagnostics/summary.py",
      "message": "fix(trading): add R/R hard gate in validate_multiagent_sltp + heartbeat signal label",
      "pattern": "print(f\"  å…¥åœºæ ‡å‡†: R/R >= 1.5:1 ç¡¬æ€§é—¨æ§› (validate_multiagent_sltp å¼ºåˆ¶æ‰§è¡Œ)\")",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:32.795604",
      "auto_generated": true
    },
    {
      "id": "d6cad2dbca6c",
      "commit": "b6847cf",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(trading): add R/R hard gate in validate_multiagent_sltp + heartbeat signal label",
      "pattern": "signal_is_stale = signal != 'PENDING'  # PENDING = no previous analysis yet",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:32.823363",
      "auto_generated": true
    },
    {
      "id": "642e937c79e7",
      "commit": "b6847cf",
      "file": "strategy/trading_logic.py",
      "message": "fix(trading): add R/R hard gate in validate_multiagent_sltp + heartbeat signal label",
      "pattern": "get_min_rr_ratio",
      "pattern_type": "function_exists",
      "created": "2026-02-07T06:52:32.840649",
      "auto_generated": true
    },
    {
      "id": "2a653dbfae9f",
      "commit": "b6847cf",
      "file": "utils/telegram_bot.py",
      "message": "fix(trading): add R/R hard gate in validate_multiagent_sltp + heartbeat signal label",
      "pattern": "signal_is_stale = heartbeat_data.get('signal_is_stale', False)",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:32.859149",
      "auto_generated": true
    },
    {
      "id": "d59e70206280",
      "commit": "7d5ed09",
      "file": "agents/multi_agent_analyzer.py",
      "message": "feat(diagnostics): add full AI call trace logging with per-call I/O export",
      "pattern": "get_call_trace",
      "pattern_type": "function_exists",
      "created": "2026-02-07T06:52:32.895317",
      "auto_generated": true
    },
    {
      "id": "71ea61902fd6",
      "commit": "7d5ed09",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "feat(diagnostics): add full AI call trace logging with per-call I/O export",
      "pattern": "_display_call_trace_summary",
      "pattern_type": "function_exists",
      "created": "2026-02-07T06:52:32.913816",
      "auto_generated": true
    },
    {
      "id": "2870af8be520",
      "commit": "7d5ed09",
      "file": "scripts/diagnostics/base.py",
      "message": "feat(diagnostics): add full AI call trace logging with per-call I/O export",
      "pattern": "_export_ai_call_trace",
      "pattern_type": "function_exists",
      "created": "2026-02-07T06:52:32.931549",
      "auto_generated": true
    },
    {
      "id": "f98a9e9c199a",
      "commit": "6902b8a",
      "file": "scripts/diagnose_all_data_sources.py",
      "message": "fix(funding-rate): update remaining diagnostic script labels",
      "pattern": "â”‚                        â”‚ lastFundingRate (=predicted) â”‚ value                       â”‚            â”‚",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:32.963022",
      "auto_generated": true
    },
    {
      "id": "1ba799a5dd5c",
      "commit": "6902b8a",
      "file": "scripts/diagnose_v47_integration.py",
      "message": "fix(funding-rate): update remaining diagnostic script labels",
      "pattern": "'funding_rate_current': 'å·²ç»“ç®—èµ„é‡‘è´¹ç‡',",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:32.982051",
      "auto_generated": true
    },
    {
      "id": "8f77c564e11e",
      "commit": "ad95b94",
      "file": "agents/multi_agent_analyzer.py",
      "message": "fix(funding-rate): correct semantics - lastFundingRate is predicted, not settled",
      "pattern": "settled_rate = float(funding.get('value', 0) or 0)",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.013599",
      "auto_generated": true
    },
    {
      "id": "42fbfdad0d18",
      "commit": "ad95b94",
      "file": "scripts/diagnostics/ai_decision.py",
      "message": "fix(funding-rate): correct semantics - lastFundingRate is predicted, not settled",
      "pattern": "print(f\"      [Binance FR] Settled: {bfr.get('funding_rate_pct', 0):.4f}% | Predicted: {bfr.get('predicted_rate_pct', 0):.4f}%\")",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.030216",
      "auto_generated": true
    },
    {
      "id": "24ac8903f8c2",
      "commit": "ad95b94",
      "file": "scripts/diagnostics/mtf_components.py",
      "message": "fix(funding-rate): correct semantics - lastFundingRate is predicted, not settled",
      "pattern": "print(f\"        âœ… Settled FR: {binance_fr.get('funding_rate_pct', 0):.4f}% | Predicted FR: {binance_fr.get('predicted_rate_pct', 0):.4f}%\")",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.046019",
      "auto_generated": true
    },
    {
      "id": "9442a465eb2a",
      "commit": "ad95b94",
      "file": "scripts/diagnostics/position_check.py",
      "message": "fix(funding-rate): correct semantics - lastFundingRate is predicted, not settled",
      "pattern": "print(f\"     å·²ç»“ç®—è´¹ç‡: {fr_pct:+.4f}%\")",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.068735",
      "auto_generated": true
    },
    {
      "id": "919f118a1164",
      "commit": "ad95b94",
      "file": "scripts/diagnostics/summary.py",
      "message": "fix(funding-rate): correct semantics - lastFundingRate is predicted, not settled",
      "pattern": "settled_pct = fr.get('funding_rate_pct', 0)",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.083587",
      "auto_generated": true
    },
    {
      "id": "206d49931bfa",
      "commit": "ad95b94",
      "file": "scripts/test_funding_rate.py",
      "message": "fix(funding-rate): correct semantics - lastFundingRate is predicted, not settled",
      "pattern": "import sys",
      "pattern_type": "import",
      "created": "2026-02-07T06:52:33.098851",
      "auto_generated": true
    },
    {
      "id": "3ad2b6fab886",
      "commit": "ad95b94",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(funding-rate): correct semantics - lastFundingRate is predicted, not settled",
      "pattern": "'funding_rate': binance_funding.get('funding_rate'),          # å·²ç»“ç®—è´¹ç‡",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.120666",
      "auto_generated": true
    },
    {
      "id": "ddd66b21e0d8",
      "commit": "ad95b94",
      "file": "utils/ai_data_assembler.py",
      "message": "fix(funding-rate): correct semantics - lastFundingRate is predicted, not settled",
      "pattern": "funding_pct = binance_funding['funding_rate_pct']     # å·²ç»“ç®— (%)",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.136414",
      "auto_generated": true
    },
    {
      "id": "c7b080d44153",
      "commit": "ad95b94",
      "file": "utils/binance_kline_client.py",
      "message": "fix(funding-rate): correct semantics - lastFundingRate is predicted, not settled",
      "pattern": "if response.status_code != 200:",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.152199",
      "auto_generated": true
    },
    {
      "id": "868e1dc055a6",
      "commit": "ad95b94",
      "file": "utils/telegram_bot.py",
      "message": "fix(funding-rate): correct semantics - lastFundingRate is predicted, not settled",
      "pattern": "funding_rate_pct = derivatives.get('funding_rate_pct')       # å·²ç»“ç®—è´¹ç‡",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.169118",
      "auto_generated": true
    },
    {
      "id": "60835c3d0f66",
      "commit": "fad776f",
      "file": "utils/binance_kline_client.py",
      "message": "fix(funding): Remove inaccurate local predicted funding rate calculation",
      "pattern": "\"premium_index\": 0.00051,         # å½“å‰ç¬æ—¶æº¢ä»·æŒ‡æ•°",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.219739",
      "auto_generated": true
    },
    {
      "id": "730e866c2e9b",
      "commit": "bde23ed",
      "file": "web/backend/services/performance_service.py",
      "message": "fix(deps): Replace empyrical with empyrical-reloaded for Python 3.12+ compatibility",
      "pattern": "logging.warning(\"empyrical not installed. Run: pip install empyrical-reloaded>=0.5.12\")",
      "pattern_type": "contains",
      "created": "2026-02-07T06:52:33.269071",
      "auto_generated": true
    },
    {
      "id": "1494c1486bdb",
      "commit": "2848b1e",
      "file": "utils/telegram_command_handler.py",
      "message": "fix(telegram): add error handling to cmd_menu + global error handler",
      "pattern": "self.logger.info(f\"âœ… Bot commands registered ({len(commands)} commands): {[c.command for c in commands]}\")",
      "pattern_type": "contains",
      "created": "2026-02-07T13:05:42.139418",
      "auto_generated": true
    },
    {
      "id": "ea6af891e157",
      "commit": "1af3da8",
      "file": "main_live.py",
      "message": "fix(telegram): send initializing notification before instrument loading",
      "pattern": "import requests",
      "pattern_type": "import",
      "created": "2026-02-07T13:05:42.201096",
      "auto_generated": true
    },
    {
      "id": "5dc0b3e7903d",
      "commit": "1af3da8",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(telegram): send initializing notification before instrument loading",
      "pattern": "# This ensures user gets notified even if instrument loading fails/takes long",
      "pattern_type": "contains",
      "created": "2026-02-07T13:05:42.235163",
      "auto_generated": true
    },
    {
      "id": "f623335fdfd1",
      "commit": "26b616c",
      "file": "main_live.py",
      "message": "fix(telegram): ensure startup/shutdown notifications are reliably sent",
      "pattern": "import signal",
      "pattern_type": "import",
      "created": "2026-02-07T13:05:42.275720",
      "auto_generated": true
    },
    {
      "id": "6592c0f25de0",
      "commit": "26b616c",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(telegram): ensure startup/shutdown notifications are reliably sent",
      "pattern": "self.telegram_bot.send_message_sync(startup_msg, use_queue=False)",
      "pattern_type": "contains",
      "created": "2026-02-07T13:05:42.302094",
      "auto_generated": true
    },
    {
      "id": "abbaf37145db",
      "commit": "acd8be2",
      "file": "strategy/deepseek_strategy.py",
      "message": "fix(trading): post-fill R/R validation + real-time entry price (v4.9)",
      "pattern": "from strategy.trading_logic import get_min_rr_ratio",
      "pattern_type": "import",
      "created": "2026-02-07T14:03:37.458476",
      "auto_generated": true
    }
  ],
  "metadata": {
    "created": "2026-01-25T11:38:00.517124",
    "updated": "2026-02-07T14:03:47.801861",
    "count": 400,
    "cleanup_note": "Removed 14 obsolete rules on 2026-01-26"
  }
}